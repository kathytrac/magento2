// https://raw.github.com/danro/easing-js - license info

// This code may be freely distributed under the MIT license

// http://danro.mit-license.org/

// Easing Equations (c) 2003 Robert Penner, BSD license

/*! jQuery v2.1.4 | (c) 2005, 2015 jQuery Foundation, Inc. | jquery.org/license */

/*! Select2 4.0.0 | https://github.com/select2/select2/blob/master/LICENSE.md */

(function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("ractive",t):e.Ractive=t()})(this,function(){"use strict";function E(e){var t;if(!e||typeof e=="boolean")return;if(typeof window=="undefined"||!document||!e)return null;if(e.nodeType)return e;if(typeof e=="string"){t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e));if(t&&t.nodeType)return t}return e[0]&&e[0].nodeType?e[0]:null}function S(e){return e&&typeof e.parentNode!="unknown"&&e.parentNode&&e.parentNode.removeChild(e),e}function x(e){return e==null||!e.toString?"":e}function D(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s;while(s=n.shift())for(i in s)H.call(s,i)&&(e[i]=s[i]);return e}function P(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&!(n in e)&&(e[n]=t[n])}),e}function F(e){return B.call(e)==="[object Array]"}function I(e){return j.test(B.call(e))}function q(e,t){return e===null&&t===null?!0:typeof e=="object"||typeof t=="object"?!1:e===t}function R(e){return!isNaN(parseFloat(e))&&isFinite(e)}function U(e){return e&&B.call(e)==="[object Object]"}function $(e,t){return e.replace(/%s/g,function(){return t.shift()})}function J(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw e=$(e,n),new Error(e)}function K(){Kw.DEBUG&&W.apply(null,arguments)}function Q(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=$(e,n),X(e,n)}function G(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=$(e,n);if(z[e])return;z[e]=!0,X(e,n)}function Y(){Kw.DEBUG&&Q.apply(null,arguments)}function Z(){Kw.DEBUG&&G.apply(null,arguments)}function rt(e,t,n){var r=it(e,t,n);return r?r[e][n]:null}function it(e,t,n){while(t){if(n in t[e])return t;if(t.isolated)return null;t=t.parent}}function ut(e){return function(){return e}}function ht(e){var t,n,r,i,s,o;t=e.split("."),(n=ct[t.length])||(n=pt(t.length)),s=[],r=function(e,n){return e?"*":t[n]},i=n.length;while(i--)o=n[i].map(r).join("."),s.hasOwnProperty(o)||(s.push(o),s[o]=!0);return s}function pt(e){var t="",n,r,i,s,o,u,a,f;if(!ct[e]){i=[];while(t.length<e)t+=1;n=parseInt(t,2),s=function(e){return e==="1"};for(o=0;o<=n;o+=1){r=o.toString(2);while(r.length<e)r="0"+r;f=[],a=r.length;for(u=0;u<a;u++)f.push(s(r[u]));i[o]=f}ct[e]=i}return ct[e]}function yt(e,t,n,r){var i=e[t];if(i&&(i.equalsOrStartsWith(r)||!i.equalsOrStartsWith(n)))return;return e[t]=i?i.replace(n,r):r,!0}function bt(e){var t=e.slice(2);return e[1]==="i"?R(t)?+t:t:t}function wt(e){return e==null?e:(mt.hasOwnProperty(e)||(mt[e]=new gt(e)),mt[e])}function Et(e,t){function s(t,n){var r,i,s;return n.isRoot?s=[].concat(Object.keys(e.viewmodel.data),Object.keys(e.viewmodel.mappings),Object.keys(e.viewmodel.computations)):(r=e.viewmodel.wrapped[n.str],i=r?r.get():e.viewmodel.get(n),s=i?Object.keys(i):null),s&&s.forEach(function(e){(e!=="_ractive"||!F(i))&&t.push(n.join(e))}),t}var n,r,i;n=t.str.split("."),i=[Tt];while(r=n.shift())r==="*"?i=i.reduce(s,[]):i[0]===Tt?i[0]=wt(r):i=i.map(St(r));return i}function St(e){return function(t){return t.join(e)}}function xt(e){return e?e.replace(dt,".$1"):""}function kt(e,t,n){if(typeof t!="string"||!R(n))throw new Error("Bad arguments");var r=undefined,i=undefined;if(/\*/.test(t))return i={},Et(e,wt(xt(t))).forEach(function(t){var r=e.viewmodel.get(t);if(!R(r))throw new Error(Ct);i[t.str]=r+n}),e.set(i);r=e.get(t);if(!R(r))throw new Error(Ct);return e.set(t,+r+n)}function At(e,t){return Nt(this,e,t===undefined?1:+t)}function Ht(e){this.event=e,this.method="on"+e,this.deprecate=Pt[e]}function jt(e,t){var n=e.indexOf(t);n===-1&&e.push(t)}function Ft(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return!0;return!1}function It(e,t){var n;if(!F(e)||!F(t))return!1;if(e.length!==t.length)return!1;n=e.length;while(n--)if(e[n]!==t[n])return!1;return!0}function qt(e){return typeof e=="string"?[e]:e===undefined?[]:e}function Rt(e){return e[e.length-1]}function Ut(e,t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}function zt(e){var t=[],n=e.length;while(n--)t[n]=e[n];return t}function Kt(e){setTimeout(e,0)}function Qt(e,t){return function(){var n;while(n=e.shift())n(t)}}function Gt(e,t,n,r){var i;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof Wt)t.then(n,r);else if(!t||typeof t!="object"&&typeof t!="function")n(t);else{try{i=t.then}catch(s){r(s);return}if(typeof i=="function"){var o,u,a;u=function(t){if(o)return;o=!0,Gt(e,t,n,r)},a=function(e){if(o)return;o=!0,r(e)};try{i.call(t,u,a)}catch(s){if(!o){r(s),o=!0;return}}}else n(t)}}function en(e,t,n){var r;return t=xt(t),t.substr(0,2)==="~/"?(r=wt(t.substring(2)),rn(e,r.firstKey,n)):t[0]==="."?(r=tn(Yt(n),t),r&&rn(e,r.firstKey,n)):r=nn(e,wt(t),n),r}function tn(e,t){var n;e!=undefined&&typeof e!="string"&&(e=e.str);if(t===".")return wt(e);n=e?e.split("."):[];if(t.substr(0,3)==="../"){while(t.substr(0,3)==="../"){if(!n.length)throw new Error('Could not resolve reference - too many "../" prefixes');n.pop(),t=t.substring(3)}return n.push(t),wt(n.join("."))}return e?wt(e+t.replace(/^\.\//,".")):wt(t.replace(/^\.\/?/,""))}function nn(e,t,n,r){var i,s,o,u,a;if(t.isRoot)return t;s=t.firstKey;while(n){i=n.context,n=n.parent;if(!i)continue;u=!0,o=e.viewmodel.get(i);if(o&&(typeof o=="object"||typeof o=="function")&&s in o)return i.join(t.str)}if(sn(e.viewmodel,s))return t;if(e.parent&&!e.isolated){u=!0,n=e.component.parentFragment,s=wt(s);if(a=nn(e.parent,s,n,!0))return e.viewmodel.map(s,{origin:e.parent.viewmodel,keypath:a}),t}if(!r&&!u)return e.viewmodel.set(t,undefined),t}function rn(e,t){var n;if(!e.parent||e.isolated||sn(e.viewmodel,t))return;t=wt(t),(n=nn(e.parent,t,e.component.parentFragment,!0))&&e.viewmodel.map(t,{origin:e.parent.viewmodel,keypath:n})}function sn(e,t){return t===""||t in e.data||t in e.computations||t in e.mappings}function on(e){e.teardown()}function un(e){e.unbind()}function an(e){e.unrender()}function fn(e){e.cancel()}function cn(e){e.detach()}function hn(e){e.detachNodes()}function pn(e){if(!e.ready||e.outros.length||e.outroChildren)return;e.outrosComplete||(e.parent?e.parent.decrementOutros(e):e.detachNodes(),e.outrosComplete=!0),!e.intros.length&&!e.totalChildren&&(typeof e.callback=="function"&&e.callback(),e.parent&&e.parent.decrementTotal())}function wn(){var e,t,n;while(vn.ractives.length)t=vn.ractives.pop(),n=t.viewmodel.applyChanges(),n&&yn.fire(t,n);En();for(e=0;e<vn.views.length;e+=1)vn.views[e].update();vn.views.length=0;for(e=0;e<vn.tasks.length;e+=1)vn.tasks[e]();vn.tasks.length=0;if(vn.ractives.length)return wn()}function En(){var e,t,n,r;e=gn.length;while(e--){t=gn[e];if(t.keypath){gn.splice(e,1);continue}if(n=Zt(t.root,t.ref,t.parentFragment))(r||(r=[])).push({item:t,keypath:n}),gn.splice(e,1)}r&&r.forEach(Sn)}function Sn(e){e.item.resolve(e.keypath)}function On(e,t,n){var r,i,s,o,u,a,f,l,c,h,p,d,v,m;r=new Jt(function(e){return i=e});if(typeof e=="object"){n=t||{},a=n.easing,f=n.duration,u=[],l=n.step,c=n.complete;if(l||c)p={},n.step=null,n.complete=null,h=function(e){return function(t,n){p[e]=n}};for(s in e)if(e.hasOwnProperty(s)){if(l||c)d=h(s),n={easing:a,duration:f},l&&(n.step=d);n.complete=c?d:T,u.push(Mn(this,s,e[s],n))}return m={easing:a,duration:f},l&&(m.step=function(e){return l(e,p)}),c&&r.then(function(e){return c(e,p)}),m.complete=i,v=Mn(this,null,null,m),u.push(v),r.stop=function(){var e;while(e=u.pop())e.stop();v&&v.stop()},r}return n=n||{},n.complete&&r.then(n.complete),n.complete=i,o=Mn(this,e,t,n),r.stop=function(){return o.stop()},r}function Mn(e,t,n,r){var i,s,o,u;return t&&(t=wt(xt(t))),t!==null&&(u=e.viewmodel.get(t)),Nn.abort(t,e),q(u,n)?(r.complete&&r.complete(r.to),An):(r.easing&&(typeof r.easing=="function"?i=r.easing:i=e.easing[r.easing],typeof i!="function"&&(i=null)),s=r.duration===undefined?400:r.duration,o=new kn({keypath:t,from:u,to:n,root:e,duration:s,easing:i,interpolator:r.interpolator,step:r.step,complete:r.complete}),Nn.add(o),e._animations.push(o),o)}function Pn(){return this.detached?this.detached:(this.el&&Ut(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Dn.fire(this),this.detached)}function Bn(e){return this.el?this.fragment.find(e):null}function Fn(e,t){var n;this._isComponentQuery?n=!this.selector||e.name===this.selector:n=e.node?p(e.node,this.selector):null;if(n)return this.push(e.node||e.instance),t||this._makeDirty(),!0}function Rn(e){var t;if(t=e.parentFragment)return t.owner;if(e.component&&(t=e.component.parentFragment))return t.owner}function Un(e){var t,n;t=[e],n=Rn(e);while(n)t.push(n),n=Rn(n);return t}function Jn(e,t,n,r){var i=[];return M(i,{selector:{value:t},live:{value:n},_isComponentQuery:{value:r},_test:{value:jn}}),n?(M(i,{cancel:{value:In},_root:{value:e},_sort:{value:Wn},_makeDirty:{value:Xn},_remove:{value:Vn},_dirty:{value:!1,writable:!0}}),i):i}function Qn(e,t){var n,r;return this.el?(t=t||{},n=this._liveQueries,(r=n[e])?t&&t.live?r:r.slice():(r=$n(this,e,!!t.live,!1),r.live&&(n.push(e),n["_"+e]=r),this.fragment.findAll(e,r),r)):[]}function Yn(e,t){var n,r;return t=t||{},n=this._liveComponentQueries,(r=n[e])?t&&t.live?r:r.slice():(r=$n(this,e,!!t.live,!0),r.live&&(n.push(e),n["_"+e]=r),this.fragment.findAllComponents(e,r),r)}function er(e){return this.fragment.findComponent(e)}function nr(e){return this.container?this.container.component&&this.container.component.name===e?this.container:this.container.findContainer(e):null}function ir(e){return this.parent?this.parent.component&&this.parent.component.name===e?this.parent:this.parent.findParent(e):null}function ar(e,t){var n=arguments[2]===undefined?{}:arguments[2];if(!t)return;n.event?n.event.name=t:n.event={name:t,_noArg:!0};var r=wt(t).wildcardMatches();fr(e,r,n.event,n.args,!0)}function fr(e,t,n,r){var i=arguments[4]===undefined?!1:arguments[4],s,o,u=!0;or.enqueue(e,n);for(o=t.length;o>=0;o--)s=e._subs[t[o]],s&&(u=lr(e,s,n,r)&&u);or.dequeue(e);if(e.parent&&u){if(i&&e.component){var a=e.component.name+"."+t[t.length-1];t=wt(a).wildcardMatches(),n&&(n.component=e)}fr(e.parent,t,n,r)}}function lr(e,t,n,r){var i=null,s=!1;n&&!n._noArg&&(r=[n].concat(r)),t=t.slice();for(var o=0,u=t.length;o<u;o+=1)t[o].apply(e,r)===!1&&(s=!0);return n&&!n._noArg&&s&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!s}function hr(e){var t={args:Array.prototype.slice.call(arguments,1)};ur(this,e,t)}function vr(e){var t;return e=wt(xt(e)),t=this.viewmodel.get(e,dr),t===undefined&&this.parent&&!this.isolated&&Zt(this,e.str,this.component.parentFragment)&&(t=this.viewmodel.get(e)),t}function yr(e,t){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");e=E(e),t=E(t)||null;if(!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),t),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,br(this)}function br(e){gr.fire(e),e.findAllComponents("*").forEach(function(e){br(e.instance)})}function Er(e,t,n){var r,i;return e=wt(xt(e)),r=this.viewmodel.get(e),!F(r)||!F(t)?this.set(e,t,n&&n.complete):(i=bn.start(this,!0),this.viewmodel.merge(e,r,t,n),bn.end(),i)}function Nr(e,t){var n,r;return n=Et(e,t),r={},n.forEach(function(t){r[t.str]=e.get(t.str)}),r}function Mr(e,t,n,r){var i,s,o;t=wt(xt(t)),r=r||Or,t.isPattern?(i=new Lr(e,t,n,r),e.viewmodel.patternObservers.push(i),s=!0):i=new xr(e,t,n,r),i.init(r.init),e.viewmodel.register(t,i,s?"patternObservers":"observers"),i.ready=!0;var u={cancel:function(){var n;if(o)return;s?(n=e.viewmodel.patternObservers.indexOf(i),e.viewmodel.patternObservers.splice(n,1),e.viewmodel.unregister(t,i,"patternObservers")):e.viewmodel.unregister(t,i,"observers"),o=!0}};return e._observers.push(u),u}function Dr(e,t,n){var r,i,s,o;if(U(e)){n=t,i=e,r=[];for(e in i)i.hasOwnProperty(e)&&(t=i[e],r.push(this.observe(e,t,n)));return{cancel:function(){while(r.length)r.pop().cancel()}}}if(typeof e=="function")return n=t,t=e,e="",Ar(this,e,t,n);s=e.split(" ");if(s.length===1)return Ar(this,e,t,n);r=[],o=s.length;while(o--)e=s[o],e&&r.push(Ar(this,e,t,n));return{cancel:function(){while(r.length)r.pop().cancel()}}}function Hr(e,t,n){var r=this.observe(e,function(){t.apply(this,arguments),r.cancel()},{init:!1,defer:n&&n.defer});return r}function Ir(e,t){var n=this,r;if(!e)for(e in this._subs)delete this._subs[e];else r=e.split(" ").map(Br).filter(jr),r.forEach(function(e){var r,i;if(r=n._subs[e])t?(i=r.indexOf(t),i!==-1&&r.splice(i,1)):n._subs[e]=[]});return this}function Rr(e,t){var n=this,r,i,s;if(typeof e=="object"){r=[];for(i in e)e.hasOwnProperty(i)&&r.push(this.on(i,e[i]));return{cancel:function(){var e;while(e=r.pop())e.cancel()}}}return s=e.split(" ").map(Br).filter(jr),s.forEach(function(e){(n._subs[e]||(n._subs[e]=[])).push(t)}),{cancel:function(){return n.off(e,t)}}}function zr(e,t){var n=this.on(e,function(){t.apply(this,arguments),n.cancel()});return n}function Xr(e,t,n){var r,i,s=[],o,u,a,f;r=Vr(e,t,n);if(!r)return null;i=e.length,a=r.length-2-r[1],o=Math.min(i,r[0]),u=o+r[1];for(f=0;f<o;f+=1)s.push(f);for(;f<u;f+=1)s.push(-1);for(;f<i;f+=1)s.push(f+a);return a!==0?s.touchedFrom=r[0]:s.touchedFrom=e.length,s}function Vr(e,t,n){switch(t){case"splice":n[0]!==undefined&&n[0]<0&&(n[0]=e.length+Math.max(n[0],-e.length));while(n.length<2)n.push(0);return n[1]=Math.min(n[1],e.length-n[0]),n;case"sort":case"reverse":return null;case"pop":if(e.length)return[e.length-1,1];return[0,0];case"push":return[e.length,0].concat(n);case"shift":return[0,e.length?1:0];case"unshift":return[0,0].concat(n)}}function li(e,t){var n=this,r,i,s;s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),r=bn.start(this,!0),bn.scheduleTask(function(){return ai.fire(n)},!0);if(this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");e=E(e)||this.el,t=E(t)||this.anchor,this.el=e,this.anchor=t;if(!this.append&&e){var o=e.__ractive_instances__;o&&o.length&&ci(o),e.innerHTML=""}return this.cssId&&oi.apply(),e&&((i=e.__ractive_instances__)?i.push(this):e.__ractive_instances__=[this],t?e.insertBefore(this.fragment.render(),t):e.appendChild(this.fragment.render())),bn.end(),this.transitionsEnabled=s,r.then(function(){return fi.fire(n)})}function ci(e){e.splice(0,e.length).forEach(on)}function di(e,t){var n=e.slice(),r=t.length;while(r--)~n.indexOf(t[r])||n.push(t[r]);return n}function Ei(e,t){var n,r,i;return r='[data-ractive-css~="{'+t+'}"]',i=function(e){var t,n,i,s,o,u,a,f=[];t=[];while(n=yi.exec(e))t.push({str:n[0],base:n[1],modifiers:n[2]});s=t.map(xi),a=t.length;while(a--)u=s.slice(),i=t[a],u[a]=i.base+r+i.modifiers||"",o=s.slice(),o[a]=r+" "+o[a],f.push(u.join(" "),o.join(" "));return f.join(", ")},wi.test(e)?n=e.replace(wi,r):n=e.replace(gi,"").replace(mi,function(e,t){var n,r;return bi.test(t)?e:(n=t.split(",").map(Si),r=n.map(i).join(", ")+" ",e.replace(t,r))}),n}function Si(e){return e.trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}function xi(e){return e.str}function ki(e){e&&e.constructor!==Object&&typeof e!="function"&&(typeof e!="object"?J("data option must be an object or a function, `"+e+"` is not valid"):Y("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged"))}function Oi(e,t){ki(t);var n=typeof e=="function",r=typeof t=="function";return!t&&!n&&(t={}),!n&&!r?_i(t,e):function(){var i=r?Mi(t,this):t,s=n?Mi(e,this):e;return _i(i,s)}}function Mi(e,t){var n=e.call(t);if(!n)return;return typeof n!="object"&&J("Data function must return an object"),n.constructor!==Object&&Z("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n}function _i(e,t){if(e&&t){for(var n in t)n in e||(e[n]=t[n]);return e}return e||t}function Ns(e){var t,n,r;return e.matchString("=")?(t=e.pos,e.allowWhitespace(),n=e.matchPattern(xs),n?e.matchPattern(Ts)?(r=e.matchPattern(xs),r?(e.allowWhitespace(),e.matchString("=")?[n,r]:(e.pos=t,null)):(e.pos=t,null)):null:(e.pos=t,null)):null}function Ls(e){var t;return(t=e.matchPattern(ks))?{t:is,v:t}:null}function Ms(e){var t,n;if(e.interpolate[e.inside]===!1)return null;for(n=0;n<e.tags.length;n+=1)if(t=_s(e,e.tags[n]))return t}function _s(e,t){var n,r,i,s;n=e.pos;if(e.matchString("\\"+t.open)){if(n===0||e.str[n-1]!=="\\")return t.open}else if(!e.matchString(t.open))return null;if(r=Ss(e))return e.matchString(t.close)?(t.open=r[0],t.close=r[1],e.sortMustacheTags(),Os):null;e.allowWhitespace();if(e.matchString("/")){e.pos-=1;var o=e.pos;Cs(e)?e.pos=o:(e.pos=o-t.close.length,e.error("Attempted to close a section that wasn't open"))}for(s=0;s<t.readers.length;s+=1){i=t.readers[s];if(r=i(e,t))return t.isStatic&&(r.s=!0),e.includeLinePositions&&(r.p=e.getLinePos(n)),r}return e.pos=n,null}function js(e){var t;return(t=e.matchPattern(Bs))?{t:Zi,v:t}:null}function Is(e){var t=e.remaining();return t.substr(0,4)==="true"?(e.pos+=4,{t:rs,v:"true"}):t.substr(0,5)==="false"?(e.pos+=5,{t:rs,v:"false"}):null}function Qs(e){var t;if(t=Vs(e))return Ks.test(t.v)?t.v:'"'+t.v.replace(/"/g,'\\"')+'"';if(t=Hs(e))return t.v;if(t=e.matchPattern($s))return t}function Ys(e){var t,n,r;return t=e.pos,e.allowWhitespace(),n=Js(e),n===null?(e.pos=t,null):(e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),r=Ao(e),r===null?(e.pos=t,null):{t:os,k:n,v:r}):(e.pos=t,null))}function eo(e){var t,n,r,i;return t=e.pos,r=Gs(e),r===null?null:(n=[r],e.matchString(",")?(i=eo(e),i?n.concat(i):(e.pos=t,null)):n)}function ro(e){function s(e){n.push(e)}var t,n,r,i;return t=e.pos,e.allowWhitespace(),r=Ao(e),r===null?null:(n=[r],e.allowWhitespace(),e.matchString(",")&&(i=ro(e),i===null&&e.error(Ds),i.forEach(s)),n)}function oo(e){return Hs(e)||Fs(e)||Vs(e)||to(e)||io(e)||Cs(e)}function po(e){var t,n,r,i,s,o;return t=e.pos,r=e.matchPattern(/^@(?:keypath|index|key)/),r||(n=e.matchPattern(ao)||"",r=!n&&e.relaxedNames&&e.matchPattern(ho)||e.matchPattern(co),!r&&n==="."&&(n="",r=".")),r?!n&&!e.relaxedNames&&lo.test(r)?(e.pos=t,null):!n&&fo.test(r)?(i=fo.exec(r)[0],e.pos=t+i.length,{t:ss,v:i}):(s=(n||"")+xt(r),e.matchString("(")&&(o=s.lastIndexOf("."),o!==-1?(s=s.substr(0,o),e.pos=t+s.length):e.pos-=1),{t:us,n:s.replace(/^this\./,"./").replace(/^this$/,".")}):null}function mo(e){var t,n;return t=e.pos,e.matchString("(")?(e.allowWhitespace(),n=Ao(e),n||e.error(Ds),e.allowWhitespace(),e.matchString(")")||e.error(Ps),{t:cs,x:n}):null}function bo(e){var t,n,r;t=e.pos,e.allowWhitespace();if(e.matchString(".")){e.allowWhitespace();if(n=e.matchPattern($s))return{t:as,n:n};e.error("Expected a property name")}return e.matchString("[")?(e.allowWhitespace(),r=Ao(e),r||e.error(Ds),e.allowWhitespace(),e.matchString("]")||e.error("Expected ']'"),{t:as,x:r}):null}function Lo(e){var t,n,r,i;return n=Co(e),n?(t=e.pos,e.allowWhitespace(),e.matchString("?")?(e.allowWhitespace(),r=Ao(e),r||e.error(Ds),e.allowWhitespace(),e.matchString(":")||e.error('Expected ":"'),e.allowWhitespace(),i=Ao(e),i||e.error(Ds),{t:hs,o:[n,r,i]}):(e.pos=t,n)):null}function Oo(e){return ko(e)}function _o(e){function n(e){switch(e.t){case rs:case ss:case Zi:case is:return e.v;case es:return JSON.stringify(String(e.v));case ts:return"["+(e.m?e.m.map(n).join(","):"")+"]";case ns:return"{"+(e.m?e.m.map(n).join(","):"")+"}";case os:return e.k+":"+n(e.v);case ls:return(e.s==="typeof"?"typeof ":e.s)+n(e.o);case ps:return n(e.o[0])+(e.s.substr(0,2)==="in"?" "+e.s+" ":e.s)+n(e.o[1]);case ds:return n(e.x)+"("+(e.o?e.o.map(n).join(","):"")+")";case cs:return"("+n(e.x)+")";case fs:return n(e.x)+n(e.r);case as:return e.n?"."+e.n:"["+n(e.x)+"]";case hs:return n(e.o[0])+"?"+n(e.o[1])+":"+n(e.o[2]);case us:return"_"+t.indexOf(e.n);default:throw new Error("Expected legal JavaScript")}}var t;return Do(e,t=[]),{r:t,s:n(e)}}function Do(e,t){var n,r;e.t===us&&t.indexOf(e.n)===-1&&t.unshift(e.n),r=e.o||e.m;if(r)if(U(r))Do(r,t);else{n=r.length;while(n--)Do(r[n],t)}e.x&&Do(e.x,t),e.r&&Do(e.r,t),e.v&&Do(e.v,t)}function Bo(e,t){var n;if(e){while(e.t===cs&&e.x)e=e.x;return e.t===us?t.r=e.n:e.t===Zi&&Ho.test(e.v)?t.r=e.v:(n=jo(e))?t.rx=n:t.x=Mo(e),t}}function jo(e){var t=[],n;while(e.t===fs&&e.r.t===as)n=e.r,n.x?n.x.t===us?t.unshift(n.x):t.unshift(Mo(n.x)):t.unshift(n.n),e=e.x;return e.t!==us?null:{r:e.n,m:t}}function Io(e,t){var n=Ao(e),r;return n?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),r={t:Ii},Po(n,r),r):null}function Ro(e,t){var n,r;return e.matchString("&")?(e.allowWhitespace(),n=Ao(e),n?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),r={t:Ii},Po(n,r),r):null):null}function zo(e,t){var n,r,i,s,o;return n=e.pos,e.matchString(">")?(e.allowWhitespace(),r=e.pos,e.relaxedNames=!0,i=Ao(e),e.relaxedNames=!1,e.allowWhitespace(),s=Ao(e),e.allowWhitespace(),i?(o={t:Wi},Po(i,o),e.allowWhitespace(),s&&(o={t:qi,n:ys,f:[o]},Po(s,o)),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),o):null):null}function Xo(e,t){var n;if(!e.matchString("!"))return null;n=e.remaining().indexOf(t.close);if(n!==-1)return e.pos+=n+t.close.length,{t:Xi}}function $o(e,t){var n,r,i;n=e.pos,r=Ao(e);if(!r)return null;for(i=0;i<t.length;i+=1)if(e.remaining().substr(0,t[i].length)===t[i])return r;return e.pos=n,uo(e)}function Ko(e,t){var n,r,i,s;n=e.pos;try{r=Vo(e,[t.close])}catch(o){s=o}if(!r){if(e.str.charAt(n)==="!")return e.pos=n,null;if(s)throw s}if(!e.matchString(t.close)){e.error("Expected closing delimiter '"+t.close+"' after reference");if(!r){if(e.nextChar()==="!")return null;e.error("Expected expression or legal reference")}}return i={t:Fi},Po(r,i),i}function Yo(e,t){var n,r,i;return e.matchPattern(Go)?(n=e.pos,r=e.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),e.allowWhitespace(),e.matchString(t.close)||e.error("expected legal partial name"),i={t:Qi},r&&(i.n=r),i):null}function eu(e,t){var n,r,i,s;return n=e.pos,e.matchString(t.open)?(e.allowWhitespace(),e.matchString("/")?(e.allowWhitespace(),r=e.remaining(),i=r.indexOf(t.close),i!==-1?(s={t:Ui,r:r.substr(0,i).split(" ")[0]},e.pos+=i,e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),s):(e.pos=n,null)):(e.pos=n,null)):null}function ru(e,t){var n=e.pos;return e.matchString(t.open)?e.matchPattern(nu)?(e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),{t:ws}):(e.pos=n,null):null}function ou(e,t){var n=e.pos,r;return e.matchString(t.open)?e.matchPattern(su)?(r=Ao(e),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),{t:Es,x:r}):(e.pos=n,null):null}function hu(e,t){var n,r,i,s,o,u,a,f,l,c,h,p;n=e.pos;if(e.matchString("^"))i={t:qi,f:[],n:ms};else{if(!e.matchString("#"))return null;i={t:qi,f:[]},e.matchString("partial")&&(e.pos=n-e.standardDelimiters[0].length,e.error("Partial definitions can only be at the top level of the template, or immediately inside components"));if(a=e.matchPattern(cu))p=a,i.n=uu[a]}e.allowWhitespace(),r=Ao(e),r||e.error("Expected expression");if(h=e.matchPattern(fu)){var d=undefined;(d=e.matchPattern(lu))?i.i=h+","+d:i.i=h}e.allowWhitespace(),e.matchString(t.close)||e.error("Expected closing delimiter '"+t.close+"'"),e.sectionDepth+=1,o=i.f,l=[];do if(s=Zo(e,t))p&&s.r!==p&&e.error("Expected "+t.open+"/"+p+""+t.close),e.sectionDepth-=1,c=!0;else if(s=iu(e,t))i.n===ms&&e.error("{{else}} not allowed in {{#unless}}"),u&&e.error("illegal {{elseif...}} after {{else}}"),f||(f=pu(r,i.n)),f.f.push({t:qi,n:vs,x:Mo(vu(l.concat(s.x))),f:o=[]}),l.push(du(s.x));else if(s=tu(e,t))i.n===ms&&e.error("{{else}} not allowed in {{#unless}}"),u&&e.error("there can only be one {{else}} block, at the end of a section"),u=!0,f?f.f.push({t:qi,n:vs,x:Mo(vu(l)),f:o=[]}):(f=pu(r,i.n),o=f.f);else{s=e.read(Za);if(!s)break;o.push(s)}while(!c);return f&&(i.n===ys&&(i.n=bs),i.l=f),Po(r,i),i.f.length||delete i.f,i}function pu(e,t){var n;return t===ys?(n={t:qi,n:vs,f:[]},Po(du(e),n)):(n={t:qi,n:ms,f:[]},Po(e,n)),n}function du(e){return e.t===ls&&e.s==="!"?e.o:{t:ls,s:"!",o:mu(e)}}function vu(e){return e.length===1?e[0]:{t:ps,s:"&&",o:[mu(e[0]),mu(vu(e.slice(1)))]}}function mu(e){return{t:cs,x:e}}function wu(e){var t,n,r,i,s;return t=e.pos,e.matchString(yu)?(r=e.remaining(),i=r.indexOf(bu),i===-1&&e.error("Illegal HTML - expected closing comment sequence ('-->')"),n=r.substr(0,i),e.pos+=i+3,s={t:Xi,c:n},e.includeLinePositions&&(s.p=e.getLinePos(t)),s):null}function Au(e){return e.replace(Nu,function(e,t){var n;return t[0]!=="#"?n=xu[t]:t[1]==="x"?n=parseInt(t.substring(2),16):n=parseInt(t.substring(1),10),n?String.fromCharCode(Ou(n)):e})}function Ou(e){return e?e===10?32:e<128?e:e<=159?Tu[e-128]:e<55296?e:e<=57343?65533:e<=65535?e:65533:65533}function Mu(e){return e.replace(Lu,"&amp;").replace(Cu,"&lt;").replace(ku,"&gt;")}function Hu(e){return typeof e=="string"}function Bu(e){return e.t===Xi||e.t===Vi}function ju(e){return(e.t===qi||e.t===Ri)&&e.f}function Vu(e,t,n,r,i){var s,o,u,a,f,l,c,h;Pu(e),s=e.length;while(s--)o=e[s],o.exclude?e.splice(s,1):t&&o.t===Xi&&e.splice(s,1);Fu(e,r?Uu:null,i?zu:null),s=e.length;while(s--){o=e[s];if(o.f){var p=o.t===zi&&Ru.test(o.e);f=n||p,!n&&p&&Fu(o.f,Wu,Xu);if(!f){u=e[s-1],a=e[s+1];if(!u||typeof u=="string"&&zu.test(u))l=!0;if(!a||typeof a=="string"&&Uu.test(a))c=!0}Vu(o.f,t,f,l,c)}o.l&&(Vu(o.l.f,t,n,l,c),e.splice(s+1,0,o.l),delete o.l);if(o.a)for(h in o.a)o.a.hasOwnProperty(h)&&typeof o.a[h]!="string"&&Vu(o.a[h],t,n,l,c);o.m&&Vu(o.m,t,n,l,c);if(o.v)for(h in o.v)o.v.hasOwnProperty(h)&&(F(o.v[h].n)&&Vu(o.v[h].n,t,n,l,c),F(o.v[h].d)&&Vu(o.v[h].d,t,n,l,c))}s=e.length;while(s--)typeof e[s]=="string"&&(typeof e[s+1]=="string"&&(e[s]=e[s]+e[s+1],e.splice(s+1,1)),n||(e[s]=e[s].replace(qu," ")),e[s]===""&&e.splice(s,1))}function Ku(e){var t,n;t=e.pos;if(!e.matchString("</"))return null;if(n=e.matchPattern(Ju))return e.inside&&n!==e.inside?(e.pos=t,null):{t:Ji,e:n};e.pos-=2,e.error("Illegal closing tag")}function ea(e){var t,n,r;return e.allowWhitespace(),n=e.matchPattern(Yu),n?(t={name:n},r=ta(e),r!=null&&(t.value=r),t):null}function ta(e){var t,n,r,i;return t=e.pos,/[=\/>\s]/.test(e.nextChar())||e.error("Expected `=`, `/`, `>` or whitespace"),e.allowWhitespace(),e.matchString("=")?(e.allowWhitespace(),n=e.pos,r=e.sectionDepth,i=ia(e,"'")||ia(e,'"')||ra(e),i===null&&e.error("Expected valid attribute value"),e.sectionDepth!==r&&(e.pos=n,e.error("An attribute value must contain as many opening section tags as closing section tags")),i.length?i.length===1&&typeof i[0]=="string"?Au(i[0]):i:""):(e.pos=t,null)}function na(e){var t,n,r,i,s;return t=e.pos,n=e.matchPattern(Zu),n?(r=n,i=e.tags.map(function(e){return e.open}),(s=Qu(r,i))!==-1&&(n=n.substr(0,s),e.pos=t+n.length),n):null}function ra(e){var t,n;e.inAttribute=!0,t=[],n=As(e)||na(e);while(n!==null)t.push(n),n=As(e)||na(e);return t.length?(e.inAttribute=!1,t):null}function ia(e,t){var n,r,i;n=e.pos;if(!e.matchString(t))return null;e.inAttribute=t,r=[],i=As(e)||sa(e,t);while(i!==null)r.push(i),i=As(e)||sa(e,t);return e.matchString(t)?(e.inAttribute=!1,r):(e.pos=n,null)}function sa(e,t){var n,r,i,s;return n=e.pos,i=e.remaining(),s=e.tags.map(function(e){return e.open}),s.push(t),r=Qu(i,s),r===-1&&e.error("Quoted attribute value must have a closing quote"),r?(e.pos+=r,i.substr(0,r)):null}function pa(e){var t,n,r;return e.allowWhitespace(),t=Js(e),t?(r={key:t},e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),n=e.read(),n?(r.value=n.v,r):null):null):null}function ba(e,t){var n,r,i,s,o,u,a,f,l;if(typeof e=="string"){if(r=ma.exec(e)){var c=e.lastIndexOf(")");return ga.test(e)||t.error("Invalid input after method call expression '"+e.slice(c+1)+"'"),n={m:r[1]},s="["+e.slice(n.m.length+1,c)+"]",i=new ya(s),n.a=Mo(i.result[0]),n}if(e.indexOf(":")===-1)return e.trim();e=[e]}n={},a=[],f=[];if(e){while(e.length){o=e.shift();if(typeof o=="string"){u=o.indexOf(":");if(u!==-1){u&&a.push(o.substr(0,u)),o.length>u+1&&(f[0]=o.substring(u+1));break}a.push(o)}else a.push(o)}f=f.concat(e)}return a.length?f.length||typeof a!="string"?(n={n:a.length===1&&typeof a[0]=="string"?a[0]:a},f.length===1&&typeof f[0]=="string"?(l=da("["+f[0]+"]"),n.a=l?l.value:f[0].trim()):n.d=f):n=a:n="",n}function Aa(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;t=e.pos;if(e.inside||e.inAttribute)return null;if(!e.matchString("<"))return null;if(e.nextChar()==="/")return null;n={},e.includeLinePositions&&(n.p=e.getLinePos(t));if(e.matchString("!"))return n.t=Yi,e.matchPattern(/^doctype/i)||e.error("Expected DOCTYPE declaration"),n.a=e.matchPattern(/^(.+?)>/),n;n.t=zi,n.e=e.matchPattern(wa);if(!n.e)return null;Ea.test(e.nextChar())||e.error("Illegal tag name"),s=function(t,r){var i=r.n||r;Ta.test(i)&&(e.pos-=i.length,e.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[t]=r},e.allowWhitespace();while(o=As(e)||Gu(e)){if(o.name){if(r=Na[o.name])n[r]=va(o.value,e);else if(i=xa.exec(o.name))n.v||(n.v={}),u=va(o.value,e),s(i[1],u);else if(!e.sanitizeEventAttributes||!Sa.test(o.name))n.a||(n.a={}),n.a[o.name]=o.value||(o.value===""?"":0)}else n.m||(n.m=[]),n.m.push(o);e.allowWhitespace()}e.allowWhitespace(),e.matchString("/")&&(a=!0);if(!e.matchString(">"))return null;var g=n.e.toLowerCase(),y=e.preserveWhitespace;if(!a&&!Su.test(n.e)){e.elementStack.push(g);if(g==="script"||g==="style")e.inside=g;f=[],l=A(null);do{d=e.pos,v=e.remaining();if(!Oa(g,v))p=!0;else if(m=$u(e)){p=!0;var b=m.e.toLowerCase();if(b!==g){e.pos=d;if(!~e.elementStack.indexOf(b)){var w="Unexpected closing tag";Su.test(b)&&(w+=" (<"+b+"> is a void element - it cannot contain children)"),e.error(w)}}}else(h=Zo(e,{open:e.standardDelimiters[0],close:e.standardDelimiters[1]}))?(p=!0,e.pos=d):(h=e.read(ef))?(l[h.n]&&(e.pos=d,e.error("Duplicate partial definition")),Iu(h.f,e.stripComments,y,!y,!y),l[h.n]=h.f,c=!0):(h=e.read(Za))?f.push(h):p=!0}while(!p);f.length&&(n.f=f),c&&(n.p=l),e.elementStack.pop()}return e.inside=null,e.sanitizeElements&&e.sanitizeElements.indexOf(g)!==-1?Ca:n}function Oa(e,t){var n,r;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(t),r=ka[e],!n||!r?!0:!~r.indexOf(n[1].toLowerCase())}function _a(e){var t,n,r,i;return n=e.remaining(),i=e.inside?"</"+e.inside:"<",e.inside&&!e.interpolate[e.inside]?t=n.indexOf(i):(r=e.tags.map(function(e){return e.open}),r=r.concat(e.tags.map(function(e){return"\\"+e.open})),e.inAttribute===!0?r.push('"',"'","=","<",">","`"):e.inAttribute?r.push(e.inAttribute):r.push(i),t=Qu(n,r)),t?(t===-1&&(t=n.length),e.pos+=t,e.inside?n.substr(0,t):Au(n.substr(0,t))):null}function Ha(e){return e.replace(Pa,"\\$&")}function Ra(e){var t=e.pos,n=e.standardDelimiters[0],r=e.standardDelimiters[1],i=undefined,s=undefined;if(!e.matchPattern(ja)||!e.matchString(n))return e.pos=t,null;var o=e.matchPattern(Fa);Z("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+o+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+o+"}} --> ... <!-- {{/"+o+"}} -->'");if(!e.matchString(r)||!e.matchPattern(Ia))return e.pos=t,null;i=[];var u=new RegExp("^<!--\\s*"+Da(n)+"\\s*\\/\\s*"+o+"\\s*"+Da(r)+"\\s*-->");do e.matchPattern(u)?s=!0:(qa=e.read(Za),qa||e.error("expected closing comment ('<!-- "+n+"/"+o+""+r+" -->')"),i.push(qa));while(!s);return{t:Gi,f:i,n:o}}function Wa(e){var t,n,r,i,s;t=e.pos;var o=e.standardDelimiters;if(!e.matchString(o[0]))return null;if(!e.matchPattern(za))return e.pos=t,null;n=e.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||e.error("expected legal partial name"),e.matchString(o[1])||e.error("Expected closing delimiter '"+o[1]+"'"),r=[];do(i=Zo(e,{open:e.standardDelimiters[0],close:e.standardDelimiters[1]}))?(!i.r==="partial"&&e.error("Expected "+o[0]+"/partial"+o[1]),s=!0):(i=e.read(Za),i||e.error("Expected "+o[0]+"/partial"+o[1]),r.push(i));while(!s);return{t:Gi,n:n,f:r}}function Va(t){var n=[],r=A(null),i=!1,s=t.preserveWhitespace;while(t.pos<t.str.length){var o=t.pos,u=undefined,a=undefined;(a=t.read(ef))?(r[a.n]&&(t.pos=o,t.error("Duplicated partial definition")),Iu(a.f,t.stripComments,s,!s,!s),r[a.n]=a.f,i=!0):(u=t.read(Za))?n.push(u):t.error("Unexpected template content")}var f={v:e,t:n};return i&&(f.p=r),f}function Ya(e,t){return(new Ga(e,t||{})).result}function rf(e){var t=A(nf);return t.parse=function(t,n){return sf(t,n||e)},t}function sf(e,t){if(!$a)throw new Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return $a(e,t||this.options)}function of(e,t){var n;if(!i){if(t&&t.noThrow)return;throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}uf(e)&&(e=e.substring(1));if(!(n=document.getElementById(e))){if(t&&t.noThrow)return;throw new Error("Could not find template element with id #"+e)}if(n.tagName.toUpperCase()!=="SCRIPT"){if(t&&t.noThrow)return;throw new Error("Template element with id #"+e+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function uf(e){return e&&e[0]==="#"}function af(e){return typeof e!="string"}function ff(e){return e.defaults&&(e=e.defaults),tf.reduce(function(t,n){return t[n]=e[n],t},{})}function hf(e){var t=e._config.template,n;if(!t||!t.fn)return;n=pf(e,t.fn);if(n!==t.result)return t.result=n,n=vf(n,e),n}function pf(e,t){var n=df(lf.getParseOptions(e));return t.call(e,n)}function df(e){var t=A(lf);return t.parse=function(t,n){return lf.parse(t,n||e)},t}function vf(t,n){if(typeof t=="string")t[0]==="#"&&(t=lf.fromId(t)),t=$a(t,lf.getParseOptions(n));else{if(t==undefined)throw new Error("The template cannot be "+t+".");if(typeof t.v!="number")throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==e)throw new Error("Mismatched template version (expected "+e+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function mf(e,t,n){if(!t)return;for(var r in t)if(n||!e.hasOwnProperty(r))e[r]=t[r]}function xf(e,t,n){if(!/_super/.test(n))return n;var r=function(){var i=Tf(r._parent,t),s="_super"in this,o=this._super,u;return this._super=i,u=n.apply(this,arguments),s?this._super=o:delete this._super,u};return r._parent=e,r._method=n,r}function Tf(e,t){var n,r;return t in e?(n=e[t],typeof n=="function"?r=n:r=function(){return n}):r=T,r}function Cf(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function kf(e,t,n){if(t in e){if(n in e)throw new Error(Cf(t,n,!0));Y(Cf(t,n)),e[n]=e[t]}}function Lf(e){kf(e,"beforeInit","onconstruct"),kf(e,"init","onrender"),kf(e,"complete","oncomplete"),kf(e,"eventDefinitions","events"),F(e.adaptors)&&kf(e,"adaptors","adapt")}function Hf(e,t,n,r){Nf(r);for(var i in r)if(Pf.hasOwnProperty(i)){var s=r[i];i!=="el"&&typeof s=="function"?Y(""+i+" is a Ractive option that does not expect a function and will be ignored",e==="init"?n:null):n[i]=s}Ef.forEach(function(i){i[e](t,n,r)}),pi[e](t,n,r),gf[e](t,n,r),Ci[e](t,n,r),Bf(t.prototype,n,r)}function Bf(e,t,n){for(var r in n)if(!Df[r]&&n.hasOwnProperty(r)){var i=n[r];typeof i=="function"&&(i=Sf(e,r,i)),t[r]=i}}function jf(e){var t={};return e.forEach(function(e){return t[e]=!0}),t}function qf(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&typeof this.owner.bubble=="function"&&this.owner.bubble()}function Uf(){var e;return this.items.length===1?this.items[0].detach():(e=document.createDocumentFragment(),this.items.forEach(function(t){var n=t.detach();n&&e.appendChild(n)}),e)}function Wf(e){var t,n,r,i;if(this.items){n=this.items.length;for(t=0;t<n;t+=1){r=this.items[t];if(r.find&&(i=r.find(e)))return i}return null}}function Vf(e,t){var n,r,i;if(this.items){r=this.items.length;for(n=0;n<r;n+=1)i=this.items[n],i.findAll&&i.findAll(e,t)}return t}function Jf(e,t){var n,r,i;if(this.items){r=this.items.length;for(n=0;n<r;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(e,t)}return t}function Qf(e){var t,n,r,i;if(this.items){t=this.items.length;for(n=0;n<t;n+=1){r=this.items[n];if(r.findComponent&&(i=r.findComponent(e)))return i}return null}}function Yf(e){var t=e.index,n;return this.items[t+1]?n=this.items[t+1].firstNode():this.owner===this.root?this.owner.component?n=this.owner.component.findNextNode():n=null:n=this.owner.findNextNode(this),n}function el(){return this.items&&this.items[0]?this.items[0].firstNode():null}function nl(e,t,n,r){return r=r||0,e.map(function(e){var i,s,o;return e.text?e.text:e.fragments?e.fragments.map(function(e){return nl(e.items,t,n,r)}).join(""):(i=n+"-"+r++,e.keypath&&(s=e.root.viewmodel.wrapped[e.keypath.str])?o=s.value:o=e.getValue(),t[i]=o,"${"+i+"}")}).join("")}function il(){var e,t,n,r;return this.dirtyArgs&&(t=tl(this.items,e={},this.root._guid),n=da("["+t+"]",e),n?r=n.value:r=[this.toString()],this.argsList=r,this.dirtyArgs=!1),this.argsList}function ol(){var e=this;do if(e.pElement)return e.pElement.node;while(e=e.parent);return this.root.detached||this.root.el}function al(){var e,t,n,r;return this.dirtyValue&&(t=tl(this.items,e={},this.root._guid),n=da(t,e),n?r=n.value:r=this.toString(),this.value=r,this.dirtyValue=!1),this.value}function pl(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function vl(){return this.value}function wl(e,t){var n;for(var r=0;r<t.prop.length;r++)if((n=e[t.prop[r]])!==undefined)return n}function Nl(e,t){var n={},r,i,s,o,u,a=!1;t||(n.refs=r={});while(e){if((u=e.owner)&&(i=u.indexRefs)){if(t&&(s=u.getIndexRef(t)))return n.ref={fragment:e,ref:s},n;if(!t)for(o in i)s=i[o],r[s.n]||(a=!0,r[s.n]={fragment:e,ref:s})}!e.parent&&e.owner&&e.owner.component&&e.owner.component.parentFragment&&!e.owner.component.instance.isolated?(n.componentBoundary=!0,e=e.owner.component.parentFragment):e=e.parent}return a?n:undefined}function kl(e,t,n){var r;return t.charAt(0)==="@"?new El(e,t,n):(r=Tl(e.parentFragment,t))?new xl(e,r,n):new gl(e,t,n)}function Ol(e,t){var n,r;if(Al[e])return Al[e];r=[];while(t--)r[t]="_"+t;return n=new Function(r.join(","),"return("+e+")"),Al[e]=n,n}function Pl(e){return e.call()}function Hl(e,t){return e.replace(/_([0-9]+)/g,function(e,n){var r,i;return+n>=t.length?"_"+n:(r=t[n],r===undefined?"undefined":r.isSpecial?(i=r.value,typeof i=="number"?i:'"'+i+'"'):r.str)})}function Bl(e){return wt("${"+e.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function jl(e){return e!==undefined&&e[0]!=="@"}function Fl(e,t){var n,r,i;if(e.__ractive_nowrap)return e;r="__ractive_"+t._guid,n=e[r];if(n)return n;if(/this/.test(e.toString())){O(e,r,{value:_l.call(e,t),configurable:!0});for(i in e)e.hasOwnProperty(i)&&(e[r][i]=e[i]);return t._boundFunctions.push({fn:e,prop:r}),e[r]}return O(e,"__ractive_nowrap",{value:e}),e.__ractive_nowrap}function Ul(e){return e.value}function zl(e){return e!=undefined}function Wl(e){e.forceResolution()}function $l(e,t){function s(t){e.resolve(t)}function o(t){var n=e.keypath;t!=n&&(e.resolve(t),n!==undefined&&e.fragments&&e.fragments.forEach(function(e){e.rebind(n,t)}))}var n,r,i;r=t.parentFragment,i=t.template,e.root=r.root,e.parentFragment=r,e.pElement=r.pElement,e.template=t.template,e.index=t.index||0,e.isStatic=t.template.s,e.type=t.template.t,e.registered=!1;if(n=i.r)e.resolver=Cl(e,n,s);t.template.x&&(e.resolver=new Dl(e,r,t.template.x,o)),t.template.rx&&(e.resolver=new Xl(e,t.template.rx,o)),e.template.n===ms&&!e.hasOwnProperty("value")&&e.setValue(undefined)}function Kl(e){var t,n,r;if(e&&e.isSpecial){this.keypath=e,this.setValue(e.value);return}this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,t=!0),this.keypath=e,e!=undefined&&(n=this.root.viewmodel.get(e),this.root.viewmodel.register(e,this),this.registered=!0),this.setValue(n),t&&(r=this.twowayBinding)&&r.rebound()}function Gl(e,t){this.fragments&&this.fragments.forEach(function(n){return n.rebind(e,t)}),this.resolver&&this.resolver.rebind(e,t)}function nc(){this.parentFragment.bubble()}function ic(){var e;return this.fragments.length===1?this.fragments[0].detach():(e=document.createDocumentFragment(),this.fragments.forEach(function(t){e.appendChild(t.detach())}),e)}function oc(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1)if(r=this.fragments[t].find(e))return r;return null}function ac(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1)this.fragments[n].findAll(e,t)}function lc(e,t){var n,r;r=this.fragments.length;for(n=0;n<r;n+=1)this.fragments[n].findAllComponents(e,t)}function hc(e){var t,n,r;n=this.fragments.length;for(t=0;t<n;t+=1)if(r=this.fragments[t].findComponent(e))return r;return null}function dc(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)}function mc(){var e,t,n;if(e=this.fragments.length)for(t=0;t<e;t+=1)if(n=this.fragments[t].firstNode())return n;return this.parentFragment.findNextNode(this)}function yc(e){var t=this,n,r,i,s,o,u,a;if(this.shuffling||this.unbound||this.currentSubtype!==gs)return;this.shuffling=!0,bn.scheduleTask(function(){return t.shuffling=!1}),n=this.parentFragment,o=[],e.forEach(function(e,n){var i,s,u,a,f;if(e===n){o[e]=t.fragments[n];return}i=t.fragments[n],r===undefined&&(r=n);if(e===-1){t.fragmentsToUnrender.push(i),i.unbind();return}s=e-n,u=t.keypath.join(n),a=t.keypath.join(e),i.index=e,(f=i.registeredIndexRefs)&&f.forEach(bc),i.rebind(u,a),o[e]=i}),s=this.root.viewmodel.get(this.keypath).length;if(r===undefined){if(this.length===s)return;r=this.length}this.length=this.fragments.length=s,this.rendered&&bn.addView(this),u={template:this.template.f,root:this.root,owner:this};for(i=r;i<s;i+=1)a=o[i],a||this.fragmentsToCreate.push(i),this.fragments[i]=a}function bc(e){e.rebind("","")}function Sc(){var e=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(t){return e.docFrag.appendChild(t.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function Tc(e){var t=this,n,r;if(this.updating)return;this.updating=!0,this.keypath&&(n=this.root.viewmodel.wrapped[this.keypath.str])&&(e=n.get()),this.fragmentsToCreate.length?(r={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(e){var n;r.context=t.keypath.join(e),r.index=e,n=new Zb(r),t.fragmentsToRender.push(t.fragments[e]=n)}),this.fragmentsToCreate.length=0):Cc(this,e)&&(this.bubble(),this.rendered&&bn.addView(this)),this.value=e,this.updating=!1}function Nc(e,t,n){if(t===gs&&e.indexRefs&&e.indexRefs[0]){var r=e.indexRefs[0];if(n&&r.t==="i"||!n&&r.t==="k")n||(e.length=0,e.fragmentsToUnrender=e.fragments.slice(0),e.fragmentsToUnrender.forEach(function(e){return e.unbind()}));r.t=n?"k":"i"}e.currentSubtype=t}function Cc(e,t){var n={template:e.template.f||[],root:e.root,pElement:e.parentFragment.pElement,owner:e};e.hasContext=!0;if(e.subtype)switch(e.subtype){case vs:return e.hasContext=!1,Mc(e,t,!1,n);case ms:return e.hasContext=!1,Mc(e,t,!0,n);case ys:return Oc(e,n);case bs:return Ac(e,t,n);case gs:if(U(t))return Nc(e,e.subtype,!0),Lc(e,t,n)}return e.ordered=!!I(t),e.ordered?(Nc(e,gs,!1),kc(e,t,n)):U(t)||typeof t=="function"?e.template.i?(Nc(e,gs,!0),Lc(e,t,n)):(Nc(e,ys,!1),Oc(e,n)):(Nc(e,vs,!1),e.hasContext=!1,Mc(e,t,!1,n))}function kc(e,t,n){var r,i,s;i=t.length;if(i===e.length)return!1;if(i<e.length)e.fragmentsToUnrender=e.fragments.splice(i,e.length-i),e.fragmentsToUnrender.forEach(un);else if(i>e.length)for(r=e.length;r<i;r+=1)n.context=e.keypath.join(r),n.index=r,s=new Zb(n),e.fragmentsToRender.push(e.fragments[r]=s);return e.length=i,!0}function Lc(e,t,n){var r,i,s,o,u,a;s=e.hasKey||(e.hasKey={}),i=e.fragments.length;while(i--)o=e.fragments[i],o.key in t||(u=!0,o.unbind(),e.fragmentsToUnrender.push(o),e.fragments.splice(i,1),s[o.key]=!1);i=e.fragments.length;while(i--)o=e.fragments[i],o.index!==i&&(o.index=i,(a=o.registeredIndexRefs)&&a.forEach(Pc));i=e.fragments.length;for(r in t)s[r]||(u=!0,n.context=e.keypath.join(r),n.key=r,n.index=i++,o=new Zb(n),e.fragmentsToRender.push(o),e.fragments.push(o),s[r]=!0);return e.length=e.fragments.length,u}function Ac(e,t,n){return t?Oc(e,n):_c(e)}function Oc(e,t){var n;if(!e.length)return t.context=e.keypath,t.index=0,n=new Zb(t),e.fragmentsToRender.push(e.fragments[0]=n),e.length=1,!0}function Mc(e,t,n,r){var i,s,o,u,a;s=I(t)&&t.length===0,o=!1;if(!I(t)&&U(t)){o=!0;for(a in t){o=!1;break}}n?i=s||o||!t:i=t&&!s&&!o;if(!i)return _c(e);if(!e.length)return r.index=0,u=new Zb(r),e.fragmentsToRender.push(e.fragments[0]=u),e.length=1,!0;if(e.length>1)return e.fragmentsToUnrender=e.fragments.splice(1),e.fragmentsToUnrender.forEach(un),!0}function _c(e){if(e.length)return e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(Dc),e.fragmentsToUnrender.forEach(un),e.length=e.fragmentsToRender.length=0,!0}function Dc(e){return e.rendered}function Pc(e){e.rebind("","")}function Bc(e){var t,n,r;t="",n=0,r=this.length;for(n=0;n<r;n+=1)t+=this.fragments[n].toString(e);return t}function Fc(){var e=this;this.fragments.forEach(un),this.fragmentsToRender.forEach(function(t){return Ut(e.fragments,t)}),this.fragmentsToRender=[],hl.call(this),this.length=0,this.unbound=!0}function qc(e){this.fragments.forEach(e?Rc:Uc),this.renderedFragments=[],this.rendered=!1}function Rc(e){e.unrender(!0)}function Uc(e){e.unrender(!1)}function Wc(){var e,t,n,r,i,s,o;n=this.renderedFragments;while(e=this.fragmentsToUnrender.pop())e.unrender(!0),n.splice(n.indexOf(e),1);while(e=this.fragmentsToRender.shift())e.render();this.rendered&&(i=this.parentFragment.getNode()),o=this.fragments.length;for(s=0;s<o;s+=1){e=this.fragments[s],t=n.indexOf(e,s);if(t===s){this.docFrag.childNodes.length&&(r=e.firstNode(),i.insertBefore(this.docFrag,r));continue}this.docFrag.appendChild(e.detach()),t!==-1&&n.splice(t,1),n.splice(s,0,e)}this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()}function Jc(){var e,t;if(this.docFrag){e=this.nodes.length;for(t=0;t<e;t+=1)this.docFrag.appendChild(this.nodes[t]);return this.docFrag}}function Qc(e){var t,n,r,i;n=this.nodes.length;for(t=0;t<n;t+=1){r=this.nodes[t];if(r.nodeType!==1)continue;if(p(r,e))return r;if(i=r.querySelector(e))return i}return null}function Yc(e,t){var n,r,i,s,o,u;r=this.nodes.length;for(n=0;n<r;n+=1){i=this.nodes[n];if(i.nodeType!==1)continue;p(i,e)&&t.push(i);if(s=i.querySelectorAll(e)){o=s.length;for(u=0;u<o;u+=1)t.push(s[u])}}}function eh(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function sh(e){return th[e]||(th[e]=h(e))}function uh(e){var t,n,r;if(!e||e.name!=="select"||!e.binding)return;t=zt(e.node.options).filter(ah);if(e.getAttribute("multiple"))r=t.map(function(e){return e.value});else if(n=t[0])r=n.value;r!==undefined&&e.binding.setValue(r),e.bubble()}function ah(e){return e.selected}function lh(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=ih(this.value,this.parentFragment.getNode(),this.docFrag),oh(this.pElement),this.rendered=!0,this.docFrag}function hh(e){var t;if(t=this.root.viewmodel.wrapped[this.keypath.str])e=t.get();e!==this.value&&(this.value=e,this.parentFragment.bubble(),this.rendered&&bn.addView(this))}function dh(){return this.value!=undefined?Au(""+this.value):""}function mh(e){this.rendered&&e&&(this.nodes.forEach(S),this.rendered=!1)}function yh(){var e,t;if(!this.rendered)return;while(this.nodes&&this.nodes.length)e=this.nodes.pop(),e.parentNode.removeChild(e);t=this.parentFragment.getNode(),this.nodes=ih(this.value,t,this.docFrag),t.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),oh(this.pElement)}function xh(){var e=this.node,t;if(e)return(t=e.parentNode)&&t.removeChild(e),e}function Ah(){return null}function Mh(){return this.node}function Dh(e){if(!this.attributes||!this.attributes[e])return;return this.attributes[e].value}function Fh(){var e=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment.toString();q(e,this.value)||(this.name==="id"&&this.value&&delete this.root.nodes[this.value],this.value=e,this.name==="value"&&this.node&&(this.node._ractive.value=e),this.rendered&&bn.addView(this))}function Vh(e){var t=e.fragment.items;if(t.length!==1)return;if(t[0].type===Fi)return t[0]}function Jh(e){this.type=$i,this.element=e.element,this.root=e.root,Wh(this,e.name),this.isBoolean=Eu.test(this.name);if(!e.value||typeof e.value=="string"){this.value=this.isBoolean?!0:e.value||"";return}this.parentFragment=this.element.parentFragment,this.fragment=new Zb({template:e.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=Xh(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,this.ready=!0}function Qh(e,t){this.fragment&&this.fragment.rebind(e,t)}function Zh(e){var t;this.node=e;if(!e.namespaceURI||e.namespaceURI===a.html){t=Yh[this.name]||this.name,e[t]!==undefined&&(this.propertyName=t);if(this.isBoolean||this.isTwoway)this.useProperty=!0;t==="value"&&(e._ractive.value=this.value)}this.rendered=!0,this.update()}function tp(){var e=this,t=e.name,n=e.namespacePrefix,r=e.value,i=e.interpolator,s=e.fragment;if(t!=="value"||this.element.name!=="select"&&this.element.name!=="textarea"){if(t==="value"&&this.element.getAttribute("contenteditable")!==undefined)return;if(t==="name"&&this.element.name==="input"&&i)return"name={{"+(i.keypath.str||i.ref)+"}}";if(this.isBoolean)return r?t:"";if(s){if(s.items.length===1&&s.items[0].value==null)return"";r=s.toString()}return n&&(t=n+":"+t),r?t+'="'+np(r)+'"':t}return}function np(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function ip(){this.fragment&&this.fragment.unbind(),this.name==="id"&&delete this.root.nodes[this.value]}function op(){var e=this.value,t,n,r,i;if(!this.locked){this.node._ractive.value=e,t=this.node.options,i=t.length;while(i--){n=t[i],r=n._ractive?n._ractive.value:n.value;if(r==e){n.selected=!0;break}}}}function ap(){var e=this.value,t,n,r,i;F(e)||(e=[e]),t=this.node.options,n=t.length;while(n--)r=t[n],i=r._ractive?r._ractive.value:r.value,r.selected=Ft(e,i)}function lp(){var e=this,t=e.node,n=e.value;t.checked=n==t._ractive.value}function hp(){var e,t=this.node,n,r,i;e=t.checked,t.value=this.element.getAttribute("value"),t.checked=this.element.getAttribute("value")===this.element.getAttribute("name");if(e&&!t.checked&&this.element.binding){r=this.element.binding.siblings;if(i=r.length){while(i--){n=r[i];if(!n.element.node)return;if(n.element.node.checked)return bn.addRactive(n.root),n.handleChange()}this.root.viewmodel.set(n.keypath,undefined)}}}function dp(){var e=this,t=e.element,n=e.node,r=e.value,i=t.binding,s,o;s=t.getAttribute("value");if(!F(r))i.isChecked=n.checked=r==s;else{o=r.length;while(o--)if(s==r[o]){i.isChecked=n.checked=!0;return}i.isChecked=n.checked=!1}}function mp(){this.node.className=x(this.value)}function yp(){var e=this,t=e.node,n=e.value;this.root.nodes[n]=t,t.id=n}function wp(){var e,t;e=this.node,t=this.value,t===undefined&&(t=""),e.style.setAttribute("cssText",t)}function Sp(){var e=this.value;e===undefined&&(e=""),this.locked||(this.node.innerHTML=e)}function Tp(){var e=this,t=e.node,n=e.value;t._ractive.value=n,this.locked||(t.value=n==undefined?"":n)}function Cp(){this.locked||(this.node[this.propertyName]=this.value)}function Lp(){var e=this,t=e.node,n=e.namespace,r=e.name,i=e.value,s=e.fragment;n?t.setAttributeNS(n,r,(s||i).toString()):this.isBoolean?i?t.setAttribute(r,""):t.removeAttribute(r):i==null?t.removeAttribute(r):t.setAttribute(r,(s||i).toString())}function Op(){var e=this,t=e.name,n=e.element,r=e.node,i,s;t==="id"?s=gp:t==="value"?n.name==="select"&&t==="value"?s=n.getAttribute("multiple")?up:sp:n.name==="textarea"?s=xp:n.getAttribute("contenteditable")!=null?s=Ep:n.name==="input"&&(i=n.getAttribute("type"),i==="file"?s=T:i==="radio"&&n.binding&&n.binding.name==="name"?s=cp:s=xp):this.isTwoway&&t==="name"?r.type==="radio"?s=fp:r.type==="checkbox"&&(s=pp):t==="style"&&r.style.setAttribute?s=bp:t!=="class"||!!r.namespaceURI&&r.namespaceURI!==a.html?this.useProperty&&(s=Np):s=vp,s||(s=kp),this.update=s,this.update()}function jp(e,t){var n=t?"svg":"div";return Pp.innerHTML="<"+n+" "+e+"></"+n+">",zt(Pp.childNodes[0].attributes)}function Fp(e,t){var n=e.length;while(n--)if(e[n].name===t.name)return!1;return!0}function Up(e){while(e=e.parent)if(e.name==="form")return e}function Wp(){this._ractive.binding.handleChange()}function $p(){var e;zp.call(this),e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=e==undefined?"":e}function Jp(){var e=this._ractive.binding,t=this;!e._timeout||clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.rendered&&zp.call(t),e._timeout=undefined},e.element.lazy)}function Zp(e,t,n){var r=e+t+n;return Yp[r]||(Yp[r]=[])}function sd(e){return e.isChecked}function od(e){return e.element.getAttribute("value")}function yd(e){var t=e.attributes,n,r,i,s,o;e.binding&&(e.binding.teardown(),e.binding=null),(e.getAttribute("contenteditable")||!!t.contenteditable&&bd(t.contenteditable))&&bd(t.value)?r=Qp:e.name==="input"?(n=e.getAttribute("type"),n==="radio"||n==="checkbox"?(i=bd(t.name),s=bd(t.checked),i&&s&&Y("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:e.root}),i?r=n==="radio"?rd:ud:s&&(r=n==="radio"?td:fd)):n==="file"&&bd(t.value)?r=vd:bd(t.value)&&(r=n==="number"||n==="range"?md:Vp)):e.name==="select"&&bd(t.value)?r=e.getAttribute("multiple")?pd:cd:e.name==="textarea"&&bd(t.value)&&(r=Vp);if(r&&(o=new r(e))&&o.keypath)return o}function bd(e){return e&&e.isBindable}function Ed(){var e=this.getAction();e&&!this.hasListener?this.listen():!e&&this.hasListener&&this.unrender()}function xd(e){ur(this.root,this.getAction(),{event:e})}function Nd(){return this.action.toString().trim()}function Ld(e,t,n){var r=this,i,s,o;this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.name=t,t.indexOf("*")!==-1&&(J('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',e.name,t),this.invalid=!0),n.m?(s=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Ll(n.a.s,s.length),this.parentFragment=e.parentFragment,o=this.root,this.refResolvers=[],s.forEach(function(e,t){var n=undefined;(n=kd.exec(e))?r.keypaths[t]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:r.refResolvers.push(Cl(r,e,function(e){return r.resolve(t,e)}))}),this.fire=Ad):(i=n.n||n,typeof i!="string"&&(i=new Zb({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new Zb({template:n.d,root:this.root,owner:this.element}),this.fire=Md):n.a&&(this.params=n.a,this.fire=Od))}function Ad(e){var t,n,r;t=this.root;if(typeof t[this.method]!="function")throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,s;if(n===undefined)return undefined;if(n.eventObject){r=e;if(i=n.refinements.length)for(s=0;s<i;s+=1)r=r[n.refinements[s]]}else r=t.viewmodel.get(n);return r}),or.enqueue(t,e),r=this.fn.apply(null,n),t[this.method].apply(t,r),or.dequeue(t)}function Od(e){ur(this.root,this.getAction(),{event:e,args:this.params})}function Md(e){var t=this.dynamicParams.getArgsList();typeof t=="string"&&(t=t.substr(1,t.length-2)),ur(this.root,this.getAction(),{event:e,args:t})}function Dd(e){var t,n,r,i={};t=this._ractive,n=t.events[e.type];if(r=Tl(n.element.parentFragment))i=Tl.resolve(r);n.fire({node:this,original:e,index:i,keypath:t.keypath.str,context:t.root.viewmodel.get(t.keypath)})}function jd(){var e,t=this.name;if(this.invalid)return;if(e=rt("events",this.root,t))this.custom=e(this.node,Fd(t));else{if(!("on"+t in this.node)&&!(window&&"on"+t in window)&&!s){Bd[t]||Z(nt(t,"event"),{node:this.node});return}this.node.addEventListener(t,_d,!1)}this.hasListener=!0}function Fd(e){return Hd[e]||(Hd[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath.str,t.context=n.root.viewmodel.get(n.keypath),n.events[e].fire(t)}),Hd[e]}function qd(e,t){function r(n){n&&n.rebind(e,t)}var n;if(this.method){n=this.element.parentFragment,this.refResolvers.forEach(r);return}typeof this.action!="string"&&r(this.action),this.dynamicParams&&r(this.dynamicParams)}function Ud(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Wd(e,t){this.keypaths[e]=t}function Vd(){if(this.method){this.refResolvers.forEach(un);return}typeof this.action!="string"&&this.action.unbind(),this.dynamicParams&&this.dynamicParams.unbind()}function Jd(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,_d,!1),this.hasListener=!1}function ev(){var e=this;this.dirty||(this.dirty=!0,bn.scheduleTask(function(){tv(e),e.dirty=!1})),this.parentFragment.bubble()}function tv(e){var t,n,r,i,s;t=e.node;if(!t)return;i=zt(t.options),n=e.getAttribute("value"),r=e.getAttribute("multiple"),n!==undefined?(i.forEach(function(e){var t,i;t=e._ractive?e._ractive.value:e.value,i=r?nv(n,t):n==t,i&&(s=!0),e.selected=i}),s||(i[0]&&(i[0].selected=!0),e.binding&&e.binding.forceUpdate())):e.binding&&e.binding.forceUpdate()}function nv(e,t){var n=e.length;while(n--)if(e[n]==t)return!0}function rv(e,t){e.select=sv(e.parent);if(!e.select)return;e.select.options.push(e),t.a||(t.a={}),t.a.value===undefined&&!t.a.hasOwnProperty("disabled")&&(t.a.value=t.f),"selected"in t.a&&e.select.getAttribute("value")!==undefined&&delete t.a.selected}function iv(e){e.select&&Ut(e.select.options,e)}function sv(e){if(!e)return;do if(e.name==="select")return e;while(e=e.parent)}function uv(e){var t,n,r,i,s,o,u;this.type=zi,t=this.parentFragment=e.parentFragment,n=this.template=e.template,this.parent=e.pElement||t.pElement,this.root=r=t.root,this.index=e.index,this.key=e.key,this.name=zh(n.e),this.name==="option"&&rv(this,n),this.name==="select"&&(this.options=[],this.bubble=ev),this.name==="form"&&(this.formBindings=[]),u=Bh(this,n),this.attributes=Dp(this,n.a),this.conditionalAttributes=Ip(this,n.m),n.f&&(this.fragment=new Zb({template:n.f,root:r,owner:this,pElement:this,cssIds:null})),o=r.twoway,u.twoway===!1?o=!1:u.twoway===!0&&(o=!0),this.twoway=o,this.lazy=u.lazy,o&&(i=gd(this,n.a))&&(this.binding=i,s=this.root._twowayBindings[i.keypath.str]||(this.root._twowayBindings[i.keypath.str]=[]),s.push(i)),n.v&&(this.eventHandlers=Gd(this,n.v)),n.o&&(this.decorator=new Zd(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function fv(e,t){function o(n){n.rebind(e,t)}var n,r,i,s;this.attributes&&this.attributes.forEach(o),this.conditionalAttributes&&this.conditionalAttributes.forEach(o),this.eventHandlers&&this.eventHandlers.forEach(o),this.decorator&&o(this.decorator),this.fragment&&o(this.fragment);if(i=this.liveQueries){s=this.root,n=i.length;while(n--)i[n]._makeDirty()}this.node&&(r=this.node._ractive)&&yt(r,"keypath",e,t)}function lv(e){var t;(e.attributes.width||e.attributes.height)&&e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),r=e.getAttribute("height");n!==undefined&&e.node.setAttribute("width",n),r!==undefined&&e.node.setAttribute("height",r),e.node.removeEventListener("load",t,!1)},!1)}function cv(e){e.node.addEventListener("reset",pv,!1)}function hv(e){e.node.removeEventListener("reset",pv,!1)}function pv(){var e=this._ractive.proxy;bn.start(),e.formBindings.forEach(dv),bn.end()}function dv(e){e.root.viewmodel.set(e.keypath,e.resetValue)}function mv(e,t,n){var r,i,s;this.element=e,this.root=r=e.root,this.isIntro=n,i=t.n||t;if(typeof i!="string"){s=new Zb({template:i,root:r,owner:e}),i=s.toString(),s.unbind();if(i==="")return}this.name=i,t.a?this.params=t.a:t.d&&(s=new Zb({template:t.d,root:r,owner:e}),this.params=s.getArgsList(),s.unbind()),this._fn=rt("transitions",r,i),this._fn||Z(nt(i,"transition"),{ractive:this.root})}function Lv(e){return e}function Kv(){Jv.hidden=document[Wv]}function Qv(){Jv.hidden=!0}function Gv(){Jv.hidden=!1}function sm(){var e=this,t,n,r;t=this.node=this.element.node,n=t.getAttribute("style"),this.complete=function(i){if(r)return;!i&&e.isIntro&&om(t,n),t._ractive.transition=null,e._manager.remove(e),r=!0};if(!this._fn){this.complete();return}this._fn.apply(this.root,[this].concat(this.params))}function om(e,t){t?e.setAttribute("style",t):(e.getAttribute("style"),e.removeAttribute("style"))}function hm(){var e=this,t=this.root,n,r,i;return n=pm(this),r=this.node=h(this.name,n),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(e){return"{"+e+"}"}).join(" ")),O(this.node,"_ractive",{value:{proxy:this,keypath:Yt(this.parentFragment),events:A(null),root:t}}),this.attributes.forEach(function(e){return e.render(r)}),this.conditionalAttributes.forEach(function(e){return e.render(r)}),this.fragment&&(this.name==="script"?(this.bubble=cm,this.node.text=this.fragment.toString(!1),this.fragment.unrender=T):this.name==="style"?(this.bubble=lm,this.bubble(),this.fragment.unrender=T):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=T:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.render()}),this.name==="option"&&dm(this),this.name==="img"?lv(this):this.name==="form"?cv(this):this.name==="input"||this.name==="textarea"?this.node.defaultValue=this.node.value:this.name==="option"&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&bn.scheduleTask(function(){e.decorator.torndown||e.decorator.init()},!0),t.transitionsEnabled&&this.intro&&(i=new am(this,this.intro,!0),bn.registerTransition(i),bn.scheduleTask(function(){return i.start()},!0),this.transition=i),this.node.autofocus&&bn.scheduleTask(function(){return e.node.focus()},!0),vm(this),this.node}function pm(e){var t,n,r;return(n=e.getAttribute("xmlns"))?t=n:e.name==="svg"?t=a.svg:(r=e.parent)?r.name==="foreignObject"?t=a.html:t=r.node.namespaceURI:t=e.root.el.namespaceURI,t}function dm(e){var t,n,r;if(!e.select)return;n=e.select.getAttribute("value");if(n===undefined)return;t=e.getAttribute("value");if(e.select.node.multiple&&F(n)){r=n.length;while(r--)if(t==n[r]){e.node.selected=!0;break}}else e.node.selected=t==n}function vm(e){var t,n,r,i,s;t=e.root;do{n=t._liveQueries,r=n.length;while(r--)i=n[r],s=n["_"+i],s._test(e)&&(e.liveQueries||(e.liveQueries=[])).push(s)}while(t=t.parent)}function gm(e){var t,n,r;t=e.getAttribute("value");if(t===undefined||!e.select)return!1;n=e.select.getAttribute("value");if(n==t)return!0;if(e.select.getAttribute("multiple")&&F(n)){r=n.length;while(r--)if(n[r]==t)return!0}}function ym(e){var t,n,r,i;t=e.attributes,n=t.type,r=t.value,i=t.name;if(!n||n.value!=="radio"||!r||!i.interpolator)return;if(r.value===i.interpolator.value)return!0}function bm(e){var t=e.toString();return t?" "+t:""}function Em(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(un),this.name==="option"&&iv(this),this.attributes.forEach(un),this.conditionalAttributes.forEach(un)}function xm(e){var t,n,r;(r=this.transition)&&r.complete(),this.name==="option"?this.detach():e&&bn.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1);if(t=this.binding)this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[t.keypath.str],n.splice(n.indexOf(t),1);this.eventHandlers&&this.eventHandlers.forEach(an),this.decorator&&bn.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(r=new am(this,this.outro,!1),bn.registerTransition(r),bn.scheduleTask(function(){return r.start()})),this.liveQueries&&Tm(this),this.name==="form"&&hv(this)}function Tm(e){var t,n,r;r=e.liveQueries.length;while(r--)t=e.liveQueries[r],n=t.selector,t._remove(e.node)}function Om(e,t){var n=Lm.exec(t)[0];return e===null||n.length<e.length?n:e}function _m(e,t,n){var r;if(r=Dm(e,t,n||{}))return r;r=lf.fromId(t,{noThrow:!0});if(r){r=Am(r);var i=lf.parse(r,lf.getParseOptions(e));return e.partials[t]=i.t}}function Dm(e,t,n){var r=undefined,i=Bm(t,n.owner);if(i)return i;var s=it("partials",e,t);if(!s)return;i=s.partials[t],typeof i=="function"&&(r=i.bind(s),r.isOwner=s.partials.hasOwnProperty(t),i=r.call(e,lf));if(!i&&i!==""){Y(tt,t,"partial","partial",{ractive:e});return}if(!lf.isParsed(i)){var o=lf.parse(i,lf.getParseOptions(s));o.p&&Y("Partials ({{>%s}}) cannot contain nested inline partials",t,{ractive:e});var u=r?s:Pm(s,t);u.partials[t]=i=o.t}return r&&(i._fn=r),i.v?i.t:i}function Pm(e,t){return e.partials.hasOwnProperty(t)?e:Hm(e.constructor,t)}function Hm(e,t){if(!e)return;return e.partials.hasOwnProperty(t)?e:Hm(e._Parent,t)}function Bm(e,t){if(t){if(t.template&&t.template.p&&t.template.p[e])return t.template.p[e];if(t.parentFragment&&t.parentFragment.owner)return Bm(e,t.parentFragment.owner)}}function Um(e,t){var n,r=it("components",e,t);if(r){n=r.components[t];if(!n._Parent){var i=n.bind(r);i.isOwner=r.components.hasOwnProperty(t),n=i();if(!n){Y(tt,t,"component","component",{ractive:e});return}typeof n=="string"&&(n=Um(e,n)),n._fn=i,r.components[t]=n}}return n}function Xm(){var e=this.instance.fragment.detach();return Wm.fire(this.instance),e}function $m(e){return this.instance.fragment.find(e)}function Km(e,t){return this.instance.fragment.findAll(e,t)}function Gm(e,t){t._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(e,t)}function Zm(e){return!e||e===this.name?this.instance:this.instance.fragment?this.instance.fragment.findComponent(e):null}function tg(){return this.parentFragment.findNextNode(this)}function rg(){return this.rendered?this.instance.fragment.firstNode():null}function wg(e,t,n){function f(e){var n,r;e.value=t;if(e.updating)return;r=e.ractive,n=e.keypath,e.updating=!0,bn.start(r),r.viewmodel.mark(n),bn.end(),e.updating=!1}var r,i,s,o,u,a;r=e.obj,i=e.prop;if(n&&!n.configurable){if(i==="length")return;throw new Error('Cannot use magic mode with property "'+i+'" - object is not configurable')}n&&(s=n.get,o=n.set),u=s||function(){return t},a=function(e){o&&o(e),t=s?s():e,a._ractiveWrappers.forEach(f)},a._ractiveWrappers=[e],Object.defineProperty(r,i,{get:u,set:a,enumerable:!0,configurable:!0})}function Cg(e,t){var n,r,i,s;if(!this.adaptors)return;n=this.adaptors.length;for(r=0;r<n;r+=1){i=this.adaptors[r];if(i.filter(t,e,this.ractive)){s=this.wrapped[e]=i.wrap(this.ractive,t,e,Lg(e)),s.value=t;return}}}function kg(e,t){var n={},r;if(!t)return e;t+=".";for(r in e)e.hasOwnProperty(r)&&(n[t+r]=e[r]);return n}function Lg(e){var t;return Ng[e]||(t=e?e+".":"",Ng[e]=function(n,r){var i;if(typeof n=="string")return i={},i[t+n]=r,i;if(typeof n=="object")return t?kg(n,e):n}),Ng[e]}function Og(e){var t=[Tt],n,r;n=e.length;while(n--){r=e[n].parent;while(r&&!r.isRoot)e.indexOf(r)===-1&&jt(t,r),r=r.parent}return t}function _g(e,t,n){var r;Pg(e,t);if(n)return;r=t.wildcardMatches(),r.forEach(function(n){Dg(e,n,t)})}function Dg(e,t,n){var r,i,s;t=t.str||t,r=e.depsMap.patternObservers,i=r&&r[t];if(!i)return;i.forEach(function(t){s=n.join(t.lastKey),Pg(e,s),Dg(e,t,s)})}function Pg(e,t){e.patternObservers.forEach(function(e){e.regex.test(t.str)&&e.update(t)})}function Bg(){function o(e){var r=e.key;e.viewmodel===t?(t.clearCache(r.str),e.invalidate(),n.push(r),u(r)):e.viewmodel.mark(r)}function u(e){var n,r;if(t.noCascade.hasOwnProperty(e.str))return;(r=t.deps.computed[e.str])&&r.forEach(o),(n=t.depsMap.computed[e.str])&&n.forEach(u)}var e=this,t=this,n,r,i={},s;n=this.changes;if(!n.length)return;return n.slice().forEach(u),r=Ag(n),r.forEach(function(e){var r;n.indexOf(e)===-1&&(r=t.deps.computed[e.str])&&r.forEach(o)}),this.changes=[],this.patternObservers.length&&(r.forEach(function(t){return Mg(e,t,!0)}),n.forEach(function(t){return Mg(e,t)})),this.deps.observers&&(r.forEach(function(t){return jg(e,null,t,"observers")}),Ig(this,n,"observers")),this.deps["default"]&&(s=[],r.forEach(function(t){return jg(e,s,t,"default")}),s.length&&Fg(this,s,n),Ig(this,n,"default")),n.forEach(function(t){i[t.str]=e.get(t)}),this.implicitChanges={},this.noCascade={},i}function jg(e,t,n,r){var i,s;if(i=qg(e,n,r))s=e.get(n),i.forEach(function(e){t&&e.refineValue?t.push(e):e.setValue(s)})}function Fg(e,t,n){t.forEach(function(t){var r=!1,i=0,s=n.length,o=[];while(i<s){var u=n[i];if(u===t.keypath){r=!0;break}u.slice(0,t.keypath.length)===t.keypath&&o.push(u),i++}r&&t.setValue(e.get(t.keypath)),o.length&&t.refineValue(o)})}function Ig(e,t,n){function i(e){e.forEach(s),e.forEach(o)}function s(t){var i=qg(e,t,n);i&&r.push({keypath:t,deps:i})}function o(t){var r;(r=e.depsMap[n][t.str])&&i(r)}function u(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}var r=[];i(t),r.forEach(u)}function qg(e,t,n){var r=e.deps[n];return r?r[t.str]:null}function Ug(){this.captureGroups.push([])}function Wg(e,t){var n,r;t||(r=this.wrapped[e])&&r.teardown()!==!1&&(this.wrapped[e]=null),this.cache[e]=undefined;if(n=this.cacheMap[e])while(n.length)this.clearCache(n.pop())}function Jg(e,t){var n=t.firstKey;return!(n in e.data)&&!(n in e.computations)&&!(n in e.mappings)}function Gg(e,t){var n=new Kg(e,t);return this.ready&&n.init(this),this.computations[e.str]=n}function ty(e,t){var n=this.cache,r,i,s,o,u=e.str,a;t=t||ey,t.capture&&(o=Rt(this.captureGroups))&&(~o.indexOf(e)||o.push(e));if(H.call(this.mappings,e.firstKey))return this.mappings[e.firstKey].get(e,t);if(e.isSpecial)return e.value;n[u]===undefined?((i=this.computations[u])&&!i.bypass?(r=i.get(),this.adapt(u,r)):(s=this.wrapped[u])?r=s.value:e.isRoot?(this.adapt("",this.data),r=this.data):r=ny(this,e),n[u]=r):r=n[u],!t.noUnwrap&&(s=this.wrapped[u])&&(r=s.get());if(e.isRoot&&t.fullRootGet)for(a in this.mappings)r[a]=this.mappings[a].getValue();return r===Yg?void 0:r}function ny(e,t){var n,r,i,s;n=e.get(t.parent);if(s=e.wrapped[t.parent.str])n=s.get();if(n===null||n===undefined)return;return(r=e.cacheMap[t.parent.str])?r.indexOf(t.str)===-1&&r.push(t.str):e.cacheMap[t.parent.str]=[t.str],typeof n!="object"||t.lastKey in n?(i=n[t.lastKey],e.adapt(t.str,i,!1),e.cache[t.str]=i,i):e.cache[t.str]=Yg}function iy(){var e;for(e in this.computations)this.computations[e].init(this)}function oy(e,t){var n=this.mappings[e.str]=new uy(e,t);return n.initViewmodel(this),n}function fy(e,t){var n,r=e.str;t&&(t.implicit&&(this.implicitChanges[r]=!0),t.noCascade&&(this.noCascade[r]=!0)),(n=this.computations[r])&&n.invalidate(),this.changes.indexOf(e)===-1&&this.changes.push(e);var i=t?t.keepExistingWrapper:!1;this.clearCache(r,i),this.ready&&this.onchange()}function py(e,t,n,r){var i,s,o,u;this.mark(e);if(r&&r.compare){o=vy(r.compare);try{i=t.map(o),s=n.map(o)}catch(a){Y('merge(): "%s" comparison failed. Falling back to identity checking',e),i=t,s=n}}else i=t,s=n;u=ly(i,s),this.smartUpdate(e,n,u,t.length!==n.length)}function dy(e){return JSON.stringify(e)}function vy(e){if(e===!0)return dy;if(typeof e=="string")return hy[e]||(hy[e]=function(t){return t[e]}),hy[e];if(typeof e=="function")return e;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function gy(e,t){var n=arguments[2]===undefined?"default":arguments[2],r,i,s;if(t.isStatic)return;(r=this.mappings[e.firstKey])?r.register(e,t,n):(i=this.deps[n]||(this.deps[n]={}),s=i[e.str]||(i[e.str]=[]),s.push(t),this.depsMap[n]||(this.depsMap[n]={}),e.isRoot||yy(this,e,n))}function yy(e,t,n){var r,i,s;while(!t.isRoot)r=e.depsMap[n],i=r[t.parent.str]||(r[t.parent.str]=[]),s=t.str,i["_"+s]===undefined&&(i["_"+s]=0,i.push(t)),i["_"+s]+=1,t=t.parent}function wy(){return this.captureGroups.pop()}function Sy(e){this.data=e,this.clearCache("")}function Ty(e,t){var n=arguments[2]===undefined?{}:arguments[2],r,i,s,o;if(!n.noMapping)if(r=this.mappings[e.firstKey])return r.set(e,t);i=this.computations[e.str];if(i){if(i.setting)return;i.set(t),t=i.get()}if(q(this.cache[e.str],t))return;s=this.wrapped[e.str],s&&s.reset&&(o=s.reset(t)!==!1,o&&(t=s.get())),!i&&!o&&Ny(this,e,t),n.silent?this.clearCache(e.str):this.mark(e)}function Ny(e,t,n){var r,i,s,o;s=function(){r.set?r.set(t.lastKey,n):(i=r.get(),o())},o=function(){i||(i=mg(t.lastKey),e.set(t.parent,i,{silent:!0})),i[t.lastKey]=n},r=e.wrapped[t.parent.str],r?s():(i=e.get(t.parent),(r=e.wrapped[t.parent.str])?s():o())}function Ay(e,t,n){var r=this,i,s,o;s=n.length,n.forEach(function(t,n){t===-1&&r.mark(e.join(n),Ly)}),this.set(e,t,{silent:!0}),(i=this.deps["default"][e.str])&&i.filter(Oy).forEach(function(e){return e.shuffle(n,t)});if(s!==t.length){this.mark(e.join("length"),ky);for(o=n.touchedFrom;o<t.length;o+=1)this.mark(e.join(o));for(o=t.length;o<s;o+=1)this.mark(e.join(o),Ly)}}function Oy(e){return typeof e.shuffle=="function"}function _y(){var e=this,t;Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});while(t=this.unresolvedImplicitDependencies.pop())t.teardown()}function Py(e,t){var n=arguments[2]===undefined?"default":arguments[2],r,i,s;if(t.isStatic)return;if(r=this.mappings[e.firstKey])return r.unregister(e,t,n);i=this.deps[n][e.str],s=i.indexOf(t);if(s===-1)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(s,1);if(e.isRoot)return;Hy(this,e,n)}function Hy(e,t,n){var r,i;while(!t.isRoot)r=e.depsMap[n],i=r[t.parent.str],i["_"+t.str]-=1,i["_"+t.str]||(Ut(i,t),i["_"+t.str]=undefined),t=t.parent}function Fy(e){this.hook=new Bt(e),this.inProcess={},this.queue={}}function Iy(e,t){return e[t._guid]||(e[t._guid]=[])}function qy(e,t){var n=Iy(e.queue,t);e.hook.fire(t);while(n.length)qy(e,n.shift());delete e.queue[t._guid]}function Wy(e,t){var n={},r;for(r in t)n[r]=Xy(e,r,t[r]);return n}function Xy(e,t,n){var r,i;return typeof n=="function"&&(r=$y(n,e)),typeof n=="string"&&(r=Vy(e,n)),typeof n=="object"&&(typeof n.get=="string"?r=Vy(e,n.get):typeof n.get=="function"?r=$y(n.get,e):J("`%s` computation must have a `get()` method",t),typeof n.set=="function"&&(i=$y(n.set,e))),{getter:r,setter:i}}function Vy(e,t){var n,r,i;return n="return ("+t.replace(zy,function(e,t){return r=!0,'__ractive.get("'+t+'")'})+");",r&&(n="var __ractive = this; "+n),i=new Function(n),r?i.bind(e):i}function $y(e,t){return/this/.test(e.toString())?e.bind(t):e}function eb(e){var t=arguments[1]===undefined?{}:arguments[1],n=arguments[2]===undefined?{}:arguments[2],r,i;Kw.DEBUG&&V(),rb(e,n),O(e,"data",{get:ib}),Jy.fire(e,t),Yy.forEach(function(n){e[n]=D(A(e.constructor[n]||null),t[n])}),i=new jy({adapt:tb(e,e.adapt,t),data:Ai.init(e.constructor,e,t),computed:Uy(e,D(A(e.constructor.prototype.computed),t.computed)),mappings:n.mappings,ractive:e,onchange:function(){return bn.addRactive(e)}}),e.viewmodel=i,i.init(),Ff.init(e.constructor,e,t),Ky.fire(e),Qy.begin(e);if(e.template){var s=undefined;if(n.cssIds||e.cssId)s=n.cssIds?n.cssIds.slice():[],e.cssId&&s.push(e.cssId);e.fragment=new Zb({template:e.template,root:e,owner:e,cssIds:s})}Qy.end(e);if(r=E(e.el)){var o=e.render(r,e.append);Kw.DEBUG_PROMISES&&o["catch"](function(t){throw Z("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),Y("An error happened during rendering",{ractive:e}),t.stack&&K(t.stack),t})}}function tb(e,t,n){function o(t){return typeof t=="string"&&(t=rt("adaptors",e,t),t||J(nt(t,"adaptor"))),t}var r,i,s;t=t.map(o),r=qt(n.adapt).map(o),r=nb(t,r),i="magic"in n?n.magic:e.magic,s="modifyArrays"in n?n.modifyArrays:e.modifyArrays;if(i){if(!u)throw new Error("Getters and setters (magic mode) are not supported in this browser");s&&r.push(xg),r.push(bg)}return s&&r.push(dg),r}function nb(e,t){var n=e.slice(),r=t.length;while(r--)~n.indexOf(t[r])||n.push(t[r]);return n}function rb(e,t){e._guid="r-"+Gy++,e._subs=A(null),e._config={},e._twowayBindings=A(null),e._animations=[],e.nodes={},e._liveQueries=[],e._liveComponentQueries=[],e._boundFunctions=[],e._observers=[],t.component?(e.parent=t.parent,e.container=t.container||null,e.root=e.parent.root,e.component=t.component,t.component.instance=e,e._inlinePartials=t.inlinePartials):(e.root=e,e.parent=e.container=null)}function ib(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function sb(e,t,n){this.parentFragment=e.parentFragment,this.callback=n,this.fragment=new Zb({template:t,root:e.root,owner:this}),this.update()}function ab(e,t,n){var r;return t.r?r=Cl(e,t.r,n):t.x?r=new Dl(e,e.parentFragment,t.x,n):t.rx&&(r=new Xl(e,t.rx,n)),r}function fb(e){return e.length===1&&e[0].t===Fi}function cb(e,t){var n;for(n in t)t.hasOwnProperty(n)&&hb(e.instance,e.root,n,t[n])}function hb(e,t,n,r){typeof r!="string"&&J("Components currently only support simple events - you cannot include arguments. Sorry!"),e.on(n,function(){var e,n;return arguments.length&&arguments[0]&&arguments[0].node&&(e=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),ur(t,r,{event:e,args:n}),!1})}function vb(e,t){var n,r;if(!t)throw new Error('Component "'+this.name+'" not found');n=this.parentFragment=e.parentFragment,r=n.root,this.root=r,this.type=Ki,this.name=e.template.e,this.index=e.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],ub(this,t,e.template.a,e.template.f,e.template.p),lb(this,e.template.v),(e.template.t0||e.template.t1||e.template.t2||e.template.o)&&Y('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),pb(this)}function gb(e,t){function i(n){n.rebind(e,t)}var n;this.resolvers.forEach(i);for(var r in this.yielders)this.yielders[r][0]&&i(this.yielders[r][0]);(n=this.root._liveComponentQueries["_"+this.name])&&n._makeDirty()}function bb(){var e=this.instance;return e.render(this.parentFragment.getNode()),this.rendered=!0,e.fragment.detach()}function Eb(){return this.instance.fragment.toString()}function Tb(){var e=this.instance;this.resolvers.forEach(un),Nb(this),e._observers.forEach(fn),e.fragment.unbind(),e.viewmodel.teardown(),e.fragment.rendered&&e.el.__ractive_instances__&&Ut(e.el.__ractive_instances__,e),xb.fire(e)}function Nb(e){var t,n;t=e.root;do(n=t._liveComponentQueries["_"+e.name])&&n._remove(e);while(t=t.parent)}function kb(e){this.shouldDestroy=e,this.instance.unrender()}function jb(e){var t=this;this.owner=e.owner,this.parent=this.owner.parentFragment,this.root=e.root,this.pElement=e.pElement,this.context=e.context,this.index=e.index,this.key=e.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in e?e.cssIds:this.parent?this.parent.cssIds:null,this.items=e.template.map(function(n,r){return Fb({parentFragment:t,pElement:e.pElement,template:n,index:r})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Fb(e){if(typeof e.template=="string")return new cl(e);switch(e.template.t){case Qi:return new Db(e);case Fi:return new ec(e);case qi:return new Vc(e);case Ii:return new wh(e);case zi:var t=undefined;if(t=Rm(e.parentFragment.root,e.template.e))return new Ab(e,t);return new Cm(e);case Wi:return new qm(e);case Xi:return new Mb(e);case Yi:return new Hb(e);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function qb(e,t){(!this.owner||this.owner.hasContext)&&yt(this,"context",e,t),this.items.forEach(function(n){n.rebind&&n.rebind(e,t)})}function Ub(){var e;return this.items.length===1?e=this.items[0].render():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.render())})),this.rendered=!0,e}function Wb(e){return this.items?this.items.map(e?Vb:Xb).join(""):""}function Xb(e){return e.toString()}function Vb(e){return e.toString(!0)}function Jb(){if(!this.bound)return;this.items.forEach(Kb),this.bound=!1}function Kb(e){e.unbind&&e.unbind()}function Gb(e){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(e)}),this.rendered=!1}function rw(e){var t,n,r,i,s;e=e||{};if(typeof e!="object")throw new Error("The reset method takes either no arguments, or an object containing new data");(n=this.viewmodel.wrapped[""])&&n.reset?n.reset(e)===!1&&this.viewmodel.reset(e):this.viewmodel.reset(e),r=Ff.reset(this),i=r.length;while(i--)if(tw.indexOf(r[i])>-1){s=!0;break}if(s){var o=undefined;this.viewmodel.mark(Tt);if(o=this.component)o.shouldDestroy=!0;this.unrender(),o&&(o.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new Zb({template:this.template,root:this,owner:this})),t=this.render(this.el,this.anchor)}else t=bn.start(this,!0),this.viewmodel.mark(Tt),bn.end();return nw.fire(this,e),t}function ow(e){var t,n;gf.init(null,this,{template:e}),t=this.transitionsEnabled,this.transitionsEnabled=!1;if(n=this.component)n.shouldDestroy=!0;this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new Zb({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=t}function fw(e,t){var n,r;r=bn.start(this,!0);if(U(e)){n=e;for(e in n)n.hasOwnProperty(e)&&(t=n[e],lw(this,e,t))}else lw(this,e,t);return bn.end(),r}function lw(e,t,n){t=wt(xt(t)),t.isPattern?Et(e,t).forEach(function(t){e.viewmodel.set(t,n)}):e.viewmodel.set(t,n)}function vw(e,t){return Nt(this,e,t===undefined?-1:-t)}function yw(){var e;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(fn),this.fragment.rendered&&this.el.__ractive_instances__&&Ut(this.el.__ractive_instances__,this),this.shouldDestroy=!0,e=this.fragment.rendered?this.unrender():Jt.resolve(),gw.fire(this),this._boundFunctions.forEach(bw),e}function bw(e){delete e.fn[e.prop]}function Ew(e){var t=this;if(typeof e!="string")throw new TypeError(et);var n=undefined;return/\*/.test(e)?(n={},Et(this,wt(xt(e))).forEach(function(e){n[e.str]=!t.viewmodel.get(e)}),this.set(n)):this.set(e,!this.get(e))}function xw(){return this.fragment.toString(!0)}function Cw(){var e,t;if(!this.fragment.rendered)return Y("ractive.unrender() was called on a Ractive instance that was not rendered"),Jt.resolve();e=bn.start(this,!0),t=!this.component||this.component.shouldDestroy||this.shouldDestroy;while(this._animations[0])this._animations[0].stop();return this.fragment.unrender(t),Ut(this.el.__ractive_instances__,this),Nw.fire(this),bn.end(),e}function Ow(e){var t;return e=wt(e)||Tt,t=bn.start(this,!0),this.viewmodel.mark(e),bn.end(),Aw.fire(this,e),t}function _w(e,t){var n,r,i;if(typeof e=="string"&&!t)i=this._twowayBindings[e];else{i=[];for(r in this._twowayBindings)(!e||wt(r).equalsOrStartsWith(e))&&i.push.apply(i,this._twowayBindings[r])}return n=Dw(this,i),this.set(n)}function Dw(e,t){var n={},r=[];return t.forEach(function(e){var t,i;if(e.radioName&&!e.element.node.checked)return;if(e.checkboxName){!r[e.keypath.str]&&!e.changed()&&(r.push(e.keypath),r[e.keypath.str]=e);return}t=e.attribute.value,i=e.getValue();if(It(t,i))return;q(t,i)||(n[e.keypath.str]=i)}),r.length&&r.forEach(function(e){var t,i,s;t=r[e.str],i=t.attribute.value,s=t.getValue(),It(i,s)||(n[e.str]=s)}),n}function Bw(e,t){return typeof t=="function"&&/_super/.test(e)}function Fw(e){var t={};while(e)Iw(e,t),Rw(e,t),e._Parent!==Kw?e=e._Parent:e=!1;return t}function Iw(e,t){Ef.forEach(function(n){qw(n.useDefaults?e.prototype:e,t,n.name)})}function qw(e,t,n){var r,i=Object.keys(e[n]);if(!i.length)return;(r=t[n])||(r=t[n]={}),i.filter(function(e){return!(e in r)}).forEach(function(t){return r[t]=e[n][t]})}function Rw(e,t){Object.keys(e.prototype).forEach(function(n){if(n==="computed")return;var r=e.prototype[n];if(n in t){if(typeof t[n]=="function"&&typeof r=="function"&&t[n]._method){var i=undefined,s=r._method;s&&(r=r._method),i=Hw(t[n]._method,r),s&&(i._method=i),t[n]=i}}else t[n]=r._method?r._method:r})}function zw(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length?t.reduce(Ww,this):Ww(this)}function Ww(e){var t=arguments[1]===undefined?{}:arguments[1],n,r;return t.prototype instanceof Kw&&(t=jw(t)),n=function(e){if(!(this instanceof n))return new n(e);Zy(this,e)},r=A(e.prototype),r.constructor=n,M(n,{defaults:{value:r},extend:{value:zw,writable:!0,configurable:!0},_Parent:{value:e}}),Ff.extend(e,r,t),Ai.extend(e,r,t),t.computed&&(r.computed=D(A(e.prototype.computed),t.computed)),n.prototype=r,n}var e=3,t={el:void 0,append:!1,template:{v:e,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},n=t,r={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}},i,s,o,u,a,f,l;i=typeof document=="object",s=typeof navigator!="undefined"&&/jsDom/.test(navigator.appName),o=typeof console!="undefined"&&typeof console.warn=="function"&&typeof console.warn.apply=="function";try{Object.defineProperty({},"test",{value:0}),u=!0}catch(c){u=!1}a={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},typeof document=="undefined"?f=!1:f=document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),l=["o","ms","moz","webkit"];var h,p,d,v,m,g,y,b,w;f?h=function(e,t){return!t||t===a.html?document.createElement(e):document.createElementNS(t,e)}:h=function(e,t){if(t&&t!==a.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(e)};if(!i)p=null;else{d=h("div"),v=["matches","matchesSelector"],w=function(e){return function(t,n){return t[e](n)}},y=v.length;while(y--&&!p){m=v[y];if(d[m])p=w(m);else{b=l.length;while(b--){g=l[y]+m.substr(0,1).toUpperCase()+m.substring(1);if(d[g]){p=w(g);break}}}}p||(p=function(e,t){var n,r,i;r=e.parentNode,r||(d.innerHTML="",r=d,e=e.cloneNode(),d.appendChild(e)),n=r.querySelectorAll(t),i=n.length;while(i--)if(n[i]===e)return!0;return!1})}var T=function(){},N,C,k;typeof window=="undefined"?k=null:(N=window,C=N.document,k={},C||(k=null),Date.now||(Date.now=function(){return+(new Date)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),Object.keys||(Object.keys=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if(typeof i!="object"&&typeof i!="function"||i===null)throw new TypeError("Object.keys called on non-object");var s=[];for(var o in i)e.call(i,o)&&s.push(o);if(t)for(var u=0;u<r;u++)e.call(i,n[u])&&s.push(n[u]);return s}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n;t===undefined&&(t=0),t<0&&(t+=this.length),t<0&&(t=0);for(n=this.length;t<n;t++)if(this.hasOwnProperty(t)&&this[t]===e)return t;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,r;for(n=0,r=this.length;n<r;n+=1)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)}),Array.prototype.map||(Array.prototype.map=function(e,t){var n=this,r,i,s=[],o;n instanceof String&&(n=n.toString(),o=!0);for(r=0,i=n.length;r<i;r+=1)if(n.hasOwnProperty(r)||o)s[r]=e.call(t,n[r],r,n);return s}),typeof Array.prototype.reduce!="function"&&(Array.prototype.reduce=function(e,t){var n,r,i,s;if("function"!=typeof e)throw new TypeError(e+" is not a function");i=this.length,s=!1,arguments.length>1&&(r=t,s=!0);for(n=0;n<i;n+=1)this.hasOwnProperty(n)?s&&(r=e(r,this[n],n,this)):(r=this[n],s=!0);if(!s)throw new TypeError("Reduce of empty array with no initial value");return r}),Array.prototype.filter||(Array.prototype.filter=function(e,t){var n,r,i=[];for(n=0,r=this.length;n<r;n+=1)this.hasOwnProperty(n)&&e.call(t,this[n],n,this)&&(i[i.length]=this[n]);return i}),Array.prototype.every||(Array.prototype.every=function(e,t){var n,r,i;if(this==null)throw new TypeError;n=Object(this),r=n.length>>>0;if(typeof e!="function")throw new TypeError;for(i=0;i<r;i+=1)if(i in n&&!e.call(t,n[i],i,n))return!1;return!0}),typeof Function.prototype.bind!="function"&&(Function.prototype.bind=function(e){var t,n,r,i,s=[].slice;if(typeof this!="function")throw new TypeError("Function.prototype.bind called on non-function");return t=s.call(arguments,1),n=this,r=function(){},i=function(){var i=this instanceof r&&e?this:e;return n.apply(i,t.concat(s.call(arguments)))},r.prototype=this.prototype,i.prototype=new r,i}),N.addEventListener||function(e,t){var n,r,i,s,o,u;e.appearsToBeIELessEqual8=!0,n=function(e,t){var n,r=this;for(n in e)r[n]=e[n];r.currentTarget=t,r.target=e.srcElement||t,r.timeStamp=+(new Date),r.preventDefault=function(){e.returnValue=!1},r.stopPropagation=function(){e.cancelBubble=!0}},r=function(e,t){var r=this,i,s;i=r.listeners||(r.listeners=[]),s=i.length,i[s]=[t,function(e){t.call(r,new n(e,r))}],r.attachEvent("on"+e,i[s][1])},i=function(e,t){var n=this,r,i;if(!n.listeners)return;r=n.listeners,i=r.length;while(i--)r[i][0]===t&&n.detachEvent("on"+e,r[i][1])},e.addEventListener=t.addEventListener=r,e.removeEventListener=t.removeEventListener=i,"Element"in e?(e.Element.prototype.addEventListener=r,e.Element.prototype.removeEventListener=i):(u=t.createElement,t.createElement=function(e){var t=u(e);return t.addEventListener=r,t.removeEventListener=i,t},s=t.getElementsByTagName("head")[0],o=t.createElement("style"),s.insertBefore(o,s.firstChild))}(N,C),N.getComputedStyle||(k.getComputedStyle=function(){function t(e,r,i,s){var o=r[i],u=parseFloat(o),a=o.split(/\d/)[0],f;return isNaN(u)&&/^thin|medium|thick$/.test(o)&&(u=n(o),a=""),s=s!=null?s:/%|em/.test(a)&&e.parentElement?t(e.parentElement,e.parentElement.currentStyle,"fontSize",null):16,f=i=="fontSize"?s:/width/i.test(i)?e.clientWidth:e.clientHeight,a=="em"?u*s:a=="in"?u*96:a=="pt"?u*96/72:a=="%"?u/100*f:u}function n(t){var n,r;return e[t]||(n=document.createElement("div"),n.style.display="block",n.style.position="fixed",n.style.width=n.style.height="0",n.style.borderRight=t+" solid black",document.getElementsByTagName("body")[0].appendChild(n),r=n.getBoundingClientRect(),e[t]=r.right-r.left),e[t]}function r(e,t){var n=t=="border"?"Width":"",r=t+"Top"+n,i=t+"Right"+n,s=t+"Bottom"+n,o=t+"Left"+n;e[t]=(e[r]==e[i]==e[s]==e[o]?[e[r]]:e[r]==e[s]&&e[o]==e[i]?[e[r],e[i]]:e[o]==e[i]?[e[r],e[i],e[s]]:[e[r],e[i],e[s],e[o]]).join(" ")}function s(e){var n,s,o,u;n=e.currentStyle,s=this,o=t(e,n,"fontSize",null);for(u in n)n[u]==="normal"&&i.hasOwnProperty(u)?s[u]=i[u]:/width|height|margin.|padding.|border.+W/.test(u)?n[u]==="auto"?/^width|height/.test(u)?s[u]=(u==="width"?e.clientWidth:e.clientHeight)+"px":/(?:padding)?Top|Bottom$/.test(u)&&(s[u]="0px"):s[u]=t(e,n,u,o)+"px":u==="styleFloat"?s.float=n[u]:s[u]=n[u];return r(s,"margin"),r(s,"padding"),r(s,"border"),s.fontSize=o+"px",s}function o(e){return new s(e)}var e={},i={fontWeight:400,lineHeight:1.2,letterSpacing:0};return s.prototype={constructor:s,getPropertyPriority:T,getPropertyValue:function(e){return this[e]||""},item:T,removeProperty:T,setProperty:T,getPropertyCSSValue:T},o}()));var L=k,A,O,M;try{Object.defineProperty({},"test",{value:0}),i&&Object.defineProperty(document.createElement("div"),"test",{value:0}),O=Object.defineProperty}catch(_){O=function(e,t,n){e[t]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(_){throw _}i&&Object.defineProperties(h("div"),{test:{value:0}}),M=Object.defineProperties}catch(_){M=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&O(e,n,t[n])}}try{Object.create(null),A=Object.create}catch(_){A=function(){var e=function(){};return function(t,n){var r;return t===null?{}:(e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r)}}()}var H=Object.prototype.hasOwnProperty,B=Object.prototype.toString,j=/^\[object (?:Array|FileList)\]$/,z={},W,X,V;o?function(){var e=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],t="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";V=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,e),console.log(t),n&&console.groupEnd(e),V=T},X=function(e,t){V();if(typeof t[t.length-1]=="object"){var n=t.pop(),r=n?n.ractive:null;if(r){var i=undefined;r.component&&(i=r.component.name)&&(e="<"+i+"> "+e);var s=undefined;(s=n.node||r.fragment&&r.fragment.rendered&&r.find("*"))&&t.push(s)}}console.warn.apply(console,["%cRactive.js: %c"+e,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(t))},W=function(){console.log.apply(console,arguments)}}():X=W=V=T;var et="Bad arguments",tt='A function was specified for "%s" %s, but no %s was returned',nt=function(e,t){return'Missing "'+e+'" '+t+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+t+"s"},st=function(e,t,n,r){if(e===t)return ut(t);if(r){var i=rt("interpolators",n,r);if(i)return i(e,t)||ut(t);J(nt(r,"interpolator"))}return ft.number(e,t)||ft.array(e,t)||ft.object(e,t)||ut(t)},ot=st,at={number:function(e,t){var n;return!R(e)||!R(t)?null:(e=+e,t=+t,n=t-e,n?function(t){return e+t*n}:function(){return e})},array:function(e,t){var n,r,i,s;if(!F(e)||!F(t))return null;n=[],r=[],s=i=Math.min(e.length,t.length);while(s--)r[s]=ot(e[s],t[s]);for(s=i;s<e.length;s+=1)n[s]=e[s];for(s=i;s<t.length;s+=1)n[s]=t[s];return function(e){var t=i;while(t--)n[t]=r[t](e);return n}},object:function(e,t){var n,r,i,s,o;if(!U(e)||!U(t))return null;n=[],s={},i={};for(o in e)H.call(e,o)&&(H.call(t,o)?(n.push(o),i[o]=ot(e[o],t[o])):s[o]=e[o]);for(o in t)H.call(t,o)&&!H.call(e,o)&&(s[o]=t[o]);return r=n.length,function(e){var t=r,o;while(t--)o=n[t],s[o]=i[o](e);return s}}},ft=at,lt=ht,ct={},dt=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,vt=/\*/,mt={},gt=function(e){var t=e.split(".");this.str=e,e[0]==="@"&&(this.isSpecial=!0,this.value=bt(e)),this.firstKey=t[0],this.lastKey=t.pop(),this.isPattern=vt.test(e),this.parent=e===""?null:wt(t.join(".")),this.isRoot=!e};gt.prototype={equalsOrStartsWith:function(e){return e===this||this.startsWith(e)},join:function(e){return wt(this.isRoot?String(e):this.str+"."+e)},replace:function(e,t){if(this===e)return t;if(this.startsWith(e))return t===null?t:wt(this.str.replace(e.str+".",t.str+"."))},startsWith:function(e){return e?e&&this.str.substr(0,e.str.length+1)===e.str+".":!1},toString:function(){throw new Error("Bad coercion")},valueOf:function(){throw new Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=lt(this.str))}};var Tt=wt(""),Nt=kt,Ct="Cannot add to a non-numeric value",Lt=At,Ot;typeof window=="undefined"?Ot=null:(function(e,t,n){var r,i;if(n.requestAnimationFrame)return;for(r=0;r<e.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(e){var n,r,s;return n=Date.now(),r=Math.max(0,16-(n-t)),s=i(function(){e(n+r)},r),t=n+r,s})}(l,0,window),Ot=window.requestAnimationFrame);var Mt=Ot,_t;typeof window!="undefined"&&window.performance&&typeof window.performance.now=="function"?_t=function(){return window.performance.now()}:_t=function(){return Date.now()};var Dt=_t,Pt={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};Ht.prototype.fire=function(e,t){function n(n){if(e[n])return t?e[n](t):e[n](),!0}n(this.method),!e[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?Y(this.deprecate.message):Y('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),t?e.fire(this.event,t):e.fire(this.event)};var Bt=Ht,Wt,Xt={},Vt={},$t={};typeof Promise=="function"?Wt=Promise:(Wt=function(e){var t=[],n=[],r=Xt,i,s,o,u,a,f;o=function(e){return function(o){if(r!==Xt)return;i=o,r=e,s=Qt(r===Vt?t:n,i),Kt(s)}},u=o(Vt),a=o($t);try{e(u,a)}catch(l){a(l)}return f={then:function(e,i){var o=new Wt(function(u,a){var f=function(e,t,n){typeof e=="function"?t.push(function(t){var n;try{n=e(t),Gt(o,n,u,a)}catch(r){a(r)}}):t.push(n)};f(e,t,u),f(i,n,a),r!==Xt&&Kt(s)});return o}},f["catch"]=function(e){return this.then(null,e)},f},Wt.all=function(e){return new Wt(function(t,n){var r=[],i,s,o;if(!e.length){t(r);return}o=function(e,s){e&&typeof e.then=="function"?e.then(function(e){r[s]=e,--i||t(r)},n):(r[s]=e,--i||t(r))},i=s=e.length;while(s--)o(e[s],s)})},Wt.resolve=function(e){return new Wt(function(t){t(e)})},Wt.reject=function(e){return new Wt(function(t,n){n(e)})});var Jt=Wt,Yt=function(e){do if(e.context!==undefined)return e.context;while(e=e.parent);return Tt},Zt=en,ln=function(e,t){this.callback=e,this.parent=t,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,t&&t.addChild(this)};ln.prototype={addChild:function(e){this.children.push(e),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,pn(this)},decrementTotal:function(){this.totalChildren-=1,pn(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},addDecorator:function(e){this.decoratorQueue.push(e)},remove:function(e){var t=e.isIntro?this.intros:this.outros;Ut(t,e),pn(this)},init:function(){this.ready=!0,pn(this)},detachNodes:function(){this.decoratorQueue.forEach(on),this.detachQueue.forEach(cn),this.children.forEach(hn)}};var dn=ln,vn,mn,gn=[],yn=new Bt("change");mn={start:function(e,t){var n,r;return t&&(n=new Jt(function(e){return r=e})),vn={previousBatch:vn,transitionManager:new dn(r,vn&&vn.transitionManager),views:[],tasks:[],ractives:[],instance:e},e&&vn.ractives.push(e),n},end:function(){wn(),vn.transitionManager.init(),!vn.previousBatch&&!!vn.instance&&(vn.instance.viewmodel.changes=[]),vn=vn.previousBatch},addRactive:function(e){vn&&jt(vn.ractives,e)},registerTransition:function(e){e._manager=vn.transitionManager,vn.transitionManager.add(e)},registerDecorator:function(e){vn.transitionManager.addDecorator(e)},addView:function(e){vn.views.push(e)},addUnresolved:function(e){gn.push(e)},removeUnresolved:function(e){Ut(gn,e)},detachWhenReady:function(e){vn.transitionManager.detachQueue.push(e)},scheduleTask:function(e,t){var n;if(!vn)e();else{n=vn;while(t&&n.previousBatch)n=n.previousBatch;n.tasks.push(e)}}};var bn=mn,xn=[],Tn={tick:function(){var e,t,n;n=Dt(),bn.start();for(e=0;e<xn.length;e+=1)t=xn[e],t.tick(n)||xn.splice(e--,1);bn.end(),xn.length?Mt(Tn.tick):Tn.running=!1},add:function(e){xn.push(e),Tn.running||(Tn.running=!0,Mt(Tn.tick))},abort:function(e,t){var n=xn.length,r;while(n--)r=xn[n],r.root===t&&r.keypath===e&&r.stop()}},Nn=Tn,Cn=function(e){var t;this.startTime=Date.now();for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.interpolator=ot(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};Cn.prototype={tick:function(){var e,t,n,r,i,s;return s=this.keypath,this.running?(r=Date.now(),e=r-this.startTime,e>=this.duration?(s!==null&&(bn.start(this.root),this.root.viewmodel.set(s,this.to),bn.end()),this.step&&this.step(1,this.to),this.complete(this.to),i=this.root._animations.indexOf(this),i===-1&&Y("Animation was not found"),this.root._animations.splice(i,1),this.running=!1,!1):(t=this.easing?this.easing(e/this.duration):e/this.duration,s!==null&&(n=this.interpolator(t),bn.start(this.root),this.root.viewmodel.set(s,n),bn.end()),this.step&&this.step(t,n),!0)):!1},stop:function(){var e;this.running=!1,e=this.root._animations.indexOf(this),e===-1&&Y("Animation was not found"),this.root._animations.splice(e,1)}};var kn=Cn,Ln=On,An={stop:T},_n=Pn,Dn=new Bt("detach"),Hn=Bn,jn=Fn,In=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],t=this.selector,n=e.indexOf(t),n!==-1&&(e.splice(n,1),e[t]=null)},qn=function(e,t){var n,r,i,s,o,u,a,f,l,c;n=Un(e.component||e._ractive.proxy),r=Un(t.component||t._ractive.proxy),i=Rt(n),s=Rt(r);while(i&&i===s)n.pop(),r.pop(),o=i,i=Rt(n),s=Rt(r);i=i.component||i,s=s.component||s,l=i.parentFragment,c=s.parentFragment;if(l===c)return u=l.items.indexOf(i),a=c.items.indexOf(s),u-a||n.length-r.length;if(f=o.fragments)return u=f.indexOf(l),a=f.indexOf(c),u-a||n.length-r.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},zn=function(e,t){var n;return e.compareDocumentPosition?(n=e.compareDocumentPosition(t),n&2?1:-1):qn(e,t)},Wn=function(){this.sort(this._isComponentQuery?qn:zn),this._dirty=!1},Xn=function(){var e=this;this._dirty||(this._dirty=!0,bn.scheduleTask(function(){e._sort()}))},Vn=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);t!==-1&&this.splice(t,1)},$n=Jn,Kn=Qn,Gn=Yn,Zn=er,tr=nr,rr=ir,sr={enqueue:function(e,t){e.event&&(e._eventQueue=e._eventQueue||[],e._eventQueue.push(e.event)),e.event=t},dequeue:function(e){e._eventQueue&&e._eventQueue.length?e.event=e._eventQueue.pop():delete e.event}},or=sr,ur=ar,cr=hr,pr=vr,dr={capture:!0,noUnwrap:!0,fullRootGet:!0},mr=yr,gr=new Bt("insert"),wr=Er,Sr=function(e,t,n,r){this.root=e,this.keypath=t,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:e};Sr.prototype={init:function(e){this.value=this.root.get(this.keypath.str),e!==!1?this.update():this.oldValue=this.value},setValue:function(e){var t=this;q(e,this.value)||(this.value=e,this.defer&&this.ready?bn.scheduleTask(function(){return t.update()}):this.update())},update:function(){if(this.updating)return;this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1}};var xr=Sr,Tr=Nr,Cr,kr=Array.prototype.slice;Cr=function(e,t,n,r){this.root=e,this.callback=n,this.defer=r.defer,this.keypath=t,this.regex=new RegExp("^"+t.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:e},Cr.prototype={init:function(e){var t,n;t=Tr(this.root,this.keypath);if(e!==!1)for(n in t)t.hasOwnProperty(n)&&this.update(wt(n));else this.values=t},update:function(e){var t=this,n;if(e.isPattern){n=Tr(this.root,e);for(e in n)n.hasOwnProperty(e)&&this.update(wt(e));return}if(this.root.viewmodel.implicitChanges[e.str])return;if(this.defer&&this.ready){bn.scheduleTask(function(){return t.getProxy(e).update()});return}this.reallyUpdate(e)},reallyUpdate:function(e){var t,n,r,i;t=e.str,n=this.root.viewmodel.get(e);if(this.updating){this.values[t]=n;return}this.updating=!0;if(!q(n,this.values[t])||!this.ready)r=kr.call(this.regex.exec(t),1),i=[n,this.values[t],t].concat(r),this.values[t]=n,this.callback.apply(this.context,i);this.updating=!1},getProxy:function(e){var t=this;return this.proxies[e.str]||(this.proxies[e.str]={update:function(){return t.reallyUpdate(e)}}),this.proxies[e.str]}};var Lr=Cr,Ar=Mr,Or={},_r=Dr,Pr=Hr,Br=function(e){return e.trim()},jr=function(e){return e!==""},Fr=Ir,qr=Rr,Ur=zr,Wr=Xr,$r=Array.prototype,Jr=function(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var s,o=[],u,a,f;t=wt(xt(t)),s=this.viewmodel.get(t),u=s.length;if(!F(s))throw new Error("Called ractive."+e+"('"+t.str+"'), but '"+t.str+"' does not refer to an array");return o=Wr(s,e,r),f=$r[e].apply(s,r),a=bn.start(this,!0).then(function(){return f}),o?this.viewmodel.smartUpdate(t,s,o):this.viewmodel.mark(t),bn.end(),a}},Kr=Jr("pop"),Qr=Jr("push"),Gr,Yr,Zr,ei,ti,ni,ri="/* Ractive.js component styles */\n",ii=[],si=!1;i?(Zr=document.createElement("style"),Zr.type="text/css",ei=document.getElementsByTagName("head")[0],ni=!1,ti=Zr.styleSheet,Yr=function(){var e=ri+ii.map(function(e){return"\n/* {"+e.id+"} */\n"+e.styles}).join("\n");ti?ti.cssText=e:Zr.innerHTML=e,ni||(ei.appendChild(Zr),ni=!0)},Gr={add:function(e){ii.push(e),si=!0},apply:function(){si&&(Yr(),si=!1)}}):Gr={add:T,apply:T};var oi=Gr,ui=li,ai=new Bt("render"),fi=new Bt("complete"),hi={extend:function(e,t,n){t.adapt=di(t.adapt,qt(n.adapt))},init:function(){}},pi=hi,vi=Ei,mi=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,gi=/\/\*.*?\*\//g,yi=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,bi=/^@media/,wi=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Ti=1,Ni={name:"css",extend:function(e,t,n){if(n.css){var r=Ti++,i=n.noCssTransform?n.css:vi(n.css,r);t.cssId=r,oi.add({id:r,styles:i})}},init:function(){}},Ci=Ni,Li={name:"data",extend:function(e,t,n){var r=undefined,i=undefined;if(n.data&&U(n.data))for(r in n.data)i=n.data[r],i&&typeof i=="object"&&(U(i)||F(i))&&Y("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");t.data=Oi(t.data,n.data)},init:function(e,t,n){var r=Oi(e.prototype.data,n.data);return typeof r=="function"&&(r=r.call(t)),r||{}},reset:function(e){var t=this.init(e.constructor,e,e.viewmodel);return e.viewmodel.reset(t),!0}},Ai=Li,Di,Pi,Hi=/^\s+/;Pi=function(e){this.name="ParseError",this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}},Pi.prototype=Error.prototype,Di=function(e,t){var n,r,i=0;this.str=e,this.options=t||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(e){var t=i+e.length+1;return i=t,t},0),this.init&&this.init(e,t),n=[];while(this.pos<this.str.length&&(r=this.read()))n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,t):n},Di.prototype={read:function(e){var t,n,r,i;e||(e=this.converters),t=this.pos,r=e.length;for(n=0;n<r;n+=1){this.pos=t;if(i=e[n](this))return i}return null},getLinePos:function(e){var t=0,n=0,r;while(e>=this.lineEnds[t])n=this.lineEnds[t],t+=1;return r=e-n,[t+1,r+1,e]},error:function(e){var t=this.getLinePos(this.pos),n=t[0],r=t[1],i=this.lines[t[0]-1],s=0,o=i.replace(/\t/g,function(e,n){return n<t[1]&&(s+=1),"  "})+"\n"+(new Array(t[1]+s)).join(" ")+"^----",u=new Pi(""+e+" at line "+n+" character "+r+":\n"+o);throw u.line=t[0],u.character=t[1],u.shortMessage=e,u},matchString:function(e){if(this.str.substr(this.pos,e.length)===e)return this.pos+=e.length,e},matchPattern:function(e){var t;if(t=e.exec(this.remaining()))return this.pos+=t[0].length,t[1]||t[0]},allowWhitespace:function(){this.matchPattern(Hi)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Di.extend=function(e){var t=this,n,r;n=function(e,t){Di.call(this,e,t)},n.prototype=A(t.prototype);for(r in e)H.call(e,r)&&(n.prototype[r]=e[r]);return n.extend=Di.extend,n};var Bi=Di,ji=1,Fi=2,Ii=3,qi=4,Ri=5,Ui=6,zi=7,Wi=8,Xi=9,Vi=10,$i=13,Ji=14,Ki=15,Qi=16,Gi=17,Yi=18,Zi=20,es=21,ts=22,ns=23,rs=24,is=25,ss=26,os=27,us=30,as=31,fs=32,ls=33,cs=34,hs=35,ps=36,ds=40,vs=50,ms=51,gs=52,ys=53,bs=54,ws=60,Es=61,Ss=Ns,xs=/^[^\s=]+/,Ts=/^\s+/,Cs=Ls,ks=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,As=Ms,Os={t:Vi,exclude:!0},Ds="Expected a JavaScript expression",Ps="Expected closing paren",Hs=js,Bs=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Fs=Is,qs,Rs,Us;qs=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Rs=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Us=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var zs=function(e){return function(t){var n,r,i,s;n=t.pos,r='"',i=!1;while(!i)s=t.matchPattern(qs)||t.matchPattern(Rs)||t.matchString(e),s?s==='"'?r+='\\"':s==="\\'"?r+="'":r+=s:(s=t.matchPattern(Us),s?r+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):i=!0);return r+='"',JSON.parse(r)}},Ws=zs('"'),Xs=zs("'"),Vs=function(e){var t,n;return t=e.pos,e.matchString('"')?(n=Xs(e),e.matchString('"')?{t:es,v:n}:(e.pos=t,null)):e.matchString("'")?(n=Ws(e),e.matchString("'")?{t:es,v:n}:(e.pos=t,null)):null},$s=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Js=Qs,Ks=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Gs=Ys,Zs=eo,to=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("{")?(n=Zs(e),e.allowWhitespace(),e.matchString("}")?{t:ns,m:n}:(e.pos=t,null)):(e.pos=t,null)},no=ro,io=function(e){var t,n;return t=e.pos,e.allowWhitespace(),e.matchString("[")?(n=no(e),e.matchString("]")?{t:ts,m:n}:(e.pos=t,null)):(e.pos=t,null)},so=oo,uo=po,ao=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/,fo,lo;fo=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,lo=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var co=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,ho=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,vo=mo,go=function(e){return so(e)||uo(e)||vo(e)},yo=bo,wo=function(e){var t,n,r,i;n=go(e);if(!n)return null;while(n){t=e.pos;if(r=yo(e))n={t:fs,x:n,r:r};else{if(!e.matchString("("))break;e.allowWhitespace(),i=no(e),e.allowWhitespace(),e.matchString(")")||e.error(Ps),n={t:ds,x:n},i&&(n.o=i)}}return n},Eo,So;So=function(e,t){return function(n){var r;return(r=t(n))?r:n.matchString(e)?(n.allowWhitespace(),r=Ao(n),r||n.error(Ds),{s:e,o:r,t:ls}):null}},function(){var e,t,n,r,i;r="! ~ + - typeof".split(" "),i=wo;for(e=0,t=r.length;e<t;e+=1)n=So(r[e],i),i=n;Eo=i}();var xo=Eo,To,No;No=function(e,t){return function(n){var r,i,s;i=t(n);if(!i)return null;for(;;){r=n.pos,n.allowWhitespace();if(!n.matchString(e))return n.pos=r,i;if(e==="in"&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=r,i;n.allowWhitespace(),s=t(n);if(!s)return n.pos=r,i;i={t:ps,s:e,o:[i,s]}}}},function(){var e,t,n,r,i;r="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),i=xo;for(e=0,t=r.length;e<t;e+=1)n=No(r[e],i),i=n;To=i}();var Co=To,ko=Lo,Ao=Oo,Mo=_o,Po=Bo,Ho=/^[0-9][1-9]*$/,Fo=Io,qo=Ro,Uo=zo,Wo=Xo,Vo=$o,Jo=Ko,Qo=Yo,Go=/^yield\s*/,Zo=eu,tu=ru,nu=/^\s*else\s*/,iu=ou,su=/^\s*elseif\s+/,uu={each:gs,"if":vs,"if-with":bs,"with":ys,unless:ms},au=hu,fu=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,lu=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,cu=new RegExp("^("+Object.keys(uu).join("|")+")\\b"),gu=wu,yu="<!--",bu="-->",Eu,Su,xu,Tu,Nu,Cu,ku,Lu;Eu=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,Su=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,xu={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Tu=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Nu=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(xu).join("|")+"));?","g"),Cu=/</g,ku=/>/g,Lu=/&/g;var _u=/^\s*\r?\n/,Du=/\r?\n\s*$/,Pu=function(e){var t,n,r,i,s;for(t=1;t<e.length;t+=1)n=e[t],r=e[t-1],i=e[t-2],Hu(n)&&Bu(r)&&Hu(i)&&Du.test(i)&&_u.test(n)&&(e[t-2]=i.replace(Du,"\n"),e[t]=n.replace(_u,"")),ju(n)&&Hu(r)&&Du.test(r)&&Hu(n.f[0])&&_u.test(n.f[0])&&(e[t-1]=r.replace(Du,"\n"),n.f[0]=n.f[0].replace(_u,"")),Hu(n)&&ju(r)&&(s=Rt(r.f),Hu(s)&&Du.test(s)&&_u.test(n)&&(r.f[r.f.length-1]=s.replace(Du,"\n"),e[t]=n.replace(_u,"")));return e},Fu=function(e,t,n){var r;t&&(r=e[0],typeof r=="string"&&(r=r.replace(t,""),r?e[0]=r:e.shift())),n&&(r=Rt(e),typeof r=="string"&&(r=r.replace(n,""),r?e[e.length-1]=r:e.pop()))},Iu=Vu,qu=/[ \t\f\r\n]+/g,Ru=/^(?:pre|script|style|textarea)$/i,Uu=/^[ \t\f\r\n]+/,zu=/[ \t\f\r\n]+$/,Wu=/^(?:\r\n|\r|\n)/,Xu=/(?:\r\n|\r|\n)$/,$u=Ku,Ju=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,Qu=function(e,t){var n,r,i;n=t.length;while(n--){r=e.indexOf(t[n]);if(!r)return 0;if(r===-1)continue;if(!i||r<i)i=r}return i||-1},Gu=ea,Yu=/^[^\s"'>\/=]+/,Zu=/^[^\s"'=<>`]+/,oa,ua,aa,fa,la,ca,ha;ua={"true":!0,"false":!1,"undefined":undefined,"null":null},aa=new RegExp("^(?:"+Object.keys(ua).join("|")+")"),fa=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,la=/\$\{([^\}]+)\}/g,ca=/^\$\{([^\}]+)\}/,ha=/^\s*$/,oa=Bi.extend({init:function(e,t){this.values=t.values,this.allowWhitespace()},postProcess:function(e){return e.length!==1||!ha.test(this.leftover)?null:{value:e[0].v}},converters:[function(t){var n;if(!t.values)return null;n=t.matchPattern(ca);if(n&&t.values.hasOwnProperty(n))return{v:t.values[n]}},function(t){var n;if(n=t.matchPattern(aa))return{v:ua[n]}},function(t){var n;if(n=t.matchPattern(fa))return{v:+n}},function(t){var n=Vs(t),r;return n&&(r=t.values)?{v:n.v.replace(la,function(e,t){return t in r?r[t]:t})}:n},function(t){var n,r;if(!t.matchString("{"))return null;n={},t.allowWhitespace();if(t.matchString("}"))return{v:n};while(r=pa(t)){n[r.key]=r.value,t.allowWhitespace();if(t.matchString("}"))return{v:n};if(!t.matchString(","))return null}return null},function(t){var n,r;if(!t.matchString("["))return null;n=[],t.allowWhitespace();if(t.matchString("]"))return{v:n};while(r=t.read()){n.push(r.v),t.allowWhitespace();if(t.matchString("]"))return{v:n};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var da=function(e,t){var n=new oa(e,{values:t});return n.result},va=ba,ma=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,ga=/\)\s*$/,ya;ya=Bi.extend({converters:[Ao]});var wa=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Ea=/^[\s\n\/>]/,Sa=/^on/,xa=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Ta=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,Na={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},Ca={exclude:!0},ka;ka={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var La=Aa,Ma=_a,Da=Ha,Pa=/[-/\\^$*+?.()|[\]{}]/g,Ba=Ra,ja=/^<!--\s*/,Fa=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Ia=/\s*-->/,qa,Ua=Wa,za=/^#\s*partial\s+/,Xa=Va,$a=Ya,Ja=[Uo,qo,au,Qo,Jo,Wo],Ka=[Fo],Qa=[qo,au,Jo],Ga=undefined,Za=[As,gu,La,Ma],ef=[Ba,Ua];Ga=Bi.extend({init:function(e,t){var n=t.tripleDelimiters||["{{{","}}}"],r=t.staticDelimiters||["[[","]]"],i=t.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=t.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Ja},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Ka},{isStatic:!0,isTriple:!1,open:r[0],close:r[1],readers:Qa},{isStatic:!0,isTriple:!0,open:i[0],close:i[1],readers:Ka}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!t.interpolate||t.interpolate.script!==!1,style:!t.interpolate||t.interpolate.style!==!1},t.sanitize===!0&&(t.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=t.stripComments!==!1,this.preserveWhitespace=t.preserveWhitespace,this.sanitizeElements=t.sanitize&&t.sanitize.elements,this.sanitizeEventAttributes=t.sanitize&&t.sanitize.eventAttributes,this.includeLinePositions=t.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),Iu(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:e}},converters:[Xa],sortMustacheTags:function(){this.tags.sort(function(e,t){return t.open.length-e.open.length})}});var tf=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],nf={fromId:of,isHashedId:uf,isParsed:af,getParseOptions:ff,createHelper:rf,parse:sf},lf=nf,cf={name:"template",extend:function(t,n,r){var i;"template"in r&&(i=r.template,typeof i=="function"?n.template=i:n.template=vf(i,n))},init:function(t,n,r){var i,s;i="template"in r?r.template:t.prototype.template,typeof i=="function"&&(s=i,i=pf(n,s),n._config.template={fn:s,result:i}),i=vf(i,n),n.template=i.t,i.p&&mf(n.partials,i.p)},reset:function(e){var t=hf(e),n;if(t)return n=vf(t,e),e.template=n.t,mf(e.partials,n.p,!0),!0}},gf=cf,yf,bf,wf;yf=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],bf=function(e,t){this.name=e,this.useDefaults=t},bf.prototype={constructor:bf,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(){},configure:function(e,t,n){var r=this.name,i=n[r],s;s=A(e[r]);for(var o in i)s[o]=i[o];t[r]=s},reset:function(e){var t=e[this.name],n=!1;return Object.keys(t).forEach(function(e){var r=t[e];r._fn&&(r._fn.isOwner?t[e]=r._fn:delete t[e],n=!0)}),n}},wf=yf.map(function(e){return new bf(e,e==="computed")});var Ef=wf,Sf=xf,Nf=Lf,Af,Of,Mf,_f,Df,Pf;_f={adapt:pi,css:Ci,data:Ai,template:gf},Mf=Object.keys(n),Pf=jf(Mf.filter(function(e){return!_f[e]})),Df=jf(Mf.concat(Ef.map(function(e){return e.name}))),Of=[].concat(Mf.filter(function(e){return!Ef[e]&&!_f[e]}),Ef,_f.data,_f.template,_f.css),Af={extend:function(e,t,n){return Hf("extend",e,t,n)},init:function(e,t,n){return Hf("init",e,t,n)},reset:function(e){return Of.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})},order:Of};var Ff=Af,If=qf,Rf=Uf,zf=Wf,Xf=Vf,$f=Jf,Kf=Qf,Gf=Yf,Zf=el,tl=nl,rl=il,sl=ol,ul=al,fl=function(){return S(this.node)},ll=function(e){this.type=ji,this.text=e.template};ll.prototype={detach:fl,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(e){return e?Mu(this.text):this.text},unrender:function(e){if(e)return this.detach()}};var cl=ll,hl=pl,dl=vl,ml=function(e,t,n){var r;this.ref=t,this.resolved=!1,this.root=e.root,this.parentFragment=e.parentFragment,this.callback=n,r=Zt(e.root,t,e.parentFragment),r!=undefined?this.resolve(r):bn.addUnresolved(this)};ml.prototype={resolve:function(e){this.keypath&&!e&&bn.addUnresolved(this),this.resolved=!0,this.keypath=e,this.callback(e)},forceResolution:function(){this.resolve(wt(this.ref))},rebind:function(e,t){var n;this.keypath!=undefined&&(n=this.keypath.replace(e,t),n!==undefined&&this.resolve(n))},unbind:function(){this.resolved||bn.removeUnresolved(this)}};var gl=ml,yl=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()},bl={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};yl.prototype={rebind:function(){var e=this.ref,t=this.parentFragment,n=bl[e],r;if(!n)throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(wt("@"+n.prefix+wl(this.cached,n)));if(n.prop.indexOf("index")!==-1||n.prop.indexOf("key")!==-1)while(t){if(t.owner.currentSubtype===gs&&(r=wl(t,n))!==undefined)return this.cached=t,t.registerIndexRef(this),this.callback(wt("@"+n.prefix+r));!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?t=t.owner.component.parentFragment:t=t.parent}else while(t){if((r=wl(t,n))!==undefined)return this.callback(wt("@"+n.prefix+r.str));t=t.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var El=yl,Sl=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,t.ref.fragment.registerIndexRef(this),this.rebind()};Sl.prototype={rebind:function(){var e,t=this.ref.ref;t.ref.t==="k"?e="k"+t.fragment.key:e="i"+t.fragment.index,e!==undefined&&this.callback(wt("@"+e))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var xl=Sl,Tl=Nl;Nl.resolve=function(t){var n={},r,i;for(r in t.refs)i=t.refs[r],n[i.ref.n]=i.ref.t==="k"?i.fragment.key:i.fragment.index;return n};var Cl=kl,Ll=Ol,Al={},Ml,_l=Function.prototype.bind;Ml=function(e,t,n,r){var i=this,s;s=e.root,this.root=s,this.parentFragment=t,this.callback=r,this.owner=e,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(e,t){return Cl(i,e,function(e){i.resolve(t,e)})}),this.ready=!0,this.bubble()},Ml.prototype={bubble:function(){if(!this.ready)return;this.uniqueString=Hl(this.str,this.keypaths),this.keypath=Bl(this.uniqueString),this.createEvaluator(),this.callback(this.keypath)},unbind:function(){var e;while(e=this.refResolvers.pop())e.unbind()},resolve:function(e,t){this.keypaths[e]=t,this.bubble()},createEvaluator:function(){var e=this,t,n,r,i,s;i=this.keypath,t=this.root.viewmodel.computations[i.str],t?this.root.viewmodel.mark(i):(s=Ll(this.str,this.refResolvers.length),n=this.keypaths.map(function(t){var n;return t==="undefined"?function(){return undefined}:t.isSpecial?(n=t.value,function(){return n}):function(){var n=e.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return typeof n=="function"&&(n=Fl(n,e.root)),n}}),r={deps:this.keypaths.filter(jl),getter:function(){var e=n.map(Pl);return s.apply(null,e)}},t=this.root.viewmodel.compute(i,r))},rebind:function(e,t){this.refResolvers.forEach(function(n){return n.rebind(e,t)})}};var Dl=Ml,Il=function(e,t,n){var r=this;this.resolver=t,this.root=t.root,this.parentFragment=n,this.viewmodel=t.root.viewmodel,typeof e=="string"?this.value=e:e.t===us?this.refResolver=Cl(this,e.n,function(e){r.resolve(e)}):new Dl(t,n,e,function(e){r.resolve(e)})};Il.prototype={resolve:function(e){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=e,this.value=this.viewmodel.get(e),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t){this.refResolver&&this.refResolver.rebind(e,t)},setValue:function(e){this.value=e,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var ql=Il,Rl=function(e,t,n){var r=this,i,s,o,u;this.parentFragment=u=e.parentFragment,this.root=i=e.root,this.mustache=e,this.ref=s=t.r,this.callback=n,this.unresolved=[],(o=Zt(i,s,u))?this.base=o:this.baseResolver=new gl(this,s,function(e){r.base=e,r.baseResolver=null,r.bubble()}),this.members=t.m.map(function(e){return new ql(e,r,u)}),this.ready=!0,this.bubble()};Rl.prototype={getKeypath:function(){var e=this.members.map(Ul);return!e.every(zl)||this.baseResolver?null:this.base.join(e.join("."))},bubble:function(){if(!this.ready||this.baseResolver)return;this.callback(this.getKeypath())},unbind:function(){this.members.forEach(un)},rebind:function(e,t){var n;if(this.base){var r=this.base.replace(e,t);r&&r!==this.base&&(this.base=r,n=!0)}this.members.forEach(function(r){r.rebind(e,t)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=wt(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Wl),this.bubble()}};var Xl=Rl,Vl=$l,Jl=Kl,Ql=Gl,Yl={getValue:dl,init:Vl,resolve:Jl,rebind:Ql},Zl=function(e){this.type=Fi,Yl.init(this,e)};Zl.prototype={update:function(){this.node.data=this.value==undefined?"":this.value},resolve:Yl.resolve,rebind:Yl.rebind,detach:fl,unbind:hl,render:function(){return this.node||(this.node=document.createTextNode(x(this.value))),this.node},unrender:function(e){e&&S(this.node)},getValue:Yl.getValue,setValue:function(e){var t;this.keypath&&(t=this.root.viewmodel.wrapped[this.keypath.str])&&(e=t.get()),q(e,this.value)||(this.value=e,this.parentFragment.bubble(),this.node&&bn.addView(this))},firstNode:function(){return this.node},toString:function(e){var t=""+x(this.value);return e?Mu(t):t}};var ec=Zl,tc=nc,rc=ic,sc=oc,uc=ac,fc=lc,cc=hc,pc=dc,vc=mc,gc=yc,wc=function(e,t){Yl.rebind.call(this,e,t)},Ec=Sc,xc=Tc,Hc=Bc,jc=Fc,Ic=qc,zc=Wc,Xc=function(e){this.type=qi,this.subtype=this.currentSubtype=e.template.n,this.inverted=this.subtype===ms,this.pElement=e.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],e.template.i&&(this.indexRefs=e.template.i.split(",").map(function(e,t){return{n:e,t:t===0?"k":"i"}})),this.renderedFragments=[],this.length=0,Yl.init(this,e)};Xc.prototype={bubble:tc,detach:rc,find:sc,findAll:uc,findAllComponents:fc,findComponent:cc,findNextNode:pc,firstNode:vc,getIndexRef:function(e){if(this.indexRefs){var t=this.indexRefs.length;while(t--){var n=this.indexRefs[t];if(n.n===e)return n}}},getValue:Yl.getValue,shuffle:gc,rebind:wc,render:Ec,resolve:Yl.resolve,setValue:xc,toString:Hc,unbind:jc,unrender:Ic,update:zc};var Vc=Xc,$c=Jc,Kc=Qc,Gc=Yc,Zc=eh,th={},nh,rh;try{h("table").innerHTML="foo"}catch(_){nh=!0,rh={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var ih=function(e,t,n){var r,i=[],s,o,u,f;if(e!=null&&e!==""){nh&&(s=rh[t.tagName])?(r=sh("DIV"),r.innerHTML=s[0]+e+s[1],r=r.querySelector(".x"),r.tagName==="SELECT"&&(o=r.options[r.selectedIndex])):t.namespaceURI===a.svg?(r=sh("DIV"),r.innerHTML='<svg class="x">'+e+"</svg>",r=r.querySelector(".x")):(r=sh(t.tagName),r.innerHTML=e,r.tagName==="SELECT"&&(o=r.options[r.selectedIndex]));while(u=r.firstChild)i.push(u),n.appendChild(u);if(t.tagName==="SELECT"){f=i.length;while(f--)i[f]!==o&&(i[f].selected=!1)}}return i},oh=uh,fh=lh,ch=hh,ph=dh,vh=mh,gh=yh,bh=function(e){this.type=Ii,Yl.init(this,e)};bh.prototype={detach:$c,find:Kc,findAll:Gc,firstNode:Zc,getValue:Yl.getValue,rebind:Yl.rebind,render:fh,resolve:Yl.resolve,setValue:ch,toString:ph,unbind:hl,unrender:vh,update:gh};var wh=bh,Eh=function(){this.parentFragment.bubble()},Sh=xh,Th=function(e){if(!this.node)return null;if(p(this.node,e))return this.node;if(this.fragment&&this.fragment.find)return this.fragment.find(e)},Nh=function(e,t){t._test(this,!0)&&t.live&&(this.liveQueries||(this.liveQueries=[])).push(t),this.fragment&&this.fragment.findAll(e,t)},Ch=function(e,t){this.fragment&&this.fragment.findAllComponents(e,t)},kh=function(e){if(this.fragment)return this.fragment.findComponent(e)},Lh=Ah,Oh=Mh,_h=Dh,Ph=/^true|on|yes|1$/i,Hh=/^[0-9]+$/,Bh=function(e,t){var n,r,i;return i=t.a||{},r={},n=i.twoway,n!==undefined&&(r.twoway=n===0||Ph.test(n)),n=i.lazy,n!==undefined&&(n!==0&&Hh.test(n)?r.lazy=parseInt(n):r.lazy=n===0||Ph.test(n)),r},jh=Fh,Ih,qh,Rh,Uh;Ih="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),qh="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Rh=function(e){var t={},n=e.length;while(n--)t[e[n].toLowerCase()]=e[n];return t},Uh=Rh(Ih.concat(qh));var zh=function(e){var t=e.toLowerCase();return Uh[t]||t},Wh=function(e,t){var n,r;n=t.indexOf(":");if(n!==-1){r=t.substr(0,n);if(r!=="xmlns"){t=t.substring(n+1),e.name=zh(t),e.namespace=a[r.toLowerCase()],e.namespacePrefix=r;if(!e.namespace)throw'Unknown namespace ("'+r+'")';return}}e.name=e.element.namespace!==a.html?zh(t):t},Xh=Vh,$h=Jh,Kh=Qh,Gh=Zh,Yh={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},ep=tp,rp=ip,sp=op,up=ap,fp=lp,cp=hp,pp=dp,vp=mp,gp=yp,bp=wp,Ep=Sp,xp=Tp,Np=Cp,kp=Lp,Ap=Op,Mp=function(e){this.init(e)};Mp.prototype={bubble:jh,init:$h,rebind:Kh,render:Gh,toString:ep,unbind:rp,update:Ap};var _p=Mp,Dp=function(e,t){var n,r,i=[];for(n in t){if(n==="twoway"||n==="lazy")continue;t.hasOwnProperty(n)&&(r=new _p({element:e,name:n,value:t[n],root:e.root}),i[n]=r,n!=="value"&&i.push(r))}return(r=i.value)&&i.push(r),i},Pp;typeof document!="undefined"&&(Pp=h("div"));var Hp=function(e,t){this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.attributes=[],this.fragment=new Zb({root:e.root,owner:this,template:[t]})};Hp.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(e,t){this.fragment.rebind(e,t)},render:function(e){this.node=e,this.isSvg=e.namespaceURI===a.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var e=this,t,n;t=this.fragment.toString(),n=jp(t,this.isSvg),this.attributes.filter(function(e){return Fp(n,e)}).forEach(function(t){e.node.removeAttribute(t.name)}),n.forEach(function(t){e.node.setAttribute(t.name,t.value)}),this.attributes=n},toString:function(){return this.fragment.toString()}};var Bp=Hp,Ip=function(e,t){return t?t.map(function(t){return new Bp(e,t)}):[]},qp=function(e){var t,n,r,i;this.element=e,this.root=e.root,this.attribute=e.attributes[this.name||"value"],t=this.attribute.interpolator,t.twowayBinding=this;if(n=t.keypath){if(n.str.slice(-1)==="}")return Z("Two-way binding does not work with expressions (`%s` on <%s>)",t.resolver.uniqueString,e.name,{ractive:this.root}),!1;if(n.isSpecial)return Z("Two-way binding does not work with %s",t.resolver.ref,{ractive:this.root}),!1}else{var s=t.template.r?"'"+t.template.r+"' reference":"expression";Y("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",s,{ractive:this.root}),t.resolver.forceResolution(),n=t.keypath}this.attribute.isTwoway=!0,this.keypath=n,r=this.root.viewmodel.get(n),r===undefined&&this.getInitialValue&&(r=this.getInitialValue(),r!==undefined&&this.root.viewmodel.set(n,r));if(i=Up(e))this.resetValue=r,i.formBindings.push(this)};qp.prototype={handleChange:function(){var e=this;bn.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),bn.scheduleTask(function(){return e.attribute.locked=!1}),bn.end()},rebound:function(){var e,t,n;t=this.keypath,n=this.attribute.interpolator.keypath;if(t===n)return;Ut(this.root._twowayBindings[t.str],this),this.keypath=n,e=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),e.push(this)},unbind:function(){}},qp.extend=function(e){var t=this,n;return n=function(e){qp.call(this,e),this.init&&this.init()},n.prototype=A(t.prototype),D(n.prototype,e),n.extend=qp.extend,n};var Rp=qp,zp=Wp,Xp;Xp=Rp.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e=this.element.node,t,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:R(this.element.lazy)?(t=!1,n=+this.element.lazy):R(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?Jp:zp,e.addEventListener("change",zp,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",$p,!1)},unrender:function(){var e=this.element.node;this.rendered=!1,e.removeEventListener("change",zp,!1),e.removeEventListener("input",this.handler,!1),e.removeEventListener("keyup",this.handler,!1),e.removeEventListener("blur",$p,!1)}});var Vp=Xp,Kp=Vp.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},getValue:function(){return this.element.node.innerHTML}}),Qp=Kp,Gp=Zp,Yp={},ed=Rp.extend({name:"checked",init:function(){this.siblings=Gp(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",zp,!1),e.attachEvent&&e.addEventListener("click",zp,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",zp,!1),e.removeEventListener("click",zp,!1)},handleChange:function(){bn.start(this.root),this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())}),bn.end()},getValue:function(){return this.element.node.checked},unbind:function(){Ut(this.siblings,this)}}),td=ed,nd=Rp.extend({name:"name",init:function(){this.siblings=Gp(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value")},render:function(){var e=this.element.node;e.name="{{"+this.keypath.str+"}}",e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),e.addEventListener("change",zp,!1),e.attachEvent&&e.addEventListener("click",zp,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",zp,!1),e.removeEventListener("click",zp,!1)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){this.element.node.checked&&Rp.prototype.handleChange.call(this)},rebound:function(e,t){var n;Rp.prototype.rebound.call(this,e,t);if(n=this.element.node)n.name="{{"+this.keypath.str+"}}"},unbind:function(){Ut(this.siblings,this)}}),rd=nd,id=Rp.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,t;this.checkboxName=!0,this.siblings=Gp(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),e.push(t))},unbind:function(){Ut(this.siblings,this)},render:function(){var e=this.element.node,t,n;t=this.root.viewmodel.get(this.keypath),n=this.element.getAttribute("value"),F(t)?this.isChecked=Ft(t,n):this.isChecked=t==n,e.name="{{"+this.keypath.str+"}}",e.checked=this.isChecked,e.addEventListener("change",zp,!1),e.attachEvent&&e.addEventListener("click",zp,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",zp,!1),e.removeEventListener("click",zp,!1)},changed:function(){var e=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked,Rp.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(sd).map(od)}}),ud=id,ad=Rp.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",zp,!1),e.attachEvent&&e.addEventListener("click",zp,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",zp,!1),e.removeEventListener("click",zp,!1)},getValue:function(){return this.element.node.checked}}),fd=ad,ld=Rp.extend({getInitialValue:function(){var e=this.element.options,t,n,r,i;if(this.element.getAttribute("value")!==undefined)return;n=t=e.length;if(!t)return;while(n--)if(e[n].getAttribute("selected")){r=e[n].getAttribute("value"),i=!0;break}if(!i)while(++n<t)if(!e[n].getAttribute("disabled")){r=e[n].getAttribute("value");break}return r!==undefined&&(this.element.attributes.value.value=r),r},render:function(){this.element.node.addEventListener("change",zp,!1)},unrender:function(){this.element.node.removeEventListener("change",zp,!1)},setValue:function(e){this.root.viewmodel.set(this.keypath,e)},getValue:function(){var e,t,n,r,i;e=this.element.node.options,n=e.length;for(t=0;t<n;t+=1){r=e[t];if(e[t].selected)return i=r._ractive?r._ractive.value:r.value,i}},forceUpdate:function(){var e=this,t=this.getValue();t!==undefined&&(this.attribute.locked=!0,bn.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))}}),cd=ld,hd=cd.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",zp,!1),e=this.root.viewmodel.get(this.keypath),e===undefined&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",zp,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,s;e=[],t=this.element.node.options,r=t.length;for(n=0;n<r;n+=1)i=t[n],i.selected&&(s=i._ractive?i._ractive.value:i.value,e.push(s));return e},handleChange:function(){var e,t,n;return e=this.attribute,t=e.value,n=this.getValue(),(t===undefined||!It(n,t))&&cd.prototype.handleChange.call(this),this},forceUpdate:function(){var e=this,t=this.getValue();t!==undefined&&(this.attribute.locked=!0,bn.scheduleTask(function(){return e.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,t))},updateModel:function(){(this.attribute.value===undefined||!this.attribute.value.length)&&this.root.viewmodel.set(this.keypath,this.initialValue)}}),pd=hd,dd=Rp.extend({render:function(){this.element.node.addEventListener("change",zp,!1)},unrender:function(){this.element.node.removeEventListener("change",zp,!1)},getValue:function(){return this.element.node.files}}),vd=dd,md=Vp.extend({getInitialValue:function(){return undefined},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?undefined:e}}),gd=yd,wd=Ed,Sd=xd,Td=Nd,Cd=Ld,kd=/^event(?:\.(.+))?/,_d=Dd,Pd=jd,Hd={},Bd={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},Id=qd,Rd=Ud,zd=Wd,Xd=Vd,$d=Jd,Kd=function(e,t,n){this.init(e,t,n)};Kd.prototype={bubble:wd,fire:Sd,getAction:Td,init:Cd,listen:Pd,rebind:Id,render:Rd,resolve:zd,unbind:Xd,unrender:$d};var Qd=Kd,Gd=function(e,t){var n,r,i,s,o=[];for(r in t)if(t.hasOwnProperty(r)){i=r.split("-"),n=i.length;while(n--)s=new Qd(e,i[n],t[r]),o.push(s)}return o},Yd=function(e,t){var n=this,r,i,s;this.element=e,this.root=r=e.root,i=t.n||t;if(typeof i!="string"){s=new Zb({template:i,root:r,owner:e}),i=s.toString(),s.unbind();if(i==="")return}t.a?this.params=t.a:t.d&&(this.fragment=new Zb({template:t.d,root:r,owner:e}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,n.params=this.getArgsList(),n.ready&&n.update()}),this.fn=rt("decorators",r,i),this.fn||J(nt(i,"decorator"))};Yd.prototype={init:function(){var e,t,n;e=this.element.node,this.params?(n=[e].concat(this.params),t=this.fn.apply(this.root,n)):t=this.fn.call(this.root,e);if(!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");this.actual=t,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(e,t){this.fragment&&this.fragment.rebind(e,t)},teardown:function(e){this.torndown=!0,this.ready&&this.actual.teardown(),!e&&this.fragment&&this.fragment.unbind()}};var Zd=Yd,ov=uv,av=fv,vv=mv,gv=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},yv,bv,wv;i?(bv={},wv=h("div").style,yv=function(e){var t,n,r;e=gv(e);if(!bv[e])if(wv[e]!==undefined)bv[e]=e;else{r=e.charAt(0).toUpperCase()+e.substring(1),t=l.length;while(t--){n=l[t];if(wv[n+r]!==undefined){bv[e]=n+r;break}}}return bv[e]}):yv=null;var Ev=yv,Sv,xv;i?(xv=window.getComputedStyle||L.getComputedStyle,Sv=function(e){var t,n,r,i,s;t=xv(this.node);if(typeof e=="string")return s=t[Ev(e)],s==="0px"&&(s=0),s;if(!F(e))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");n={},r=e.length;while(r--)i=e[r],s=t[Ev(i)],s==="0px"&&(s=0),n[i]=s;return n}):Sv=null;var Tv=Sv,Nv=function(e,t){var n;if(typeof e=="string")this.node.style[Ev(e)]=t;else for(n in e)e.hasOwnProperty(n)&&(this.node.style[Ev(n)]=e[n]);return this},Cv=function(e){var t;this.duration=e.duration,this.step=e.step,this.complete=e.complete,typeof e.easing=="string"?(t=e.root.easing[e.easing],t||(Z(nt(e.easing,"easing")),t=Lv)):typeof e.easing=="function"?t=e.easing:t=Lv,this.easing=t,this.start=Dt(),this.end=this.start+this.duration,this.running=!0,Nn.add(this)};Cv.prototype={tick:function(e){var t,n;return this.running?e>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(t=e-this.start,n=this.easing(t/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var kv=Cv,Av=new RegExp("^-(?:"+l.join("|")+")-"),Ov=function(e){return e.replace(Av,"")},Mv=new RegExp("^(?:"+l.join("|")+")([A-Z])"),_v=function(e){var t;return e?(Mv.test(e)&&(e="-"+e),t=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}),t):""},Dv,Pv,Hv,Bv,jv,Fv,Iv,qv,Rv={},Uv={};i?(Pv=h("div").style,function(){Pv.transition!==undefined?(Hv="transition",Bv="transitionend",jv=!0):Pv.webkitTransition!==undefined?(Hv="webkitTransition",Bv="webkitTransitionEnd",jv=!0):jv=!1}(),Hv&&(Fv=Hv+"Duration",Iv=Hv+"Property",qv=Hv+"TimingFunction"),Dv=function(e,t,n,r,i){setTimeout(function(){var s,o,u,a,f;a=function(){o&&u&&(e.root.fire(e.name+":end",e.node,e.isIntro),i())},s=(e.node.namespaceURI||"")+e.node.tagName,e.node.style[Iv]=r.map(Ev).map(_v).join(","),e.node.style[qv]=_v(n.easing||"linear"),e.node.style[Fv]=n.duration/1e3+"s",f=function(t){var n;n=r.indexOf(gv(Ov(t.propertyName))),n!==-1&&r.splice(n,1);if(r.length)return;e.node.removeEventListener(Bv,f,!1),u=!0,a()},e.node.addEventListener(Bv,f,!1),setTimeout(function(){var i=r.length,l,c,h,p=[],d,v;while(i--){d=r[i],l=s+d,jv&&!Uv[l]&&(e.node.style[Ev(d)]=t[d],Rv[l]||(c=e.getStyle(d),Rv[l]=e.getStyle(d)!=t[d],Uv[l]=!Rv[l],Uv[l]&&(e.node.style[Ev(d)]=c)));if(!jv||Uv[l])c===undefined&&(c=e.getStyle(d)),h=r.indexOf(d),h===-1?Y("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:e.node}):r.splice(h,1),v=/[^\d]*$/.exec(t[d])[0],p.push({name:Ev(d),interpolator:ot(parseFloat(c),parseFloat(t[d])),suffix:v})}p.length?new kv({root:e.root,duration:n.duration,easing:gv(n.easing||""),step:function(t){var n,r;r=p.length;while(r--)n=p[r],e.node.style[n.name]=n.interpolator(t)+n.suffix},complete:function(){o=!0,a()}}):o=!0,r.length||(e.node.removeEventListener(Bv,f,!1),u=!0,a())},0)},n.delay||0)}):Dv=null;var zv=Dv,Wv,Xv,Vv,$v,Jv;if(typeof document!="undefined"){Wv="hidden",Jv={};if(Wv in document)Vv="";else{$v=l.length;while($v--)Xv=l[$v],Wv=Xv+"Hidden",Wv in document&&(Vv=Xv)}Vv!==undefined?(document.addEventListener(Vv+"visibilitychange",Kv),Kv()):("onfocusout"in document?(document.addEventListener("focusout",Qv),document.addEventListener("focusin",Gv)):(window.addEventListener("pagehide",Qv),window.addEventListener("blur",Qv),window.addEventListener("pageshow",Gv),window.addEventListener("focus",Gv)),Jv.hidden=!1)}var Yv=Jv,Zv,em,tm;i?(em=window.getComputedStyle||L.getComputedStyle,Zv=function(e,t,n){var r=this,i;if(arguments.length===4)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(Yv.hidden)return this.setStyle(e,t),tm||(tm=Jt.resolve());typeof e=="string"?(i={},i[e]=t):(i=e,n=t),n||(Z('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new Jt(function(e){var t,s,o,u,a,f,l;if(!n.duration){r.setStyle(i),e();return}t=Object.keys(i),s=[],o=em(r.node),a={},f=t.length;while(f--)l=t[f],u=o[Ev(l)],u==="0px"&&(u=0),u!=i[l]&&(s.push(l),r.node.style[Ev(l)]=u);if(!s.length){e();return}zv(r,i,n,s,e)});return s}):Zv=null;var nm=Zv,rm=function(e,t){return typeof e=="number"?e={duration:e}:typeof e=="string"?e==="slow"?e={duration:600}:e==="fast"?e={duration:200}:e={duration:400}:e||(e={}),P({},e,t)},im=sm,um=function(e,t,n){this.init(e,t,n)};um.prototype={init:vv,start:im,getStyle:Tv,setStyle:Nv,animateStyle:nm,processParams:rm};var am=um,fm=hm,lm,cm;lm=function(){var e=this.node,t=this.fragment.toString(!1);window&&window.appearsToBeIELessEqual8&&(e.type="text/css");if(e.styleSheet)e.styleSheet.cssText=t;else{while(e.hasChildNodes())e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},cm=function(){(!this.node.type||this.node.type==="text/javascript")&&Y("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var mm=function(){var e,t;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(e="<"+this.template.e,e+=this.attributes.map(bm).join("")+this.conditionalAttributes.map(bm).join(""),this.name==="option"&&gm(this)&&(e+=" selected"),this.name==="input"&&ym(this)&&(e+=" checked"),e+=">",this.name==="textarea"&&this.getAttribute("value")!==undefined?e+=Mu(this.getAttribute("value")):this.getAttribute("contenteditable")!==undefined&&(e+=this.getAttribute("value")||""),this.fragment&&(t=this.name!=="script"&&this.name!=="style",e+=this.fragment.toString(t)),Su.test(this.template.e)||(e+="</"+this.template.e+">"),e)},wm=Em,Sm=xm,Nm=function(e){this.init(e)};Nm.prototype={bubble:Eh,detach:Sh,find:Th,findAll:Nh,findAllComponents:Ch,findComponent:kh,findNextNode:Lh,firstNode:Oh,getAttribute:_h,init:ov,rebind:av,render:fm,toString:mm,unbind:wm,unrender:Sm};var Cm=Nm,km=/^\s*$/,Lm=/^\s*/,Am=function(e){var t,n,r,i;return t=e.split("\n"),n=t[0],n!==undefined&&km.test(n)&&t.shift(),r=Rt(t),r!==undefined&&km.test(r)&&t.pop(),i=t.reduce(Om,null),i&&(e=t.map(function(e){return e.replace(i,"")}).join("\n")),e},Mm=_m,jm=function(e,t){var n;return t?(n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n"),n):e},Fm='Could not find template for partial "%s"',Im=function(e){var t,n;t=this.parentFragment=e.parentFragment,this.root=t.root,this.type=Wi,this.index=e.index,this.name=e.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,Yl.init(this,e),this.keypath||((n=Mm(this.root,this.name,t))?(hl.call(this),this.isNamed=!0,this.setTemplate(n)):Z(Fm,this.name))};Im.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:this.value===undefined?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(e,t){this.isNamed||Ql.call(this,e,t),this.fragment&&this.fragment.rebind(e,t)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:Yl.resolve,setValue:function(e){var t;if(e!==undefined&&e===this.value)return;e!==undefined&&(t=Mm(this.root,""+e,this.parentFragment)),!t&&this.name&&(t=Mm(this.root,this.name,this.parentFragment))&&(hl.call(this),this.isNamed=!0),t||Z(Fm,this.name,{ractive:this.root}),this.value=e,this.setTemplate(t||[]),this.bubble(),this.rendered&&bn.addView(this)},setTemplate:function(e){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new Zb({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(e){var t,n,r,i;return t=this.fragment.toString(e),n=this.parentFragment.items[this.index-1],!n||n.type!==ji?t:(r=n.text.split("\n").pop(),(i=/^\s+$/.exec(r))?jm(t,i[0]):t)},unbind:function(){this.isNamed||hl.call(this),this.fragment&&this.fragment.unbind()},unrender:function(e){this.rendered&&(this.fragment&&this.fragment.unrender(e),this.rendered=!1)},update:function(){var e,t;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(e=this.parentFragment.getNode(),t=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,t))}};var qm=Im,Rm=Um,zm=Xm,Wm=new Bt("detach"),Vm=$m,Jm=Km,Qm=Gm,Ym=Zm,eg=tg,ng=rg,ig=function(e,t,n,r){var i=e.root,s=e.keypath;r?i.viewmodel.smartUpdate(s,t,r):i.viewmodel.mark(s)},sg=[],og=["pop","push","reverse","shift","sort","splice","unshift"],ug,ag,fg;og.forEach(function(e){var t=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,s,o,u;i=Wr(this,e,n),s=Array.prototype[e].apply(this,arguments),bn.start(),this._ractive.setting=!0,u=this._ractive.wrappers.length;while(u--)o=this._ractive.wrappers[u],bn.addRactive(o.root),ig(o,this,e,i);return bn.end(),this._ractive.setting=!1,s};O(sg,e,{value:t})}),ug={},ug.__proto__?(ag=function(e){e.__proto__=sg},fg=function(e){e.__proto__=Array.prototype}):(ag=function(e){var t,n;t=og.length;while(t--)n=og[t],O(e,n,{value:sg[n],configurable:!0})},fg=function(e){var t;t=og.length;while(t--)delete e[og[t]]}),ag.unpatch=fg;var lg=ag,cg,hg,pg;cg={filter:function(e){return F(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new hg(e,t,n)}},hg=function(e,t,n){this.root=e,this.value=t,this.keypath=wt(n),t._ractive||(O(t,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),lg(t)),t._ractive.instances[e._guid]||(t._ractive.instances[e._guid]=0,t._ractive.instances.push(e)),t._ractive.instances[e._guid]+=1,t._ractive.wrappers.push(this)},hg.prototype={get:function(){return this.value},teardown:function(){var e,t,n,r,i;e=this.value,t=e._ractive,n=t.wrappers,r=t.instances;if(t.setting)return!1;i=n.indexOf(this);if(i===-1)throw new Error(pg);n.splice(i,1);if(!n.length)delete e._ractive,lg.unpatch(this.value);else{r[this.root._guid]-=1;if(!r[this.root._guid]){i=r.indexOf(this.root);if(i===-1)throw new Error(pg);r.splice(i,1)}}}},pg="Something went wrong in a rather interesting way";var dg=cg,vg=/^\s*[0-9]+\s*$/,mg=function(e){return vg.test(e)?[]:{}},gg,yg;try{Object.defineProperty({},"test",{value:0}),gg={filter:function(e,t,n){var r,i;return t?(t=wt(t),(r=n.viewmodel.wrapped[t.parent.str])&&!r.magic?!1:(i=n.viewmodel.get(t.parent),F(i)&&/^[0-9]+$/.test(t.lastKey)?!1:i&&(typeof i=="object"||typeof i=="function"))):!1},wrap:function(e,t,n){return new yg(e,t,n)}},yg=function(e,t,n){var r,i,s;n=wt(n),this.magic=!0,this.ractive=e,this.keypath=n,this.value=t,this.prop=n.lastKey,r=n.parent,this.obj=r.isRoot?e.viewmodel.data:e.viewmodel.get(r),i=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop);if(i&&i.set&&(s=i.set._ractiveWrappers)){s.indexOf(this)===-1&&s.push(this);return}wg(this,t,i)},yg.prototype={get:function(){return this.value},reset:function(e){if(this.updating)return;return this.updating=!0,this.obj[this.prop]=e,bn.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0},set:function(e,t){if(this.updating)return;this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=mg(e),this.updating=!1),this.obj[this.prop][e]=t},teardown:function(){var e,t,n,r,i;if(this.updating)return!1;e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e&&e.set;if(!t)return;r=t._ractiveWrappers,i=r.indexOf(this),i!==-1&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n)}}}catch(_){gg=!1}var bg=gg,Eg,Sg;bg&&(Eg={filter:function(e,t,n){return bg.filter(e,t,n)&&dg.filter(e)},wrap:function(e,t,n){return new Sg(e,t,n)}},Sg=function(e,t,n){this.value=t,this.magic=!0,this.magicWrapper=bg.wrap(e,t,n),this.arrayWrapper=dg.wrap(e,t,n)},Sg.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}});var xg=Eg,Tg=Cg,Ng={},Ag=Og,Mg=_g,Hg=Bg,Rg=Ug,zg=Wg,Xg=function(e,t){this.computation=e,this.viewmodel=e.viewmodel,this.ref=t,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};Xg.prototype={resolve:function(e){this.computation.softDeps.push(e),this.computation.unresolvedDeps[e.str]=null,this.viewmodel.register(e,this.computation,"computed")}};var Vg=Xg,$g=function(e,t){this.key=e,this.getter=t.getter,this.setter=t.setter,this.hardDeps=t.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};$g.prototype={constructor:$g,init:function(e){var t=this,n;this.viewmodel=e,this.bypass=!0,n=e.get(this.key),e.clearCache(this.key.str),this.bypass=!1,this.setter&&n!==undefined&&this.set(n),this.hardDeps&&this.hardDeps.forEach(function(n){return e.register(n,t,"computed")})},invalidate:function(){this._dirty=!0},get:function(){var e=this,t,n,r=!1;if(this.getting){var i="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return G(i),this.value}this.getting=!0;if(this._dirty){this._firstRun||!this.hardDeps.length&&!this.softDeps.length?r=!0:[this.hardDeps,this.softDeps].forEach(function(t){var n,i,s;if(r)return;s=t.length;while(s--){n=t[s],i=e.viewmodel.get(n);if(!q(i,e.depValues[n.str])){e.depValues[n.str]=i,r=!0;return}}});if(r){this.viewmodel.capture();try{this.value=this.getter()}catch(s){Y('Failed to compute "%s"',this.key.str),K(s.stack||s),this.value=void 0}t=this.viewmodel.release(),n=this.updateDependencies(t),n&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){e.depValues[t.str]=e.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(e){if(this.setting){this.value=e;return}if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(e)},updateDependencies:function(e){var t,n,r,i,s;n=this.softDeps,t=n.length;while(t--)r=n[t],e.indexOf(r)===-1&&(i=!0,this.viewmodel.unregister(r,this,"computed"));t=e.length;while(t--)r=e[t],n.indexOf(r)===-1&&(!this.hardDeps||this.hardDeps.indexOf(r)===-1)&&(i=!0,Jg(this.viewmodel,r)&&!this.unresolvedDeps[r.str]?(s=new Vg(this,r.str),e.splice(t,1),this.unresolvedDeps[r.str]=s,bn.addUnresolved(s)):this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=e.slice()),i}};var Kg=$g,Qg=Gg,Yg={FAILED_LOOKUP:!0},Zg=ty,ey={},ry=iy,sy=oy,uy=function(e,t){this.localKey=e,this.keypath=t.keypath,this.origin=t.origin,this.deps=[],this.unresolved=[],this.resolved=!1};uy.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(e,t){return this.resolved?this.origin.get(this.map(e),t):undefined},getValue:function(){return this.keypath?this.origin.get(this.keypath):undefined},initViewmodel:function(e){this.local=e,this.setup()},map:function(e){return typeof this.keypath===undefined?this.localKey:e.replace(this.localKey,this.keypath)},register:function(e,t,n){this.deps.push({keypath:e,dep:t,group:n}),this.resolved&&this.origin.register(this.map(e),t,n)},resolve:function(e){this.keypath!==undefined&&this.unbind(!0),this.keypath=e,this.setup()},set:function(e,t){this.resolved||this.forceResolution(),this.origin.set(this.map(e),t)},setup:function(){var e=this;if(this.keypath===undefined)return;this.resolved=!0,this.deps.length&&(this.deps.forEach(function(t){var n=e.map(t.keypath);e.origin.register(n,t.dep,t.group);if(t.dep.setValue)t.dep.setValue(e.origin.get(n));else{if(!t.dep.invalidate)throw new Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");t.dep.invalidate()}}),this.origin.mark(this.keypath))},setValue:function(e){if(!this.keypath)throw new Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,e)},unbind:function(e){var t=this;e||delete this.local.mappings[this.localKey];if(!this.resolved)return;this.deps.forEach(function(e){t.origin.unregister(t.map(e.keypath),e.dep,e.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker)},unregister:function(e,t,n){var r,i;if(!this.resolved)return;r=this.deps,i=r.length;while(i--)if(r[i].dep===t){r.splice(i,1);break}this.origin.unregister(this.map(e),t,n)}};var ay=fy,ly=function(e,t){var n,r,i,s;return n={},r=0,i=e.map(function(e,i){var o,u,a;u=r,a=t.length;do{o=t.indexOf(e,u);if(o===-1)return s=!0,-1;u=o+1}while(n[o]&&u<a);return o===r&&(r+=1),o!==i&&(s=!0),n[o]=!0,o}),i},cy=py,hy={},my=gy,by=wy,Ey=Sy,xy=Ty,Cy=Ay,ky={implicit:!0},Ly={noCascade:!0},My=_y,Dy=Py,By=function(e){var t=e.adapt,n=e.data,r=e.ractive,i=e.computed,s=e.mappings,o,u;this.ractive=r,this.adaptors=t,this.onchange=e.onchange,this.cache={},this.cacheMap=A(null),this.deps={computed:A(null),"default":A(null)},this.depsMap={computed:A(null),"default":A(null)},this.patternObservers=[],this.specials=A(null),this.wrapped=A(null),this.computations=A(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=n,this.mappings=A(null);for(o in s)this.map(wt(o),s[o]);if(n)for(o in n)(u=this.mappings[o])&&u.getValue()===undefined&&u.setValue(n[o]);for(o in i)s&&o in s&&J("Cannot map to a computed property ('%s')",o),this.compute(wt(o),i[o]);this.ready=!0};By.prototype={adapt:Tg,applyChanges:Hg,capture:Rg,clearCache:zg,compute:Qg,get:Zg,init:ry,map:sy,mark:ay,merge:cy,register:my,release:by,reset:Ey,set:xy,smartUpdate:Cy,teardown:My,unregister:Dy};var jy=By;Fy.prototype={constructor:Fy,begin:function(e){this.inProcess[e._guid]=!0},end:function(e){var t=e.parent;!t||!this.inProcess[t._guid]?qy(this,e):Iy(this.queue,t).push(e),delete this.inProcess[e._guid]}};var Ry=Fy,Uy=Wy,zy=/\$\{([^\}]+)\}/g,Jy=new Bt("construct"),Ky=new Bt("config"),Qy=new Ry("init"),Gy=0,Yy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],Zy=eb,ob=sb;sb.prototype={bubble:function(){this.dirty||(this.dirty=!0,bn.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(e,t){this.fragment.rebind(e,t)},unbind:function(){this.fragment.unbind()}};var ub=function(e,t,n,r,i){var s,o,u,a,f,l={},c={},h={},p,d=[];o=e.parentFragment,u=e.root,i=i||{},D(l,i),i.content=r||[],l[""]=i.content,t.defaults.el&&Y("The <%s/> component has a default `el` property; it has been disregarded",e.name),a=o;while(a){if(a.owner.type===Qi){f=a.owner.container;break}a=a.parent}return n&&Object.keys(n).forEach(function(t){var r=n[t],i,o;if(typeof r=="string")i=da(r),c[t]=i?i.value:r;else if(r===0)c[t]=!0;else{if(!F(r))throw new Error("erm wut");fb(r)?(h[t]={origin:e.root.viewmodel,keypath:undefined},o=ab(e,r[0],function(e){e.isSpecial?p?s.set(t,e.value):(c[t]=e.value,delete h[t]):p?s.viewmodel.mappings[t].resolve(e):h[t].keypath=e})):o=new ob(e,r,function(e){p?s.set(t,e):c[t]=e}),d.push(o)}}),s=A(t.prototype),Zy(s,{el:null,append:!0,data:c,partials:i,magic:u.magic||t.defaults.magic,modifyArrays:u.modifyArrays,adapt:u.adapt},{parent:u,component:e,container:f,mappings:h,inlinePartials:l,cssIds:o.cssIds}),p=!0,e.resolvers=d,s},lb=cb,pb=function(e){var t,n;t=e.root;while(t)(n=t._liveComponentQueries["_"+e.name])&&n.push(e.instance),t=t.parent},db=vb,mb=gb,yb=bb,wb=Eb,Sb=Tb,xb=new Bt("teardown"),Cb=kb,Lb=function(e,t){this.init(e,t)};Lb.prototype={detach:zm,find:Vm,findAll:Jm,findAllComponents:Qm,findComponent:Ym,findNextNode:eg,firstNode:ng,init:db,rebind:mb,render:yb,toString:wb,unbind:Sb,unrender:Cb};var Ab=Lb,Ob=function(e){this.type=Xi,this.value=e.template.c};Ob.prototype={detach:fl,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){e&&this.node.parentNode.removeChild(this.node)}};var Mb=Ob,_b=function(e){var t,n;this.type=Qi,this.container=t=e.parentFragment.root,this.component=n=t.component,this.container=t,this.containerFragment=e.parentFragment,this.parentFragment=n.parentFragment;var r=this.name=e.template.n||"",i=t._inlinePartials[r];i||(Y('Could not find template for partial "'+r+'"',{ractive:e.root}),i=[]),this.fragment=new Zb({owner:this,root:t.parent,template:i,pElement:this.containerFragment.pElement}),F(n.yielders[r])?n.yielders[r].push(this):n.yielders[r]=[this],bn.scheduleTask(function(){if(n.yielders[r].length>1)throw new Error("A component template can only have one {{yield"+(r?" "+r:"")+"}} declaration at a time")})};_b.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e),Ut(this.component.yielders[this.name],this)},rebind:function(e,t){this.fragment.rebind(e,t)},toString:function(){return this.fragment.toString()}};var Db=_b,Pb=function(e){this.declaration=e.template.a};Pb.prototype={init:T,render:T,unrender:T,teardown:T,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var Hb=Pb,Bb=jb,Ib=qb,Rb=Ub,zb=Wb,$b=Jb,Qb=Gb,Yb=function(e){this.init(e)};Yb.prototype={bubble:If,detach:Rf,find:zf,findAll:Xf,findAllComponents:$f,findComponent:Kf,findNextNode:Gf,firstNode:Zf,getArgsList:rl,getNode:sl,getValue:ul,init:Bb,rebind:Ib,registerIndexRef:function(e){var t=this.registeredIndexRefs;t.indexOf(e)===-1&&t.push(e)},render:Rb,toString:zb,unbind:$b,unregisterIndexRef:function(e){var t=this.registeredIndexRefs;t.splice(t.indexOf(e),1)},unrender:Qb};var Zb=Yb,ew=rw,tw=["template","partials","components","decorators","events"],nw=new Bt("reset"),iw=function(e,t){function i(t,n,r){if(r&&r.partials[e])return;t.forEach(function(t){t.type===Wi&&t.getPartialName()===e&&n.push(t),t.fragment&&i(t.fragment.items,n,r),F(t.fragments)?i(t.fragments,n,r):F(t.items)?i(t.items,n,r):t.type===Ki&&t.instance&&i(t.instance.fragment.items,n,t.instance),t.type===zi&&(F(t.attributes)&&i(t.attributes,n,r),F(t.conditionalAttributes)&&i(t.conditionalAttributes,n,r))})}var n,r=[];return i(this.fragment.items,r),this.partials[e]=t,n=bn.start(this,!0),r.forEach(function(t){t.value=undefined,t.setValue(e)}),bn.end(),n},sw=ow,uw=Jr("reverse"),aw=fw,cw=Jr("shift"),hw=Jr("sort"),pw=Jr("splice"),dw=vw,mw=yw,gw=new Bt("teardown"),ww=Ew,Sw=xw,Tw=Cw,Nw=new Bt("unrender"),kw=Jr("unshift"),Lw=Ow,Aw=new Bt("update"),Mw=_w,Pw={add:Lt,animate:Ln,detach:_n,find:Hn,findAll:Kn,findAllComponents:Gn,findComponent:Zn,findContainer:tr,findParent:rr,fire:cr,get:pr,insert:mr,merge:wr,observe:_r,observeOnce:Pr,off:Fr,on:qr,once:Ur,pop:Kr,push:Qr,render:ui,reset:ew,resetPartial:iw,resetTemplate:sw,reverse:uw,set:aw,shift:cw,sort:hw,splice:pw,subtract:dw,teardown:mw,toggle:ww,toHTML:Sw,toHtml:Sw,unrender:Tw,unshift:kw,update:Lw,updateModel:Mw},Hw=function(e,t,n){return n||Bw(e,t)?function(){var n="_super"in this,r=this._super,i;return this._super=t,i=e.apply(this,arguments),n&&(this._super=r),i}:e},jw=Fw,Uw=zw,Xw=function(e){var t={},n,r;if(!e||!(n=e._ractive))return t;t.ractive=n.root,t.keypath=n.keypath.str,t.index={};if(r=Tl(n.proxy.parentFragment))t.index=Tl.resolve(r);return t},Vw,$w;Vw=function(e){if(!(this instanceof Vw))return new Vw(e);Zy(this,e)},$w={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Uw},getNodeInfo:{value:Xw},parse:{value:$a},Promise:{value:Jt},svg:{value:f},magic:{value:u},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:r},events:{writable:!0,value:{}},interpolators:{writable:!0,value:ft},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},M(Vw,$w),Vw.prototype=D(Pw,n),Vw.prototype.constructor=Vw,Vw.defaults=Vw.prototype;var Jw="function";if(typeof Date.now!==Jw||typeof String.prototype.trim!==Jw||typeof Object.keys!==Jw||typeof Array.prototype.indexOf!==Jw||typeof Array.prototype.forEach!==Jw||typeof Array.prototype.map!==Jw||typeof Array.prototype.filter!==Jw||typeof window!="undefined"&&typeof window.addEventListener!==Jw)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var Kw=Vw;return Kw}),define("rvc",{load:function(e){throw new Error("Dynamic load not allowed: "+e)}}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(a,b){function s(e){var t="length"in e&&e.length,r=n.type(e);return"function"===r||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function x(e,t,r){if(n.isFunction(t))return n.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return n.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(w.test(t))return n.filter(t,e,r);t=n.filter(t,e)}return n.grep(e,function(e){return g.call(t,e)>=0!==r})}function D(e,t){while((e=e[t])&&1!==e.nodeType);return e}function G(e){var t=F[e]={};return n.each(e.match(E)||[],function(e,n){t[n]=!0}),t}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}function P(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(O,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:N.test(r)?n.parseJSON(r):r}catch(s){}M.set(e,t,r)}else r=void 0;return r}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(e){}}function ja(e,t){return n.nodeName(e,"table")&&n.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ka(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function la(e){var t=ga.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function ma(e,t){for(var n=0,r=e.length;r>n;n++)L.set(e[n],"globalEval",!t||L.get(t[n],"globalEval"))}function na(e,t){var r,i,s,o,u,a,f,l;if(1===t.nodeType){if(L.hasData(e)&&(o=L.access(e),u=L.set(t,o),l=o.events)){delete u.handle,u.events={};for(s in l)for(r=0,i=l[s].length;i>r;r++)n.event.add(t,s,l[s][r])}M.hasData(e)&&(a=M.access(e),f=n.extend({},a),M.set(t,f))}}function oa(e,t){var r=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&n.nodeName(e,t)?n.merge([e],r):r}function pa(e,t){var n=t.nodeName.toLowerCase();"input"===n&&T.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function sa(e,t){var r,i=n(t.createElement(e)).appendTo(t.body),s=a.getDefaultComputedStyle&&(r=a.getDefaultComputedStyle(i[0]))?r.display:n.css(i[0],"display");return i.detach(),s}function ta(e){var t=l,r=ra[e];return r||(r=sa(e,t),"none"!==r&&r||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qa[0].contentDocument,t.write(),t.close(),r=sa(e,t),qa.detach()),ra[e]=r),r}function xa(e,t,r){var i,s,o,u,a=e.style;return r=r||wa(e),r&&(u=r.getPropertyValue(t)||r[t]),r&&(""!==u||n.contains(e.ownerDocument,e)||(u=n.style(e,t)),va.test(u)&&ua.test(t)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=u,u=r.width,a.width=i,a.minWidth=s,a.maxWidth=o)),void 0!==u?u+"":u}function ya(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function Fa(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ea.length;while(i--)if(t=Ea[i]+n,t in e)return t;return r}function Ga(e,t,n){var r=Aa.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ha(e,t,r,i,s){for(var o=r===(i?"border":"content")?4:"width"===t?1:0,u=0;4>o;o+=2)"margin"===r&&(u+=n.css(e,r+R[o],!0,s)),i?("content"===r&&(u-=n.css(e,"padding"+R[o],!0,s)),"margin"!==r&&(u-=n.css(e,"border"+R[o]+"Width",!0,s))):(u+=n.css(e,"padding"+R[o],!0,s),"padding"!==r&&(u+=n.css(e,"border"+R[o]+"Width",!0,s)));return u}function Ia(e,t,r){var i=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=wa(e),u="border-box"===n.css(e,"boxSizing",!1,o);if(0>=s||null==s){if(s=xa(e,t,o),(0>s||null==s)&&(s=e.style[t]),va.test(s))return s;i=u&&(k.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+Ha(e,t,r||(u?"border":"content"),i,o)+"px"}function Ja(e,t){for(var r,i,s,o=[],u=0,a=e.length;a>u;u++)i=e[u],i.style&&(o[u]=L.get(i,"olddisplay"),r=i.style.display,t?(o[u]||"none"!==r||(i.style.display=""),""===i.style.display&&S(i)&&(o[u]=L.access(i,"olddisplay",ta(i.nodeName)))):(s=S(i),"none"===r&&s||L.set(i,"olddisplay",s?r:n.css(i,"display"))));for(u=0;a>u;u++)i=e[u],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[u]||"":"none"));return e}function Ka(e,t,n,r,i){return new Ka.prototype.init(e,t,n,r,i)}function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=R[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ua(e,t,n){for(var r,i=(Ra[t]||[]).concat(Ra["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function Va(e,t,r){var i,s,o,u,a,f,l,c,h=this,p={},d=e.style,v=e.nodeType&&S(e),m=L.get(e,"fxshow");r.queue||(a=n._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,f=a.empty.fire,a.empty.fire=function(){a.unqueued||f()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,n.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],l=n.css(e,"display"),c="none"===l?L.get(e,"olddisplay")||ta(e.nodeName):l,"inline"===c&&"none"===n.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in t)if(s=t[i],Na.exec(s)){if(delete t[i],o=o||"toggle"===s,s===(v?"hide":"show")){if("show"!==s||!m||void 0===m[i])continue;v=!0}p[i]=m&&m[i]||n.style(e,i)}else l=void 0;if(n.isEmptyObject(p))"inline"===("none"===l?ta(e.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(v=m.hidden):m=L.access(e,"fxshow",{}),o&&(m.hidden=!v),v?n(e).show():h.done(function(){n(e).hide()}),h.done(function(){var t;L.remove(e,"fxshow");for(t in p)n.style(e,t,p[t])});for(i in p)u=Ua(v?m[i]:0,i,h),i in m||(m[i]=u.start,v&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function Wa(e,t){var r,i,s,o,u;for(r in e)if(i=n.camelCase(r),s=t[i],o=e[r],n.isArray(o)&&(s=o[1],o=e[r]=o[0]),r!==i&&(e[i]=o,delete e[r]),u=n.cssHooks[i],u&&"expand"in u){o=u.expand(o),delete e[i];for(r in o)r in e||(e[r]=o[r],t[r]=s)}else t[i]=s}function Xa(e,t,r){var i,s,o=0,u=Qa.length,a=n.Deferred().always(function(){delete f.elem}),f=function(){if(s)return!1;for(var t=La||Sa(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(i);return a.notifyWith(e,[l,i,n]),1>i&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:n.extend({},t),opts:n.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:La||Sa(),duration:r.duration,tweens:[],createTween:function(t,r){var i=n.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,r=t?l.tweens.length:0;if(s)return this;for(s=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(Wa(c,l.opts.specialEasing);u>o;o++)if(i=Qa[o].call(l,e,c,l.opts))return i;return n.map(c,Ua,l),n.isFunction(l.opts.start)&&l.opts.start.call(e,l),n.fx.timer(n.extend(f,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function qb(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,s=0,o=t.toLowerCase().match(E)||[];if(n.isFunction(r))while(i=o[s++])"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function rb(e,t,r,i){function u(l){var h;return s[l]=!0,n.each(e[l]||[],function(e,n){var a=n(t,r,i);return"string"!=typeof a||o||s[a]?o?!(h=a):void 0:(t.dataTypes.unshift(a),u(a),!1)}),h}var s={},o=e===mb;return u(t.dataTypes[0])||!s["*"]&&u("*")}function sb(e,t){var r,i,s=n.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((s[r]?e:i||(i={}))[r]=t[r]);return i&&n.extend(!0,e,i),e}function tb(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while("*"===a[0])a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function ub(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Ab(e,t,r,i){var s;if(n.isArray(t))n.each(t,function(t,n){r||wb.test(e)?i(e,n):Ab(e+"["+("object"==typeof n?t:"")+"]",n,r,i)});else if(r||"object"!==n.type(t))i(e,t);else for(s in t)Ab(e+"["+s+"]",t[s],r,i)}function Jb(e){return n.isWindow(e)?e:9===e.nodeType&&e.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(e,t){return new n.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(e,t){return t.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:d.call(this)},pushStack:function(e){var t=n.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return n.each(this,e,t)},map:function(e){return this.pushStack(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var e,t,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[a]||{},a++),"object"==typeof u||n.isFunction(u)||(u={}),a===f&&(u=this,a--);f>a;a++)if(null!=(e=arguments[a]))for(t in e)r=u[t],i=e[t],u!==i&&(l&&i&&(n.isPlainObject(i)||(s=n.isArray(i)))?(s?(s=!1,o=r&&n.isArray(r)?r:[]):o=r&&n.isPlainObject(r)?r:{},u[t]=n.extend(l,o,i)):void 0!==i&&(u[t]=i));return u},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===n.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!n.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"!==n.type(e)||e.nodeType||n.isWindow(e)?!1:e.constructor&&!j.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[i.call(e)]||"object":typeof e},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(e){return e.replace(p,"ms-").replace(q,r)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,u=s(e);if(n){if(u){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(u){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?n.merge(r,"string"==typeof e?[e]:e):f.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(t,n,r){var i,o=0,u=t.length,a=s(t),f=[];if(a)for(;u>o;o++)i=n(t[o],o,r),null!=i&&f.push(i);else for(o in t)i=n(t[o],o,r),null!=i&&f.push(i);return e.apply([],f)},guid:1,proxy:function(e,t){var r,i,s;return"string"==typeof t&&(r=e[t],t=e,e=r),n.isFunction(e)?(i=d.call(arguments,2),s=function(){return e.apply(t||this,i.concat(d.call(arguments)))},s.guid=e.guid=e.guid||n.guid++,s):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var t=function(e){function ot(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;if((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[],l=t.nodeType,"string"!=typeof e||!e||1!==l&&9!==l&&11!==l)return r;if(!i&&v){if(11!==l&&(s=Z.exec(e)))if(f=s[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return D.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName)return D.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){if(y=g=w,S=t,x=1!==l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;while(c--)d[c]=y+gt(d[c]);S=et.test(e)&&vt(t.parentNode)||t,x=d.join(",")}if(x)try{return D.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ut(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function at(e){return e[w]=!0,e}function ft(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function lt(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function ct(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||L)-(~e.sourceIndex||L);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function pt(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function dt(e){return at(function(t){return t=+t,at(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function vt(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function mt(){}function gt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function yt(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=x++;return t.first?function(t,n,s){while(t=t[r])if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){while(t=t[r])if((1===t.nodeType||i)&&e(t,n,o))return!0}else while(t=t[r])if(1===t.nodeType||i){if(a=t[w]||(t[w]={}),(u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function bt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function wt(e,t,n){for(var r=0,i=t.length;i>r;r++)ot(e,t[r],n);return n}function Et(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function St(e,t,n,r,i,s){return r&&!r[w]&&(r=St(r)),i&&!i[w]&&(i=St(i,s)),at(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||wt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:Et(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r){f=Et(g,p),r(f,[],u,a),l=f.length;while(l--)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c))}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?H(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=Et(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):D.apply(o,g)})}function xt(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=yt(function(e){return e===t},u,!0),c=yt(function(e){return H(t,e)>-1},u,!0),h=[function(e,n,r){var i=!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r));return t=null,i}];s>a;a++)if(n=r.relative[e[a].type])h=[yt(bt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;s>i;i++)if(r.relative[e[i].type])break;return St(a>1&&bt(h),a>1&&gt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),n,i>a&&xt(e.slice(a,i)),s>i&&xt(e=e.slice(i)),s>i&&gt(e))}h.push(n)}return bt(h)}function Tt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=null==b?1:Math.random()||.1,x=w.length;for(l&&(f=o!==p&&o);m!==x&&null!=(c=w[m]);m++){if(i&&c){h=0;while(d=e[h++])if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}if(v+=m,n&&m!==v){h=0;while(d=t[h++])d(g,y,o,u);if(s){if(v>0)while(m--)g[m]||y[m]||(y[m]=M.call(a));y=Et(y)}D.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&ot.uniqueSort(a)}return l&&(S=E,f=b),g};return n?at(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+1*new Date,E=e.document,S=0,x=0,T=ut(),N=ut(),C=ut(),k=function(e,t){return e===t&&(c=!0),0},L=1<<31,A={}.hasOwnProperty,O=[],M=O.pop,_=O.push,D=O.push,P=O.slice,H=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]===t)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I=F.replace("w","w#"),q="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+j+"*\\]",R=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+q+")*)|.*)\\)|)",U=new RegExp(j+"+","g"),z=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),W=new RegExp("^"+j+"*,"+j+"*"),X=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),V=new RegExp("="+j+"*([^\\]'\"]*?)"+j+"*\\]","g"),$=new RegExp(R),J=new RegExp("^"+I+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F.replace("w","w*")+")"),ATTR:new RegExp("^"+q),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},it=function(){h()};try{D.apply(O=P.call(E.childNodes),E.childNodes),O[E.childNodes.length].nodeType}catch(st){D={apply:O.length?function(e,t){_.apply(e,P.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=ot.support={},s=ot.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},h=ot.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:E;return o!==p&&9===o.nodeType&&o.documentElement?(p=o,d=o.documentElement,i=o.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",it,!1):i.attachEvent&&i.attachEvent("onunload",it)),v=!s(o),n.attributes=ft(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ft(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(o.getElementsByClassName),n.getById=ft(function(e){return d.appendChild(e).id=w,!o.getElementsByName||!o.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){while(n=s[i++])1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){return v?t.getElementsByClassName(e):void 0},g=[],m=[],(n.qsa=Y.test(o.querySelectorAll))&&(ft(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+B+")"),e.querySelectorAll("[id~="+w+"-]").length||m.push("~="),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),ft(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ft(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",R)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&1===r.nodeType&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===o||e.ownerDocument===E&&b(E,e)?-1:t===o||t.ownerDocument===E&&b(E,t)?1:l?H(l,e)-H(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,i=e.parentNode,s=t.parentNode,u=[e],a=[t];if(!i||!s)return e===o?-1:t===o?1:i?-1:s?1:l?H(l,e)-H(l,t):0;if(i===s)return ct(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)a.unshift(n);while(u[r]===a[r])r++;return r?ct(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},o):p},ot.matches=function(e,t){return ot(e,null,null,t)},ot.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']"),!(!n.matchesSelector||!v||g&&g.test(t)||m&&m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return ot(t,p,null,[e]).length>0},ot.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},ot.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&A.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},ot.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ot.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return l=null,e},i=ot.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else while(t=e[r++])n+=i(t);return n},r=ot.selectors={cacheLength:50,createPseudo:at,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ot.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ot.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+j+")"+e+"("+j+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ot.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(U," ")+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:1===c.nodeType)&&++h&&(y&&((c[w]||(c[w]={}))[e]=[S,h]),c===t))break;return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ot.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?at(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=H(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:at(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?at(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),t[0]=null,!n.pop()}}),has:at(function(e){return function(t){return ot(e,t).length>0}}),contains:at(function(e){return e=e.replace(nt,rt),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:at(function(e){return J.test(e||"")||ot.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:dt(function(){return[0]}),last:dt(function(e,t){return[t-1]}),eq:dt(function(e,t,n){return[0>n?n+t:n]}),even:dt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:dt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:dt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:dt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ht(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pt(t);return mt.prototype=r.filters=r.pseudos,r.setFilters=new mt,o=ot.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){(!n||(i=W.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=X.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length));for(o in r.filter)!(i=K[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?ot.error(e):N(e,a).slice(0)},u=ot.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){t||(t=o(e)),n=t.length;while(n--)s=xt(t[n]),s[w]?r.push(s):i.push(s);s=C(e,Tt(i,r)),s.selector=e}return s},a=ot.select=function(e,t,i,s){var a,f,l,c,h,p="function"==typeof e&&e,d=!s&&o(e=p.selector||e);if(i=i||[],1===d.length){if(f=d[0]=d[0].slice(0),f.length>2&&"ID"===(l=f[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}a=K.needsContext.test(e)?0:f.length;while(a--){if(l=f[a],r.relative[c=l.type])break;if((h=r.find[c])&&(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&vt(t.parentNode)||t))){if(f.splice(a,1),e=s.length&&gt(f),!e)return D.apply(i,s),i;break}}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&vt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=ft(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),ft(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||lt("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ft(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||lt("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),ft(function(e){return null==e.getAttribute("disabled")})||lt(B,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ot}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?n.find.matchesSelector(i,e)?[i]:[]:n.find.matches(e,n.grep(t,function(e){return 1===e.nodeType}))},n.fn.extend({find:function(e){var t,r=this.length,i=[],s=this;if("string"!=typeof e)return this.pushStack(n(e).filter(function(){for(t=0;r>t;t++)if(n.contains(s[t],this))return!0}));for(t=0;r>t;t++)n.find(e,s[t],i);return i=this.pushStack(r>1?n.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&u.test(e)?n(e):e||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(e,t){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||y).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof n?t[0]:t,n.merge(this,n.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:l,!0)),v.test(r[1])&&n.isPlainObject(t))for(r in t)n.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=l.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=l,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):n.isFunction(e)?"undefined"!=typeof y.ready?y.ready(e):e(n):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),n.makeArray(e,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(e,t,r){var i=[],s=void 0!==r;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(s&&n(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),n.fn.extend({has:function(e){var t=n(e,this),r=t.length;return this.filter(function(){for(var e=0;r>e;e++)if(n.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,i=0,s=this.length,o=[],a=u.test(e)||"string"!=typeof e?n(e,t||this.context):0;s>i;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&n.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?n.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(n(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(n.unique(n.merge(this.get(),n(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),n.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return n.dir(e,"parentNode")},parentsUntil:function(e,t,r){return n.dir(e,"parentNode",r)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return n.dir(e,"nextSibling")},prevAll:function(e){return n.dir(e,"previousSibling")},nextUntil:function(e,t,r){return n.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return n.dir(e,"previousSibling",r)},siblings:function(e){return n.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return n.sibling(e.firstChild)},contents:function(e){return e.contentDocument||n.merge([],e.childNodes)}},function(e,t){n.fn[e]=function(r,i){var s=n.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(s=n.filter(i,s)),this.length>1&&(C[e]||n.unique(s),B.test(e)&&s.reverse()),this.pushStack(s)}});var E=/\S+/g,F={};n.Callbacks=function(e){e="string"==typeof e?F[e]||G(e):n.extend({},e);var t,r,i,s,o,u,a=[],f=!e.once&&[],l=function(n){for(t=e.memory&&n,r=!0,u=s||0,s=0,o=a.length,i=!0;a&&o>u;u++)if(a[u].apply(n[0],n[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function u(t){n.each(t,function(t,r){var i=n.type(r);"function"===i?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==i&&u(r)})}(arguments),i?o=a.length:t&&(s=r,l(t))}return this},remove:function(){return a&&n.each(arguments,function(e,t){var r;while((r=n.inArray(t,a,r))>-1)a.splice(r,1),i&&(o>=r&&o--,u>=r&&u--)}),this},has:function(e){return e?n.inArray(e,a)>-1:!!a&&!!a.length},empty:function(){return a=[],o=0,this},disable:function(){return a=f=t=void 0,this},disabled:function(){return!a},lock:function(){return f=void 0,t||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!a||r&&!f||(t=t||[],t=[e,t.slice?t.slice():t],i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},n.extend({Deferred:function(e){var t=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n.Deferred(function(r){n.each(t,function(t,o){var u=n.isFunction(e[t])&&e[t];s[o[1]](function(){var e=u&&u.apply(this,arguments);e&&n.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===i?r.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?n.extend(e,i):i}},s={};return i.pipe=i.then,n.each(t,function(e,n){var o=n[2],u=n[3];i[n[1]]=o.add,u&&o.add(function(){r=u},t[1^e][2].disable,t[2][2].lock),s[n[0]]=function(){return s[n[0]+"With"](this===s?i:this,arguments),this},s[n[0]+"With"]=o.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t=0,r=d.call(arguments),i=r.length,s=1!==i||e&&n.isFunction(e.promise)?i:0,o=1===s?e:n.Deferred(),u=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}},a,f,l;if(i>1)for(a=new Array(i),f=new Array(i),l=new Array(i);i>t;t++)r[t]&&n.isFunction(r[t].promise)?r[t].promise().done(u(t,l,r)).fail(o.reject).progress(u(t,f,a)):--s;return s||o.resolveWith(l,r),o.promise()}});var H;n.fn.ready=function(e){return n.ready.promise().done(e),this},n.extend({isReady:!1,readyWait:1,holdReady:function(e){e?n.readyWait++:n.ready(!0)},ready:function(e){(e===!0?--n.readyWait:n.isReady)||(n.isReady=!0,e!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(e){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(e)},n.ready.promise();var J=n.access=function(e,t,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===n.type(r)){s=!0;for(a in r)n.access(e,t,a,r[a],!0,o,u)}else if(void 0!==i&&(s=!0,n.isFunction(i)||(u=!0),l&&(u?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(n(e),r)})),t))for(;f>a;a++)t(e[a],r,u?i:i.call(e[a],a,t(e[a],r)));return s?e:l?t.call(e):f?t(e[0],r):o};n.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(e){if(!K.accepts(e))return 0;var t={},r=e[this.expando];if(!r){r=K.uid++;try{t[this.expando]={value:r},Object.defineProperties(e,t)}catch(i){t[this.expando]=r,n.extend(e,t)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,r){var i,s=this.key(e),o=this.cache[s];if("string"==typeof t)o[t]=r;else if(n.isEmptyObject(o))n.extend(this.cache[s],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,r){var i;return void 0===t||t&&"string"==typeof t&&void 0===r?(i=this.get(e,t),void 0!==i?i:this.get(e,n.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i,s,o=this.key(e),u=this.cache[o];if(void 0===t)this.cache[o]={};else{n.isArray(t)?i=t.concat(t.map(n.camelCase)):(s=n.camelCase(t),t in u?i=[t,s]:(i=s,i=i in u?[i]:i.match(E)||[])),r=i.length;while(r--)delete u[i[r]]}},hasData:function(e){return!n.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(e){return M.hasData(e)||L.hasData(e)},data:function(e,t,n){return M.access(e,t,n)},removeData:function(e,t){M.remove(e,t)},_data:function(e,t,n){return L.access(e,t,n)},_removeData:function(e,t){L.remove(e,t)}}),n.fn.extend({data:function(e,t){var r,i,s,o=this[0],u=o&&o.attributes;if(void 0===e){if(this.length&&(s=M.get(o),1===o.nodeType&&!L.get(o,"hasDataAttrs"))){r=u.length;while(r--)u[r]&&(i=u[r].name,0===i.indexOf("data-")&&(i=n.camelCase(i.slice(5)),P(o,i,s[i])));L.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){M.set(this,e)}):J(this,function(t){var r,i=n.camelCase(e);if(o&&void 0===t){if(r=M.get(o,e),void 0!==r)return r;if(r=M.get(o,i),void 0!==r)return r;if(r=P(o,i,void 0),void 0!==r)return r}else this.each(function(){var n=M.get(this,i);M.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&M.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){M.remove(this,e)})}}),n.extend({queue:function(e,t,r){var i;return e?(t=(t||"fx")+"queue",i=L.get(e,t),r&&(!i||n.isArray(r)?i=L.access(e,t,n.makeArray(r)):i.push(r)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=n.queue(e,t),i=r.length,s=r.shift(),o=n._queueHooks(e,t),u=function(){n.dequeue(e,t)};"inprogress"===s&&(s=r.shift(),i--),s&&("fx"===t&&r.unshift("inprogress"),delete o.stop,s.call(e,u,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return L.get(e,r)||L.access(e,r,{empty:n.Callbacks("once memory").add(function(){L.remove(e,[t+"queue",r])})})}}),n.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?n.queue(this[0],e):void 0===t?this:this.each(function(){var r=n.queue(this,e,t);n._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&n.dequeue(this,e)})},dequeue:function(e){return this.each(function(){n.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,s=n.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(u--)r=L.get(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(e,t){return e=t||e,"none"===n.css(e,"display")||!n.contains(e.ownerDocument,e)},T=/^(?:checkbox|radio)$/i;!function(){var e=l.createDocumentFragment(),t=e.appendChild(l.createElement("div")),n=l.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),k.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=L.get(e);if(g){r.handler&&(o=r,r=o.handler,s=o.selector),r.guid||(r.guid=n.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof n!==U&&n.event.triggered!==t.type?n.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(E)||[""],l=t.length;while(l--)a=Y.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d&&(h=n.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=n.event.special[d]||{},c=n.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&n.expr.match.needsContext.test(s),namespace:v.join(".")},o),(p=f[d])||(p=f[d]=[],p.delegateCount=0,h.setup&&h.setup.call(e,i,v,u)!==!1||e.addEventListener&&e.addEventListener(d,u,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),n.event.global[d]=!0)}},remove:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=L.hasData(e)&&L.get(e);if(g&&(f=g.events)){t=(t||"").match(E)||[""],l=t.length;while(l--)if(a=Y.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d){h=n.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=f[d]||[],a=a[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;while(o--)c=p[o],!s&&m!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));u&&!p.length&&(h.teardown&&h.teardown.call(e,v,g.handle)!==!1||n.removeEvent(e,d,g.handle),delete f[d])}else for(d in f)n.event.remove(e,d+t[l],r,i,!0);n.isEmptyObject(f)&&(delete g.handle,L.remove(e,"events"))}},trigger:function(e,t,r,i){var s,o,u,f,c,h,p,d=[r||l],v=j.call(e,"type")?e.type:e,m=j.call(e,"namespace")?e.namespace.split("."):[];if(o=u=r=r||l,3!==r.nodeType&&8!==r.nodeType&&!X.test(v+n.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,e=e[n.expando]?e:new n.Event(v,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:n.makeArray(t,[e]),p=n.event.special[v]||{},i||!p.trigger||p.trigger.apply(r,t)!==!1)){if(!i&&!p.noBubble&&!n.isWindow(r)){for(f=p.delegateType||v,X.test(f+v)||(o=o.parentNode);o;o=o.parentNode)d.push(o),u=o;u===(r.ownerDocument||l)&&d.push(u.defaultView||u.parentWindow||a)}s=0;while((o=d[s++])&&!e.isPropagationStopped())e.type=s>1?f:p.bindType||v,h=(L.get(o,"events")||{})[e.type]&&L.get(o,"handle"),h&&h.apply(o,t),h=c&&o[c],h&&h.apply&&n.acceptData(o)&&(e.result=h.apply(o,t),e.result===!1&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),t)!==!1||!n.acceptData(r)||c&&n.isFunction(r[v])&&!n.isWindow(r)&&(u=r[c],u&&(r[c]=null),n.event.triggered=v,r[v](),n.event.triggered=void 0,u&&(r[c]=u)),e.result}},dispatch:function(e){e=n.event.fix(e);var t,r,i,s,o,u=[],a=d.call(arguments),f=(L.get(this,"events")||{})[e.type]||[],l=n.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){u=n.event.handlers.call(this,e,f),t=0;while((s=u[t++])&&!e.isPropagationStopped()){e.currentTarget=s.elem,r=0;while((o=s.handlers[r++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((n.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()))}return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,i,s,o,u=[],a=t.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||"click"!==e.type))for(;f!==this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==e.type){for(i=[],r=0;a>r;r++)o=t[r],s=o.selector+" ",void 0===i[s]&&(i[s]=o.needsContext?n(s,this).index(f)>=0:n.find(s,this,null,[f]).length),i[s]&&i.push(o);i.length&&u.push({elem:f,handlers:i})}return a<t.length&&u.push({elem:this,handlers:t.slice(a)}),u},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||l,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[n.expando])return e;var t,r,i,s=e.type,o=e,u=this.fixHooks[s];u||(this.fixHooks[s]=u=W.test(s)?this.mouseHooks:V.test(s)?this.keyHooks:{}),i=u.props?this.props.concat(u.props):this.props,e=new n.Event(o),t=i.length;while(t--)r=i[t],e[r]=o[r];return e.target||(e.target=l),3===e.target.nodeType&&(e.target=e.target.parentNode),u.filter?u.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return n.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,i){var s=n.extend(new n.Event,r,{type:e,isSimulated:!0,originalEvent:{}});i?n.event.trigger(s,null,t):n.event.dispatch.call(t,s),s.isDefaultPrevented()&&r.preventDefault()}},n.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},n.Event=function(e,t){return this instanceof n.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?Z:$):this.type=e,t&&n.extend(this,t),this.timeStamp=e&&e.timeStamp||n.now(),void (this[n.expando]=!0)):new n.Event(e,t)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Z,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Z,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Z,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){n.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==i&&!n.contains(i,s))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){n.event.simulate(t,e.target,n.event.fix(e),!0)};n.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=L.access(n,t);i||n.addEventListener(e,r,!0),L.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=L.access(n,t)-1;i?L.access(n,t,i):(n.removeEventListener(e,r,!0),L.remove(n,t))}}}),n.fn.extend({on:function(e,t,r,i,s){var o,u;if("object"==typeof e){"string"!=typeof t&&(r=r||t,t=void 0);for(u in e)this.on(u,t,r,e[u],s);return this}if(null==r&&null==i?(i=t,r=t=void 0):null==i&&("string"==typeof t?(i=r,r=void 0):(i=r,r=t,t=void 0)),i===!1)i=$;else if(!i)return this;return 1===s&&(o=i,i=function(e){return n().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=n.guid++)),this.each(function(){n.event.add(this,e,i,r,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,n(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=$),this.each(function(){n.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){n.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?n.event.trigger(e,t,r,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td,n.extend({clone:function(e,t,r){var i,s,o,u,a=e.cloneNode(!0),f=n.contains(e.ownerDocument,e);if(!(k.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||n.isXMLDoc(e)))for(u=oa(a),o=oa(e),i=0,s=o.length;s>i;i++)pa(o[i],u[i]);if(t)if(r)for(o=o||oa(e),u=u||oa(a),i=0,s=o.length;s>i;i++)na(o[i],u[i]);else na(e,a);return u=oa(a,"script"),u.length>0&&ma(u,!f&&oa(e,"script")),a},buildFragment:function(e,t,r,i){for(var s,o,u,a,f,l,c=t.createDocumentFragment(),h=[],p=0,d=e.length;d>p;p++)if(s=e[p],s||0===s)if("object"===n.type(s))n.merge(h,s.nodeType?[s]:s);else if(ca.test(s)){o=o||c.appendChild(t.createElement("div")),u=(ba.exec(s)||["",""])[1].toLowerCase(),a=ia[u]||ia._default,o.innerHTML=a[1]+s.replace(aa,"<$1></$2>")+a[2],l=a[0];while(l--)o=o.lastChild;n.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(s));c.textContent="",p=0;while(s=h[p++])if((!i||-1===n.inArray(s,i))&&(f=n.contains(s.ownerDocument,s),o=oa(c.appendChild(s),"script"),f&&ma(o),r)){l=0;while(s=o[l++])fa.test(s.type||"")&&r.push(s)}return c},cleanData:function(e){for(var t,r,i,s,o=n.event.special,u=0;void 0!==(r=e[u]);u++){if(n.acceptData(r)&&(s=r[L.expando],s&&(t=L.cache[s]))){if(t.events)for(i in t.events)o[i]?n.event.remove(r,i):n.removeEvent(r,i,t.handle);L.cache[s]&&delete L.cache[s]}delete M.cache[r[M.expando]]}}}),n.fn.extend({text:function(e){return J(this,function(e){return void 0===e?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ja(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ja(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var r,i=e?n.filter(e,this):this,s=0;null!=(r=i[s]);s++)t||1!==r.nodeType||n.cleanData(oa(r)),r.parentNode&&(t&&n.contains(r.ownerDocument,r)&&ma(oa(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(n.cleanData(oa(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return n.clone(this,e,t)})},html:function(e){return J(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!da.test(e)&&!ia[(ba.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(aa,"<$1></$2>");try{for(;i>r;r++)t=this[r]||{},1===t.nodeType&&(n.cleanData(oa(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,n.cleanData(oa(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(t,r){t=e.apply([],t);var i,s,o,u,a,f,l=0,c=this.length,h=this,p=c-1,d=t[0],v=n.isFunction(d);if(v||c>1&&"string"==typeof d&&!k.checkClone&&ea.test(d))return this.each(function(e){var n=h.eq(e);v&&(t[0]=d.call(this,e,n.html())),n.domManip(t,r)});if(c&&(i=n.buildFragment(t,this[0].ownerDocument,!1,this),s=i.firstChild,1===i.childNodes.length&&(i=s),s)){for(o=n.map(oa(i,"script"),ka),u=o.length;c>l;l++)a=i,l!==p&&(a=n.clone(a,!0,!0),u&&n.merge(o,oa(a,"script"))),r.call(this[l],a,l);if(u)for(f=o[o.length-1].ownerDocument,n.map(o,la),l=0;u>l;l++)a=o[l],fa.test(a.type||"")&&!L.access(a,"globalEval")&&n.contains(f,a)&&(a.src?n._evalUrl&&n._evalUrl(a.src):n.globalEval(a.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){n.fn[e]=function(e){for(var r,i=[],s=n(e),o=s.length-1,u=0;o>=u;u++)r=u===o?this:this.clone(!0),n(s[u])[t](r),f.apply(i,r.get());return this.pushStack(i)}});var qa,ra={},ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):a.getComputedStyle(e,null)};!function(){var e,t,r=l.documentElement,i=l.createElement("div"),s=l.createElement("div");if(s.style){s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===s.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(s);function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(i);var n=a.getComputedStyle(s,null);e="1%"!==n.top,t="4px"===n.width,r.removeChild(i)}a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==t&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(l.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(a.getComputedStyle(t,null).marginRight),r.removeChild(i),s.removeChild(t),e}})}}(),n.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=xa(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,u,a=n.camelCase(t),f=e.style;return t=n.cssProps[a]||(n.cssProps[a]=Fa(f,a)),u=n.cssHooks[t]||n.cssHooks[a],void 0===r?u&&"get"in u&&void 0!==(s=u.get(e,!1,i))?s:f[t]:(o=typeof r,"string"===o&&(s=Ba.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(n.css(e,t)),o="number"),null!=r&&r===r&&("number"!==o||n.cssNumber[a]||(r+="px"),k.clearCloneStyle||""!==r||0!==t.indexOf("background")||(f[t]="inherit"),u&&"set"in u&&void 0===(r=u.set(e,r,i))||(f[t]=r)),void 0)}},css:function(e,t,r,i){var s,o,u,a=n.camelCase(t);return t=n.cssProps[a]||(n.cssProps[a]=Fa(e.style,a)),u=n.cssHooks[t]||n.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,r)),void 0===s&&(s=xa(e,t,i)),"normal"===s&&t in Da&&(s=Da[t]),""===r||r?(o=parseFloat(s),r===!0||n.isNumeric(o)?o||0:s):s}}),n.each(["height","width"],function(e,t){n.cssHooks[t]={get:function(e,r,i){return r?za.test(n.css(e,"display"))&&0===e.offsetWidth?n.swap(e,Ca,function(){return Ia(e,t,i)}):Ia(e,t,i):void 0},set:function(e,r,i){var s=i&&wa(e);return Ga(e,r,i?Ha(e,t,i,"border-box"===n.css(e,"boxSizing",!1,s),s):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(e,t){return t?n.swap(e,{display:"inline-block"},xa,[e,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(e,t){n.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+R[r]+t]=s[r]||s[r-2]||s[0];return i}},ua.test(e)||(n.cssHooks[e+t].set=Ga)}),n.fn.extend({css:function(e,t){return J(this,function(e,t,r){var i,s,o={},u=0;if(n.isArray(t)){for(i=wa(e),s=t.length;s>u;u++)o[t[u]]=n.css(e,t[u],!1,i);return o}return void 0!==r?n.style(e,t,r):n.css(e,t)},e,t,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(e,t,r,i,s,o){this.elem=e,this.prop=r,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(n.cssNumber[r]?"":"px")},cur:function(){var e=Ka.propHooks[this.prop];return e&&e.get?e.get(this):Ka.propHooks._default.get(this)},run:function(e){var t,r=Ka.propHooks[this.prop];return this.options.duration?this.pos=t=n.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=n.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){n.fx.step[e.prop]?n.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[n.cssProps[e.prop]]||n.cssHooks[e.prop])?n.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},n.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(e,t){var r=this.createTween(e,t),i=r.cur(),s=Oa.exec(t),o=s&&s[3]||(n.cssNumber[e]?"":"px"),u=(n.cssNumber[e]||"px"!==o&&+i)&&Oa.exec(n.css(r.elem,e)),a=1,f=20;if(u&&u[3]!==o){o=o||u[3],s=s||[],u=+i||1;do a=a||".5",u/=a,n.style(r.elem,e,u+o);while(a!==(a=r.cur()/i)&&1!==a&&--f)}return s&&(u=r.start=+u||+i||0,r.unit=o,r.end=s[1]?u+(s[1]+1)*s[2]:+s[2]),r}]};n.Animation=n.extend(Xa,{tweener:function(e,t){n.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r,i=0,s=e.length;s>i;i++)r=e[i],Ra[r]=Ra[r]||[],Ra[r].unshift(t)},prefilter:function(e,t){t?Qa.unshift(e):Qa.push(e)}}),n.speed=function(e,t,r){var i=e&&"object"==typeof e?n.extend({},e):{complete:r||!r&&t||n.isFunction(e)&&e,duration:e,easing:r&&t||t&&!n.isFunction(t)&&t};return i.duration=n.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in n.fx.speeds?n.fx.speeds[i.duration]:n.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){n.isFunction(i.old)&&i.old.call(this),i.queue&&n.dequeue(this,i.queue)},i},n.fn.extend({fadeTo:function(e,t,n,r){return this.filter(S).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,r,i){var s=n.isEmptyObject(e),o=n.speed(t,r,i),u=function(){var t=Xa(this,n.extend({},e),o);(s||L.get(this,"finish"))&&t.stop(!0)};return u.finish=u,s||o.queue===!1?this.each(u):this.queue(o.queue,u)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=n.timers,u=L.get(this);if(s)u[s]&&u[s].stop&&i(u[s]);else for(s in u)u[s]&&u[s].stop&&Pa.test(s)&&i(u[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(r),t=!1,o.splice(s,1));(t||!r)&&n.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=L.get(this),i=r[e+"queue"],s=r[e+"queueHooks"],o=n.timers,u=i?i.length:0;for(r.finish=!0,n.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;u>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish})}}),n.each(["toggle","show","hide"],function(e,t){var r=n.fn[t];n.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Ta(t,!0),e,n,i)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){n.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),n.timers=[],n.fx.tick=function(){var e,t=0,r=n.timers;for(La=n.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||n.fx.stop(),La=void 0},n.fx.timer=function(e){n.timers.push(e),e()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(e,t){return e=n.fx?n.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=l.createElement("input"),t=l.createElement("select"),n=t.appendChild(l.createElement("option"));e.type="checkbox",k.checkOn=""!==e.value,k.optSelected=n.selected,t.disabled=!0,k.optDisabled=!n.disabled,e=l.createElement("input"),e.value="t",e.type="radio",k.radioValue="t"===e.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(e,t){return J(this,n.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){n.removeAttr(this,e)})}}),n.extend({attr:function(e,t,r){var i,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===U?n.prop(e,t,r):(1===o&&n.isXMLDoc(e)||(t=t.toLowerCase(),i=n.attrHooks[t]||(n.expr.match.bool.test(t)?Za:Ya)),void 0===r?i&&"get"in i&&null!==(s=i.get(e,t))?s:(s=n.find.attr(e,t),null==s?void 0:s):null!==r?i&&"set"in i&&void 0!==(s=i.set(e,r,t))?s:(e.setAttribute(t,r+""),r):void n.removeAttr(e,t))},removeAttr:function(e,t){var r,i,s=0,o=t&&t.match(E);if(o&&1===e.nodeType)while(r=o[s++])i=n.propFix[r]||r,n.expr.match.bool.test(r)&&(e[i]=!1),e.removeAttribute(r)},attrHooks:{type:{set:function(e,t){if(!k.radioValue&&"radio"===t&&n.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),Za={set:function(e,t,r){return t===!1?n.removeAttr(e,r):e.setAttribute(r,r),r}},n.each(n.expr.match.bool.source.match(/\w+/g),function(e,t){var r=$a[t]||n.find.attr;$a[t]=function(e,t,n){var i,s;return n||(s=$a[t],$a[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,$a[t]=s),i}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(e,t){return J(this,n.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[n.propFix[e]||e]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,r){var i,s,o,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return o=1!==u||!n.isXMLDoc(e),o&&(t=n.propFix[t]||t,s=n.propHooks[t]),void 0!==r?s&&"set"in s&&void 0!==(i=s.set(e,r,t))?i:e[t]=r:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||_a.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(e){var t,r,i,s,o,u,a="string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(ab," "):" ")){o=0;while(s=t[o++])i.indexOf(" "+s+" ")<0&&(i+=s+" ");u=n.trim(i),r.className!==u&&(r.className=u)}return this},removeClass:function(e){var t,r,i,s,o,u,a=0===arguments.length||"string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(ab," "):"")){o=0;while(s=t[o++])while(i.indexOf(" "+s+" ")>=0)i=i.replace(" "+s+" "," ");u=e?n.trim(i):"",r.className!==u&&(r.className=u)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):this.each(n.isFunction(e)?function(r){n(this).toggleClass(e.call(this,r,this.className,t),t)}:function(){if("string"===r){var t,i=0,s=n(this),o=e.match(E)||[];while(t=o[i++])s.hasClass(t)?s.removeClass(t):s.addClass(t)}else(r===U||"boolean"===r)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||e===!1?"":L.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ab," ").indexOf(t)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(e){var t,r,i,s=this[0];if(arguments.length)return i=n.isFunction(e),this.each(function(r){var s;1===this.nodeType&&(s=i?e.call(this,r,n(this).val()):e,null==s?s="":"number"==typeof s?s+="":n.isArray(s)&&(s=n.map(s,function(e){return null==e?"":e+""})),t=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))});if(s)return t=n.valHooks[s.type]||n.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(s,"value"))?r:(r=s.value,"string"==typeof r?r.replace(bb,""):null==r?"":r)}}),n.extend({valHooks:{option:{get:function(e){var t=n.find.attr(e,"value");return null!=t?t:n.trim(n.text(e))}},select:{get:function(e){for(var t,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,u=o?null:[],a=o?s+1:i.length,f=0>s?a:o?s:0;a>f;f++)if(r=i[f],!(!r.selected&&f!==s||(k.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&n.nodeName(r.parentNode,"optgroup"))){if(t=n(r).val(),o)return t;u.push(t)}return u},set:function(e,t){var r,i,s=e.options,o=n.makeArray(t),u=s.length;while(u--)i=s[u],(i.selected=n.inArray(i.value,o)>=0)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(e,t){return n.isArray(t)?e.checked=n.inArray(n(e).val(),t)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){n.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),n.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cb=n.now(),db=/\?/;n.parseJSON=function(e){return JSON.parse(e+"")},n.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,t=r.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+e),t};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?sb(sb(e,n.ajaxSettings),t):sb(n.ajaxSettings,e)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(e,t){function T(e,t,o,a){var l,g,y,w,E,x=t;2!==b&&(b=2,u&&clearTimeout(u),r=void 0,s=a||"",S.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(w=tb(c,S,o)),w=ub(c,w,S,l),l?(c.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(n.lastModified[i]=E),E=S.getResponseHeader("etag"),E&&(n.etag[i]=E)),204===e||"HEAD"===c.type?x="nocontent":304===e?x="notmodified":(x=w.state,g=w.data,y=w.error,l=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),S.status=e,S.statusText=(t||x)+"",l?d.resolveWith(h,[g,x,S]):d.rejectWith(h,[S,x,y]),S.statusCode(m),m=void 0,f&&p.trigger(l?"ajaxSuccess":"ajaxError",[S,c,l?g:y]),v.fireWith(h,[S,x]),f&&(p.trigger("ajaxComplete",[S,c]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,o,u,a,f,l,c=n.ajaxSetup({},t),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?n(h):n.event,d=n.Deferred(),v=n.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o){o={};while(t=gb.exec(s))o[t[1].toLowerCase()]=t[2]}t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),T(0,t),this}};if(d.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,c.url=((e||c.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=n.trim(c.dataType||"*").toLowerCase().match(E)||[""],null==c.crossDomain&&(a=kb.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===pb[1]&&a[2]===pb[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=n.param(c.data,c.traditional)),rb(lb,c,t,S),2===b)return S;f=n.event&&c.global,f&&0===n.active++&&n.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!ib.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(db.test(i)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=fb.test(i)?i.replace(fb,"$1_="+cb++):i+(db.test(i)?"&":"?")+"_="+cb++)),c.ifModified&&(n.lastModified[i]&&S.setRequestHeader("If-Modified-Since",n.lastModified[i]),n.etag[i]&&S.setRequestHeader("If-None-Match",n.etag[i])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&S.setRequestHeader("Content-Type",c.contentType),S.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+nb+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)S.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,S,c)!==!1&&2!==b){w="abort";for(l in{success:1,error:1,complete:1})S[l](c[l]);if(r=rb(mb,c,t,S)){S.readyState=1,f&&p.trigger("ajaxSend",[S,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){S.abort("timeout")},c.timeout));try{b=1,r.send(g,T)}catch(x){if(!(2>b))throw x;T(-1,x)}}else T(-1,"No Transport");return S}return S.abort()},getJSON:function(e,t,r){return n.get(e,t,r,"json")},getScript:function(e,t){return n.get(e,void 0,t,"script")}}),n.each(["get","post"],function(e,t){n[t]=function(e,r,i,s){return n.isFunction(r)&&(s=s||i,i=r,r=void 0),n.ajax({url:e,type:t,dataType:s,data:r,success:i})}}),n._evalUrl=function(e){return n.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(e){var t;return n.isFunction(e)?this.each(function(t){n(this).wrapAll(e.call(this,t))}):(this[0]&&(t=n(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(n.isFunction(e)?function(t){n(this).wrapInner(e.call(this,t))}:function(){var t=n(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=n.isFunction(e);return this.each(function(r){n(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},n.expr.filters.visible=function(e){return!n.expr.filters.hidden(e)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;n.param=function(e,t){var r,i=[],s=function(e,t){t=n.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(e)||e.jquery&&!n.isPlainObject(e))n.each(e,function(){s(this.name,this.value)});else for(r in e)Ab(r,e[r],t,s);return i.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=n.prop(this,"elements");return e?n.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(e)&&(this.checked||!T.test(e))}).map(function(e,t){var r=n(this).val();return null==r?null:n.isArray(r)?n.map(r,function(e){return{name:t.name,value:e.replace(xb,"\r\n")}}):{name:t.name,value:r.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var e in Cb)Cb[e]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(e){var t;return k.cors||Eb&&!e.crossDomain?{send:function(n,r){var i,s=e.xhr(),o=++Bb;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Cb[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status,s.statusText):r(Db[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Cb[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return n.globalEval(e),e}}}),n.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),n.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(i,s){t=n("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&s("error"===e.type?404:200,e.type)}),l.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Fb.pop()||n.expando+"_"+cb++;return this[e]=!0,e}}),n.ajaxPrefilter("json jsonp",function(e,t,r){var i,s,o,u=e.jsonp!==!1&&(Gb.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(e.data)&&"data");return u||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=n.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(Gb,"$1"+i):e.jsonp!==!1&&(e.url+=(db.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||n.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=a[i],a[i]=function(){o=arguments},r.always(function(){a[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Fb.push(i)),o&&n.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),n.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||l;var i=v.exec(e),s=!r&&[];return i?[t.createElement(i[1])]:(i=n.buildFragment([e],t,s),s&&s.length&&n(s).remove(),n.merge([],i.childNodes))};var Hb=n.fn.load;n.fn.load=function(e,t,r){if("string"!=typeof e&&Hb)return Hb.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=n.trim(e.slice(a)),e=e.slice(0,a)),n.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),u.length>0&&n.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){o=arguments,u.html(i?n("<div>").append(n.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,o||[e.responseText,t,e])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){n.fn[t]=function(e){return this.on(t,e)}}),n.expr.filters.animated=function(e){return n.grep(n.timers,function(t){return e===t.elem}).length};var Ib=a.document.documentElement;n.offset={setOffset:function(e,t,r){var i,s,o,u,a,f,l,c=n.css(e,"position"),h=n(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=n.css(e,"top"),f=n.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+f).indexOf("auto")>-1,l?(i=h.position(),u=i.top,s=i.left):(u=parseFloat(o)||0,s=parseFloat(f)||0),n.isFunction(t)&&(t=t.call(e,r,a)),null!=t.top&&(p.top=t.top-a.top+u),null!=t.left&&(p.left=t.left-a.left+s),"using"in t?t.using.call(e,p):h.css(p)}},n.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){n.offset.setOffset(this,e,t)});var t,r,i=this[0],s={top:0,left:0},o=i&&i.ownerDocument;if(o)return t=o.documentElement,n.contains(t,i)?(typeof i.getBoundingClientRect!==U&&(s=i.getBoundingClientRect()),r=Jb(o),{top:s.top+r.pageYOffset-t.clientTop,left:s.left+r.pageXOffset-t.clientLeft}):s},position:function(){if(this[0]){var e,t,r=this[0],i={top:0,left:0};return"fixed"===n.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),n.nodeName(e[0],"html")||(i=e.offset()),i.top+=n.css(e[0],"borderTopWidth",!0),i.left+=n.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-n.css(r,"marginTop",!0),left:t.left-i.left-n.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||Ib;while(e&&!n.nodeName(e,"html")&&"static"===n.css(e,"position"))e=e.offsetParent;return e||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;n.fn[e]=function(n){return J(this,function(e,n,i){var s=Jb(e);return void 0===i?s?s[t]:e[n]:void (s?s.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):e[n]=i)},e,n,arguments.length,null)}}),n.each(["top","left"],function(e,t){n.cssHooks[t]=ya(k.pixelPosition,function(e,r){return r?(r=xa(e,t),va.test(r)?n(e).position()[t]+"px":r):void 0})}),n.each({Height:"height",Width:"width"},function(e,t){n.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,i){n.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(i===!0||s===!0?"margin":"border");return J(this,function(t,r,i){var s;return n.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?n.css(t,r,u):n.style(t,r,i,u)},t,o?i:void 0,o,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(e){return a.$===n&&(a.$=Lb),e&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n}),!function(e){"function"==typeof define&&define.amd?define("select2",["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){var t=function(){if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var t=e.fn.select2.amd;var t;return function(){if(!t||!t.requirejs){t?n=t:t={};var e,n,r;!function(t){function i(e,t){return x.call(e,t)}function s(e,t){var n,r,i,s,o,u,a,f,l,c,h,p=t&&t.split("/"),d=E.map,v=d&&d["*"]||{};if(e&&"."===e.charAt(0))if(t){for(p=p.slice(0,p.length-1),e=e.split("/"),o=e.length-1,E.nodeIdCompat&&N.test(e[o])&&(e[o]=e[o].replace(N,"")),e=p.concat(e),l=0;l<e.length;l+=1)if(h=e[l],"."===h)e.splice(l,1),l-=1;else if(".."===h){if(1===l&&(".."===e[2]||".."===e[0]))break;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}else 0===e.indexOf("./")&&(e=e.substring(2));if((p||v)&&d){for(n=e.split("/"),l=n.length;l>0;l-=1){if(r=n.slice(0,l).join("/"),p)for(c=p.length;c>0;c-=1)if(i=d[p.slice(0,c).join("/")],i&&(i=i[r])){s=i,u=l;break}if(s)break;!a&&v&&v[r]&&(a=v[r],f=l)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function o(e,n){return function(){return m.apply(t,T.call(arguments,0).concat([e,n]))}}function u(e){return function(t){return s(t,e)}}function f(e){return function(t){b[e]=t}}function l(e){if(i(w,e)){var n=w[e];delete w[e],S[e]=!0,v.apply(t,n)}if(!i(b,e)&&!i(S,e))throw new Error("No "+e);return b[e]}function h(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function p(e){return function(){return E&&E.config&&E.config[e]||{}}}var v,m,g,y,b={},w={},E={},S={},x=Object.prototype.hasOwnProperty,T=[].slice,N=/\.js$/;g=function(e,t){var n,r=h(e),i=r[0];return e=r[1],i&&(i=s(i,t),n=l(i)),i?e=n&&n.normalize?n.normalize(e,u(t)):s(e,t):(e=s(e,t),r=h(e),i=r[0],e=r[1],i&&(n=l(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},y={require:function(e){return o(e)},exports:function(e){var t=b[e];return"undefined"!=typeof t?t:b[e]={}},module:function(e){return{id:e,uri:"",exports:b[e],config:p(e)}}},v=function(e,n,r,s){var u,a,c,h,p,d,v=[],m=typeof r;if(s=s||e,"undefined"===m||"function"===m){for(n=!n.length&&r.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(h=g(n[p],s),a=h.f,"require"===a)v[p]=y.require(e);else if("exports"===a)v[p]=y.exports(e),d=!0;else if("module"===a)u=v[p]=y.module(e);else if(i(b,a)||i(w,a)||i(S,a))v[p]=l(a);else{if(!h.p)throw new Error(e+" missing "+a);h.p.load(h.n,o(s,!0),f(a),{}),v[p]=b[a]}c=r?r.apply(b[e],v):void 0,e&&(u&&u.exports!==t&&u.exports!==b[e]?b[e]=u.exports:c===t&&d||(b[e]=c))}else e&&(b[e]=r)},e=n=m=function(e,n,r,i,s){if("string"==typeof e)return y[e]?y[e](n):l(g(e,n).f);if(!e.splice){if(E=e,E.deps&&m(E.deps,E.callback),!n)return;n.splice?(e=n,n=r,r=null):e=t}return n=n||function(){},"function"==typeof r&&(r=i,i=s),i?v(t,e,n,r):setTimeout(function(){v(t,e,n,r)},4),m},m.config=function(e){return m(e)},e._defined=b,r=function(e,t,n){t.splice||(n=t,t=[]),i(b,e)||i(w,e)||(w[e]=[e,t,n])},r.amd={jQuery:!0}}(),t.requirejs=e,t.require=n,t.define=r}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var r in t){var i=t[r];"function"==typeof i&&"constructor"!==r&&n.push(r)}return n}var n={};n.Extend=function(e,t){function n(){this.constructor=e}var r={}.hasOwnProperty;for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},n.Decorate=function(e,n){function r(){var t=Array.prototype.unshift,r=n.prototype.constructor.length,i=e.prototype.constructor;r>0&&(t.call(arguments,e.prototype.constructor),i=n.prototype.constructor),i.apply(this,arguments)}function i(){this.constructor=r}var s=t(n),o=t(e);n.displayName=e.displayName,r.prototype=new i;for(var u=0;u<o.length;u++){var a=o[u];r.prototype[a]=e.prototype[a]}for(var f=function(e){var t=function(){};e in r.prototype&&(t=r.prototype[e]);var i=n.prototype[e];return function(){var e=Array.prototype.unshift;return e.call(arguments,t),i.apply(this,arguments)}},l=0;l<s.length;l++){var c=s[l];r.prototype[c]=f(c)}return r};var r=function(){this.listeners={}};return r.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},r.prototype.trigger=function(e){var t=Array.prototype.slice;this.listeners=this.listeners||{},e in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(e,t){for(var n=0,r=e.length;r>n;n++)e[n].apply(this,t)},n.Observable=r,n.generateChars=function(e){for(var t="",n=0;e>n;n++){var r=Math.floor(36*Math.random());t+=r.toString(36)}return t},n.bind=function(e,t){return function(){e.apply(t,arguments)}},n._convertData=function(e){for(var t in e){var n=t.split("-"),r=e;if(1!==n.length){for(var i=0;i<n.length;i++){var s=n[i];s=s.substring(0,1).toLowerCase()+s.substring(1),s in r||(r[s]={}),i==n.length-1&&(r[s]=e[t]),r=r[s]}delete e[t]}}return e},n.hasScroll=function(t,n){var r=e(n),i=n.style.overflowX,s=n.style.overflowY;return i!==s||"hidden"!==s&&"visible"!==s?"scroll"===i||"scroll"===s?!0:r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth:!1},n.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},n.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var r=e();e.map(n,function(e){r=r.add(e)}),n=r}t.append(n)},n}),t.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,r){this.$element=e,this.data=r,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=e('<li role="treeitem" class="select2-results__option"></li>'),i=this.options.get("translations").get(t.message);r.append(n(i(t.args))),this.$results.append(r)},n.prototype.append=function(e){this.hideLoading();var t=[];if(null==e.results||0===e.results.length)return void (0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var r=e.results[n],i=this.option(r);t.push(i)}this.$results.append(t)},n.prototype.position=function(e,t){var n=t.find(".select2-results");n.append(e)},n.prototype.sort=function(e){var t=this.options.get("sorter");return t(e)},n.prototype.setClasses=function(){var t=this;this.data.current(function(n){var r=e.map(n,function(e){return e.id.toString()}),i=t.$results.find(".select2-results__option[aria-selected]");i.each(function(){var t=e(this),n=e.data(this,"data"),i=""+n.id;null!=n.element&&n.element.selected||null==n.element&&e.inArray(i,r)>-1?t.attr("aria-selected","true"):t.attr("aria-selected","false")});var s=i.filter("[aria-selected=true]");s.length>0?s.first().trigger("mouseenter"):i.first().trigger("mouseenter")})},n.prototype.showLoading=function(e){this.hideLoading();var t=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:t(e)},r=this.option(n);r.className+=" loading-results",this.$results.prepend(r)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(t){var n=document.createElement("li");n.className="select2-results__option";var r={role:"treeitem","aria-selected":"false"};t.disabled&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==t.id&&delete r["aria-selected"],null!=t._resultId&&(n.id=t._resultId),t.title&&(n.title=t.title),t.children&&(r.role="group",r["aria-label"]=t.text,delete r["aria-selected"]);for(var i in r){var s=r[i];n.setAttribute(i,s)}if(t.children){var o=e(n),u=document.createElement("strong");u.className="select2-results__group",e(u),this.template(t,u);for(var f=[],l=0;l<t.children.length;l++){var c=t.children[l],h=this.option(c);f.push(h)}var p=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(f),o.append(u),o.append(p)}else this.template(t,n);return e.data(n,"data",t),n},n.prototype.bind=function(t){var n=this,r=t.id+"-results";this.$results.attr("id",r),t.on("results:all",function(e){n.clear(),n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("results:append",function(e){n.append(e.data),t.isOpen()&&n.setClasses()}),t.on("query",function(e){n.showLoading(e)}),t.on("select",function(){t.isOpen()&&n.setClasses()}),t.on("unselect",function(){t.isOpen()&&n.setClasses()}),t.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),t.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),t.on("results:toggle",function(){var e=n.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),t.on("results:select",function(){var e=n.getHighlightedResults();if(0!==e.length){var t=e.data("data");"true"==e.attr("aria-selected")?n.trigger("close"):n.trigger("select",{data:t})}}),t.on("results:previous",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),r=t.index(e);if(0!==r){var i=r-1;0===e.length&&(i=0);var s=t.eq(i);s.trigger("mouseenter");var o=n.$results.offset().top,u=s.offset().top,a=n.$results.scrollTop()+(u-o);0===i?n.$results.scrollTop(0):0>u-o&&n.$results.scrollTop(a)}}),t.on("results:next",function(){var e=n.getHighlightedResults(),t=n.$results.find("[aria-selected]"),r=t.index(e),i=r+1;if(!(i>=t.length)){var s=t.eq(i);s.trigger("mouseenter");var o=n.$results.offset().top+n.$results.outerHeight(!1),u=s.offset().top+s.outerHeight(!1),a=n.$results.scrollTop()+u-o;0===i?n.$results.scrollTop(0):u>o&&n.$results.scrollTop(a)}}),t.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),t.on("results:message",function(e){n.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=n.$results.scrollTop(),r=n.$results.get(0).scrollHeight-n.$results.scrollTop()+e.deltaY,i=e.deltaY>0&&t-e.deltaY<=0,s=e.deltaY<0&&r<=n.$results.height();i?(n.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):s&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var r=e(this),i=r.data("data");return"true"===r.attr("aria-selected")?void (n.options.get("multiple")?n.trigger("unselect",{originalEvent:t,data:i}):n.trigger("close")):void n.trigger("select",{originalEvent:t,data:i})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var t=e(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:t,element:e(this)})})},n.prototype.getHighlightedResults=function(){var e=this.$results.find(".select2-results__option--highlighted");return e},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]"),n=t.index(e),r=this.$results.offset().top,i=e.offset().top,s=this.$results.scrollTop()+(i-r),o=i-r;s-=2*e.outerHeight(!1),2>=n?this.$results.scrollTop(0):(o>this.$results.outerHeight()||0>o)&&this.$results.scrollTop(s)}},n.prototype.template=function(t,n){var r=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),s=r(t);null==s?n.style.display="none":"string"==typeof s?n.innerHTML=i(s):e(n).append(s)},n}),t.define("select2/keys",[],function(){var e={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return e}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var t=e('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),this.$selection=t,t},r.prototype.bind=function(e){var t=this,r=(e.id+"-container",e.id+"-results");this.container=e,this.$selection.on("focus",function(e){t.trigger("focus",e)}),this.$selection.on("blur",function(e){t.trigger("blur",e)}),this.$selection.on("keydown",function(e){t.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){t.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){t.update(e.data)}),e.on("open",function(){t.$selection.attr("aria-expanded","true"),t.$selection.attr("aria-owns",r),t._attachCloseHandler(e)}),e.on("close",function(){t.$selection.attr("aria-expanded","false"),t.$selection.removeAttr("aria-activedescendant"),t.$selection.removeAttr("aria-owns"),t.$selection.focus(),t._detachCloseHandler(e)}),e.on("enable",function(){t.$selection.attr("tabindex",t._tabindex)}),e.on("disable",function(){t.$selection.attr("tabindex","-1")})},r.prototype._attachCloseHandler=function(t){e(document.body).on("mousedown.select2."+t.id,function(t){var n=e(t.target),r=n.closest(".select2"),i=e(".select2.select2-container--open");i.each(function(){var t=e(this);if(this!=r[0]){var n=t.data("element");n.select2("close")}})})},r.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(e,t){var n=t.find(".selection");n.append(e)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e){var t=this;r.__super__.bind.apply(this,arguments);var n=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(e){1===e.which&&t.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),e.on("selection:update",function(e){t.update(e.data)})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e){var t=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(t(e))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0===e.length)return void this.clear();var t=e[0],n=this.display(t),r=this.$selection.find(".select2-selection__rendered");r.empty().append(n),r.prop("title",t.title||t.text)},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){t.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){var r=e(this),i=r.parent(),s=i.data("data");t.trigger("unselect",{originalEvent:n,data:s})})},r.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},r.prototype.display=function(e){var t=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(t(e))},r.prototype.selectionContainer=function(){var t=e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return t},r.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],r=0;r<e.length;r++){var i=e[r],s=this.display(i),o=this.selectionContainer();o.append(s),o.prop("title",i.title||i.text),o.data("data",i),t.push(o)}var u=this.$selection.find(".select2-selection__rendered");n.appendMany(u,t)}},r}),t.define("select2/selection/placeholder",["../utils"],function(){function e(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id,r=t.length>1;if(r||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},e}),t.define("select2/selection/allowClear",["jquery","../keys"],function(e,t){function n(){}return n.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){r._handleClear(e)}),t.on("keypress",function(e){r._handleKeyboardClear(e,t)})},n.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){t.stopPropagation();for(var r=n.data("data"),i=0;i<r.length;i++){var s={data:r[i]};if(this.trigger("unselect",s),s.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},n.prototype._handleKeyboardClear=function(e,n,r){r.isOpen()||(n.which==t.DELETE||n.which==t.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(t,n){if(t.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var r=e('<span class="select2-selection__clear">&times;</span>');r.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(r)}},n}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function r(e,t,n){e.call(this,t,n)}return r.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=t.call(this);return r},r.prototype.bind=function(e,t,r){var i=this;e.call(this,t,r),t.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus()}),t.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val(""),i.$search.focus()}),t.on("enable",function(){i.$search.prop("disabled",!1)}),t.on("disable",function(){i.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(e){i.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){i.trigger("blur",e)}),this.$selection.on("keydown",".select2-search--inline",function(e){e.stopPropagation(),i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented();var t=e.which;if(t===n.BACKSPACE&&""===i.$search.val()){var r=i.$searchContainer.prev(".select2-selection__choice");if(r.length>0){var s=r.data("data");i.searchRemoveChoice(s),e.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){i.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(e){i.handleSearch(e)})},r.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(e,t){this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.trigger("open"),this.$search.val(t.text+" ")},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";if(""!==this.$search.attr("placeholder"))e=this.$selection.find(".select2-selection__rendered").innerWidth();else{var t=this.$search.val().length+1;e=.75*t+"em"}this.$search.css("width",e)},r}),t.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,r){var i=this,s=["open","opening","close","closing","select","selecting","unselect","unselecting"],o=["opening","closing","selecting","unselecting"];t.call(this,n,r),n.on("*",function(t,n){if(-1!==e.inArray(t,s)){n=n||{};var r=e.Event("select2:"+t,{params:n});i.$element.trigger(r),-1!==e.inArray(t,o)&&(n.prevented=r.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var r=t(e);n._cache[e]=r}return new n(n._cache[e])},n}),t.define("select2/diacritics",[],function(){var e={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return e}),t.define("select2/data/base",["../utils"],function(e){function t(){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var r=t.id+"-result-";return r+=e.generateChars(4),r+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function r(e,t){this.$element=e,this.options=t,r.__super__.constructor.call(this)}return t.Extend(r,e),r.prototype.current=function(e){var t=[],r=this;this.$element.find(":selected").each(function(){var e=n(this),i=r.item(e);t.push(i)}),e(t)},r.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(r){var i=[];e=[e],e.push.apply(e,r);for(var s=0;s<e.length;s++){var o=e[s].id;-1===n.inArray(o,i)&&i.push(o)}t.$element.val(i),t.$element.trigger("change")});else{var r=e.id;this.$element.val(r),this.$element.trigger("change")}},r.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple"))return e.selected=!1,n(e.element).is("option")?(e.element.selected=!1,void this.$element.trigger("change")):void this.current(function(r){for(var i=[],s=0;s<r.length;s++){var o=r[s].id;o!==e.id&&-1===n.inArray(o,i)&&i.push(o)}t.$element.val(i),t.$element.trigger("change")})},r.prototype.bind=function(e){var t=this;this.container=e,e.on("select",function(e){t.select(e.data)}),e.on("unselect",function(e){t.unselect(e.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},r.prototype.query=function(e,t){var r=[],i=this,s=this.$element.children();s.each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var s=i.item(t),o=i.matches(e,s);null!==o&&r.push(o)}}),t({results:r})},r.prototype.addOptions=function(e){t.appendMany(this.$element,e)},r.prototype.option=function(e){var t;e.children?(t=document.createElement("optgroup"),t.label=e.text):(t=document.createElement("option"),void 0!==t.textContent?t.textContent=e.text:t.innerText=e.text),e.id&&(t.value=e.id),e.disabled&&(t.disabled=!0),e.selected&&(t.selected=!0),e.title&&(t.title=e.title);var r=n(t),i=this._normalizeItem(e);return i.element=t,n.data(t,"data",i),r},r.prototype.item=function(e){var t={};if(t=n.data(e[0],"data"),null!=t)return t;if(e.is("option"))t={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){t={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),i=[],s=0;s<r.length;s++){var o=n(r[s]),u=this.item(o);i.push(u)}t.children=i}return t=this._normalizeItem(t),t.element=e[0],n.data(e[0],"data",t),t},r.prototype._normalizeItem=function(e){n.isPlainObject(e)||(e={id:e,text:e}),e=n.extend({},{text:""},e);var t={selected:!1,disabled:!1};return null!=e.id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},t,e)},r.prototype.matches=function(e,t){var n=this.options.get("matcher");return n(e,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function r(e,t){var n=t.get("data")||[];r.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(r,e),r.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),r.__super__.select.call(this,e)},r.prototype.convertToOptions=function(e){function r(e){return function(){return n(this).val()==e.id}}for(var i=this,s=this.$element.find("option"),o=s.map(function(){return i.item(n(this)).id}).get(),u=[],a=0;a<e.length;a++){var f=this._normalizeItem(e[a]);if(n.inArray(f.id,o)>=0){var l=s.filter(r(f)),h=this.item(l),p=(n.extend(!0,{},h,f),this.option(h));l.replaceWith(p)}else{var d=this.option(f);if(f.children){var v=this.convertToOptions(f.children);t.appendMany(d,v)}u.push(d)}}return u},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function r(t,n){this.ajaxOptions=this._applyDefaults(n.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),e.__super__.constructor.call(this,t,n)}return t.Extend(r,e),r.prototype._applyDefaults=function(e){var t={data:function(e){return{q:e.term}},transport:function(e,t,r){var i=n.ajax(e);return i.then(t),i.fail(r),i}};return n.extend({},t,e,!0)},r.prototype.processResults=function(e){return e},r.prototype.query=function(e,t){function r(){var r=s.transport(s,function(r){var s=i.processResults(r,e);i.options.get("debug")&&window.console&&console.error&&(s&&s.results&&n.isArray(s.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(s)},function(){});i._request=r}var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var s=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof s.url&&(s.url=s.url(e)),"function"==typeof s.data&&(s.data=s.data(e)),this.ajaxOptions.delay&&""!==e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)):r()},r}),t.define("select2/data/tags",["jquery"],function(e){function t(t,n,r){var i=r.get("tags"),s=r.get("createTag");if(void 0!==s&&(this.createTag=s),t.call(this,n,r),e.isArray(i))for(var o=0;o<i.length;o++){var u=i[o],f=this._normalizeItem(u),l=this.option(f);this.$element.append(l)}}return t.prototype.query=function(e,t,n){function r(e,s){for(var o=e.results,u=0;u<o.length;u++){var a=o[u],f=null!=a.children&&!r({results:a.children},!0),l=a.text===t.term;if(l||f)return s?!1:(e.data=o,void n(e))}if(s)return!0;var h=i.createTag(t);if(null!=h){var p=i.option(h);p.attr("data-select2-tag",!0),i.addOptions([p]),i.insertTag(o,h)}e.results=o,n(e)}var i=this;return this._removeOldTags(),null==t.term||null!=t.page?void e.call(this,t,n):void e.call(this,t,r)},t.prototype.createTag=function(t,n){var r=e.trim(n.term);return""===r?null:{id:r,text:r}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(){var t=(this._lastTag,this.$element.find("option[data-select2-tag]"));t.each(function(){this.selected||e(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(e,t,n){function r(e){i.select(e)}var i=this;t.term=t.term||"";var s=this.tokenizer(t,this.options,r);s.term!==t.term&&(this.$search.length&&(this.$search.val(s.term),this.$search.focus()),t.term=s.term),e.call(this,t,n)},t.prototype.tokenizer=function(t,n,r,i){for(var s=r.get("tokenSeparators")||[],o=n.term,u=0,f=this.createTag||function(e){return{id:e.term,text:e.term}};u<o.length;){var l=o[u];if(-1!==e.inArray(l,s)){var c=o.substr(0,u),h=e.extend({},n,{term:c}),p=f(h);i(p),o=o.substr(u+1)||"",u=0}else u++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",t.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){return t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):void e.call(this,t,n)},e}),t.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var r=this;this.current(function(i){var s=null!=i?i.length:0;return r.maximumSelectionLength>0&&s>=r.maximumSelectionLength?void r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):void e.call(r,t,n)})},e}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(e){function t(){}return t.prototype.render=function(t){var n=t.call(this),r=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},t.prototype.bind=function(t,n,r){var i=this;t.call(this,n,r),this.$search.on("keydown",function(e){i.trigger("keypress",e),i._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(){e(this).off("keyup")}),this.$search.on("keyup input",function(e){i.handleSearch(e)}),n.on("open",function(){i.$search.attr("tabindex",0),i.$search.focus(),window.setTimeout(function(){i.$search.focus()},0)}),n.on("close",function(){i.$search.attr("tabindex",-1),i.$search.val("")}),n.on("results:all",function(e){if(null==e.query.term||""===e.query.term){var t=i.showSearch(e);t?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide")}})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,r)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),r=t.length-1;r>=0;r--){var i=t[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},e}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,r){this.lastParams={},e.call(this,t,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&this.$results.append(this.$loadingMore)},t.prototype.bind=function(t,n,r){var i=this;t.call(this,n,r),n.on("query",function(e){i.lastParams=e,i.loading=!0}),n.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",function(){var t=e.contains(document.documentElement,i.$loadingMore[0]);if(!i.loading&&t){var n=i.$results.offset().top+i.$results.outerHeight(!1),r=i.$loadingMore.offset().top+i.$loadingMore.outerHeight(!1);n+50>=r&&i.loadMore()}})},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="option load-more" role="treeitem"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(e,t,n){this.$dropdownParent=n.get("dropdownParent")||document.body,e.call(this,t,n)}return n.prototype.bind=function(e,t,n){var r=this,i=!1;e.call(this,t,n),t.on("open",function(){r._showDropdown(),r._attachPositioningHandler(t),i||(i=!0,t.on("results:all",function(){r._positionDropdown(),r._resizeDropdown()}),t.on("results:append",function(){r._positionDropdown(),r._resizeDropdown()}))}),t.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),r=t.call(this);return n.append(r),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n){var r=this,i="scroll.select2."+n.id,s="resize.select2."+n.id,o="orientationchange.select2."+n.id,u=this.$container.parents().filter(t.hasScroll);u.each(function(){e(this).data("select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),u.on(i,function(){var t=e(this).data("select2-scroll-position");e(this).scrollTop(t.y)}),e(window).on(i+" "+s+" "+o,function(){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n){var r="scroll.select2."+n.id,i="resize.select2."+n.id,s="orientationchange.select2."+n.id,o=this.$container.parents().filter(t.hasScroll);o.off(r),e(window).off(r+" "+i+" "+s)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),i=null,s=(this.$container.position(),this.$container.offset());s.bottom=s.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=s.top,o.bottom=s.top+o.height;var u={height:this.$dropdown.outerHeight(!1)},f={top:t.scrollTop(),bottom:t.scrollTop()+t.height()},l=f.top<s.top-u.height,c=f.bottom>s.bottom+u.height,h={left:s.left,top:o.bottom};n||r||(i="below"),c||!l||n?!l&&c&&n&&(i="below"):i="above",("above"==i||n&&"below"!==i)&&(h.top=o.top-u.height),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(t){for(var n=0,r=0;r<t.length;r++){var i=t[r];i.children?n+=e(i.children):n++}return n}function t(e,t,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,r)}return t.prototype.showSearch=function(t,n){return e(n.data.results)<this.minimumResultsForSearch?!1:t.call(this,n)},t}),t.define("select2/dropdown/selectOnClose",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("close",function(){r._handleSelectOnClose()})},e.prototype._handleSelectOnClose=function(){var e=this.getHighlightedResults();e.length<1||this.trigger("select",{data:e.data("data")})},e}),t.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var r=this;e.call(this,t,n),t.on("select",function(e){r._selectTriggered(e)}),t.on("unselect",function(e){r._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&n.ctrlKey||this.trigger("close")},e}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){var t=e.minimum-e.input.length,n="Please enter "+t+" or more characters";return n},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L){function A(){this.reset()}A.prototype.apply=function(c){if(c=e.extend({},this.defaults,c),null==c.dataAdapter){if(c.dataAdapter=null!=c.ajax?d:null!=c.data?p:h,c.minimumInputLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,g)),c.maximumInputLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,y)),c.maximumSelectionLength>0&&(c.dataAdapter=f.Decorate(c.dataAdapter,b)),c.tags&&(c.dataAdapter=f.Decorate(c.dataAdapter,v)),(null!=c.tokenSeparators||null!=c.tokenizer)&&(c.dataAdapter=f.Decorate(c.dataAdapter,m)),null!=c.query){var L=t(c.amdBase+"compat/query");c.dataAdapter=f.Decorate(c.dataAdapter,L)}if(null!=c.initSelection){var A=t(c.amdBase+"compat/initSelection");c.dataAdapter=f.Decorate(c.dataAdapter,A)}}if(null==c.resultsAdapter&&(c.resultsAdapter=n,null!=c.ajax&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,x)),null!=c.placeholder&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,S)),c.selectOnClose&&(c.resultsAdapter=f.Decorate(c.resultsAdapter,C))),null==c.dropdownAdapter){if(c.multiple)c.dropdownAdapter=w;else{var O=f.Decorate(w,E);c.dropdownAdapter=O}if(0!==c.minimumResultsForSearch&&(c.dropdownAdapter=f.Decorate(c.dropdownAdapter,N)),c.closeOnSelect&&(c.dropdownAdapter=f.Decorate(c.dropdownAdapter,k)),null!=c.dropdownCssClass||null!=c.dropdownCss||null!=c.adaptDropdownCssClass){var M=t(c.amdBase+"compat/dropdownCss");c.dropdownAdapter=f.Decorate(c.dropdownAdapter,M)}c.dropdownAdapter=f.Decorate(c.dropdownAdapter,T)}if(null==c.selectionAdapter){if(c.selectionAdapter=c.multiple?i:r,null!=c.placeholder&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,s)),c.allowClear&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,o)),c.multiple&&(c.selectionAdapter=f.Decorate(c.selectionAdapter,u)),null!=c.containerCssClass||null!=c.containerCss||null!=c.adaptContainerCssClass){var _=t(c.amdBase+"compat/containerCss");c.selectionAdapter=f.Decorate(c.selectionAdapter,_)}c.selectionAdapter=f.Decorate(c.selectionAdapter,a)}if("string"==typeof c.language)if(c.language.indexOf("-")>0){var D=c.language.split("-"),P=D[0];c.language=[c.language,P]}else c.language=[c.language];if(e.isArray(c.language)){var H=new l;c.language.push("en");for(var F=c.language,I=0;I<F.length;I++){var R=F[I],U={};try{U=l.loadPath(R)}catch(W){try{R=this.defaults.amdLanguageBase+R,U=l.loadPath(R)}catch(X){c.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+R+'" could not be automatically loaded. A fallback will be used instead.');continue}}H.extend(U)}c.translations=H}else{var V=l.loadPath(this.defaults.amdLanguageBase+"en"),$=new l(c.language);$.extend(V),c.translations=$}return c},A.prototype.reset=function(){function t(e){function t(e){return c[e]||e}return e.replace(/[^\u0000-\u007E]/g,t)}function n(r,i){if(""===e.trim(r.term))return i;if(i.children&&i.children.length>0){for(var s=e.extend(!0,{},i),o=i.children.length-1;o>=0;o--){var u=i.children[o],a=n(r,u);null==a&&s.children.splice(o,1)}return s.children.length>0?s:n(r,s)}var f=t(i.text).toUpperCase(),l=t(r.term).toUpperCase();return f.indexOf(l)>-1?i:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:f.escapeMarkup,language:L,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},A.prototype.set=function(t,n){var r=e.camelCase(t),i={};i[r]=n;var s=f._convertData(i);e.extend(this.defaults,s)};var O=new A;return O}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,r){function i(t,i){if(this.options=t,null!=i&&this.fromElement(i),this.options=n.apply(this.options),i&&i.is("input")){var s=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,s)}}return i.prototype.fromElement=function(e){var n=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=e.prop("dir")?e.prop("dir"):e.closest("[dir]").prop("dir")?e.closest("[dir]").prop("dir"):"ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),e.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),e.data("data",e.data("select2Tags")),e.data("tags",!0)),e.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",e.data("ajaxUrl")),e.data("ajax--url",e.data("ajaxUrl")));var i={};i=t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset?t.extend(!0,{},e[0].dataset,e.data()):e.data();var s=t.extend(!0,{},i);s=r._convertData(s);for(var o in s)t.inArray(o,n)>-1||(t.isPlainObject(this.options[o])?t.extend(this.options[o],s[o]):this.options[o]=s[o]);return this},i.prototype.get=function(e){return this.options[e]},i.prototype.set=function(e,t){this.options[e]=t},i}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,r){var i=function(e,n){null!=e.data("select2")&&e.data("select2").destroy(),this.$element=e,this.id=this._generateId(e),n=n||{},this.options=new t(n,e),i.__super__.constructor.call(this);var r=e.attr("tabindex")||0;e.data("old-tabindex",r),e.attr("tabindex","-1");var s=this.options.get("dataAdapter");this.dataAdapter=new s(e,this.options);var o=this.render();this._placeContainer(o);var u=this.options.get("selectionAdapter");this.selection=new u(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,o);var a=this.options.get("dropdownAdapter");this.dropdown=new a(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,o);var f=this.options.get("resultsAdapter");this.results=new f(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var l=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){l.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),e.data("select2",this)};return n.Extend(i,n.Observable),i.prototype._generateId=function(e){var t="";return t=null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4),t="select2-"+t},i.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},i.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var r=this._resolveWidth(e,"style");return null!=r?r:this._resolveWidth(e,"element")}if("element"==t){var i=e.outerWidth(!1);return 0>=i?"auto":i+"px"}if("style"==t){var s=e.attr("style");if("string"!=typeof s)return null;for(var o=s.split(";"),u=0,a=o.length;a>u;u+=1){var f=o[u].replace(/\s/g,""),l=f.match(n);if(null!==l&&l.length>=1)return l[1]}return null}return t},i.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},i.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=r?(this._observer=new r(function(n){e.each(n,t._sync)}),this._observer.observe(this.$element[0],{attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",t._sync,!1)},i.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerSelectionEvents=function(){var t=this,n=["toggle"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("*",function(r,i){-1===e.inArray(r,n)&&t.trigger(r,i)})},i.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},i.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("focus",function(){e.$container.addClass("select2-container--focus")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open"),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===r.ENTER?(e.trigger("results:select"),t.preventDefault()):n===r.SPACE&&t.ctrlKey?(e.trigger("results:toggle"),t.preventDefault()):n===r.UP?(e.trigger("results:previous"),t.preventDefault()):n===r.DOWN?(e.trigger("results:next"),t.preventDefault()):(n===r.ESC||n===r.TAB)&&(e.close(),t.preventDefault()):(n===r.ENTER||n===r.SPACE||(n===r.DOWN||n===r.UP)&&t.altKey)&&(e.open(),t.preventDefault())})},i.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},i.prototype.trigger=function(e,t){var n=i.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(e in r){var s=r[e],o={prevented:!1,name:e,args:t};if(n.call(this,s,o),o.prevented)return void (t.prevented=!0)}n.call(this,e,t)},i.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},i.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},i.prototype.close=function(){this.isOpen()&&this.trigger("close")},i.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},i.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==e||0===e.length)&&(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},i.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},i.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},i.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},i.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),t.data("element",this.$element),t},i}),t.define("select2/compat/utils",["jquery"],function(e){function t(t,n,r){var i,s,o=[];i=e.trim(t.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){0===this.indexOf("select2-")&&o.push(this)})),i=e.trim(n.attr("class")),i&&(i=""+i,e(i.split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&(s=r(this),null!=s&&o.push(s))})),t.attr("class",o.join(" "))}return{syncCssClasses:t}}),t.define("select2/compat/containerCss",["jquery","./utils"],function(e,t){function n(){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),s=this.options.get("containerCssClass")||"";e.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptContainerCssClass");if(o=o||n,-1!==s.indexOf(":all:")){s=s.replace(":all","");var u=o;o=function(e){var t=u(e);return null!=t?t+" "+e:e}}var f=this.options.get("containerCss")||{};return e.isFunction(f)&&(f=f(this.$element)),t.syncCssClasses(i,this.$element,o),i.css(f),i.addClass(s),i},r}),t.define("select2/compat/dropdownCss",["jquery","./utils"],function(e,t){function n(){return null}function r(){}return r.prototype.render=function(r){var i=r.call(this),s=this.options.get("dropdownCssClass")||"";e.isFunction(s)&&(s=s(this.$element));var o=this.options.get("adaptDropdownCssClass");if(o=o||n,-1!==s.indexOf(":all:")){s=s.replace(":all","");var u=o;o=function(e){var t=u(e);return null!=t?t+" "+e:e}}var f=this.options.get("dropdownCss")||{};return e.isFunction(f)&&(f=f(this.$element)),t.syncCssClasses(i,this.$element,o),i.css(f),i.addClass(s),i},r}),t.define("select2/compat/initSelection",["jquery"],function(e){function t(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,e.call(this,t,n)}return t.prototype.current=function(t,n){var r=this;return this._isInitialized?void t.call(this,n):void this.initSelection.call(null,this.$element,function(t){r._isInitialized=!0,e.isArray(t)||(t=[t]),n(t)})},t}),t.define("select2/compat/inputData",["jquery"],function(e){function t(e,t,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===t.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),e.call(this,t,n)}return t.prototype.current=function(t,n){function r(t,n){var i=[];return t.selected||-1!==e.inArray(t.id,n)?(t.selected=!0,i.push(t)):t.selected=!1,t.children&&i.push.apply(i,r(t.children,n)),i}for(var i=[],s=0;s<this._currentData.length;s++){var o=this._currentData[s];i.push.apply(i,r(o,this.$element.val().split(this._valueSeparator)))}n(i)},t.prototype.select=function(t,n){if(this.options.get("multiple")){var r=this.$element.val();r+=this._valueSeparator+n.id,this.$element.val(r),this.$element.trigger("change")}else this.current(function(t){e.map(t,function(e){e.selected=!1})}),this.$element.val(n.id),this.$element.trigger("change")},t.prototype.unselect=function(e,t){var n=this;t.selected=!1,this.current(function(e){for(var r=[],i=0;i<e.length;i++){var s=e[i];t.id!=s.id&&r.push(s.id)}n.$element.val(r.join(n._valueSeparator)),n.$element.trigger("change")})},t.prototype.query=function(e,t,n){for(var r=[],i=0;i<this._currentData.length;i++){var s=this._currentData[i],o=this.matches(t,s);null!==o&&r.push(o)}n({results:r})},t.prototype.addOptions=function(t,n){var r=e.map(n,function(t){return e.data(t[0],"data")});this._currentData.push.apply(this._currentData,r)},t}),t.define("select2/compat/matcher",["jquery"],function(e){function t(t){function n(n,r){var i=e.extend(!0,{},r);if(null==n.term||""===e.trim(n.term))return i;if(r.children){for(var s=r.children.length-1;s>=0;s--){var o=r.children[s],u=t(n.term,o.text,o);u||i.children.splice(s,1)}if(i.children.length>0)return i}return t(n.term,r.text,r)?i:null}return n}return t}),t.define("select2/compat/query",[],function(){function e(e,t,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.callback=n;var r=this.options.get("query");r.call(null,t)},e}),t.define("select2/dropdown/attachContainer",[],function(){function e(e,t,n){e.call(this,t,n)}return e.prototype.position=function(e,t,n){var r=n.find(".dropdown-wrapper");r.append(t),t.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},e}),t.define("select2/dropdown/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var r=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$dropdown.on(r.join(" "),function(e){e.stopPropagation()})},e}),t.define("select2/selection/stopPropagation",[],function(){function e(){}return e.prototype.bind=function(e,t,n){e.call(this,t,n);var r=["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"];this.$selection.on(r.join(" "),function(e){e.stopPropagation()})},e}),t.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(e,t,n,r){if(t("jquery.mousewheel"),null==e.fn.select2){var i=["open","close","destroy"];e.fn.select2=function(t){if(t=t||{},"object"==typeof t)return this.each(function(){var r=e.extend({},t,!0);new n(e(this),r)}),this;if("string"==typeof t){var r=this.data("select2");null==r&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");var s=Array.prototype.slice.call(arguments,1),o=r[t](s);return e.inArray(t,i)>-1?this:o}throw new Error("Invalid arguments for Select2: "+t)}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=r),n}),function(n){"function"==typeof t.define&&t.define.amd?t.define("jquery.mousewheel",["jquery"],n):"object"==typeof exports?module.exports=n:n(e)}(function(e){function t(t){var o=t||window.event,u=a.call(arguments,1),f=0,h=0,p=0,v=0,m=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(p=-1*o.detail),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*p,p=0),f=0===p?h:p,"deltaY"in o&&(p=-1*o.deltaY,f=p),"deltaX"in o&&(h=o.deltaX,0===p&&(f=-1*h)),0!==p||0!==h){if(1===o.deltaMode){var y=e.data(this,"mousewheel-line-height");f*=y,p*=y,h*=y}else if(2===o.deltaMode){var b=e.data(this,"mousewheel-page-height");f*=b,p*=b,h*=b}if(v=Math.max(Math.abs(p),Math.abs(h)),(!s||s>v)&&(s=v,r(o,v)&&(s/=40)),r(o,v)&&(f/=40,h/=40,p/=40),f=Math[f>=1?"floor":"ceil"](f/s),h=Math[h>=1?"floor":"ceil"](h/s),p=Math[p>=1?"floor":"ceil"](p/s),l.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();m=t.clientX-w.left,g=t.clientY-w.top}return t.deltaX=h,t.deltaY=p,t.deltaFactor=s,t.offsetX=m,t.offsetY=g,t.deltaMode=0,u.unshift(t,f,h,p),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,u)}}function n(){s=null}function r(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],u="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(e.event.fixHooks)for(var f=o.length;f;)e.event.fixHooks[o[--f]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=u.length;n;)this.addEventListener(u[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=u.length;n;)this.removeEventListener(u[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),{define:t.define,require:t.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),define("rvc!components/form/select2",["require","ractive"],function(e,t){var n={template:{v:3,t:[{p:[1,1,0],t:7,e:"select",a:{value:[{t:2,r:"selected",p:[1,16,15]}],"class":"form-control",multiple:[{t:2,r:"multiple",p:[1,61,60]}],style:"width:100%"},f:[{t:4,f:[{p:[3,9,119],t:7,e:"option",a:{value:[{t:2,r:".",p:[3,24,134]}]},f:[{t:2,r:".",p:[3,31,141]}]}],r:"options",p:[2,5,98]}]}]}},r={};r.exports={debug:!0,isolated:!1};if(typeof r.exports=="object")for(var i in r.exports)r.exports.hasOwnProperty(i)&&(n[i]=r.exports[i]);return t.extend(n)}),define("rvc!components/form/select2label",["require","ractive"],function(e,t){var n={template:{v:3,t:[{p:[1,1,0],t:7,e:"select",a:{value:[{t:2,r:"selected",p:[1,17,16]}],"class":"form-control",style:"width:100%"},f:[{t:4,f:[{p:[3,9,96],t:7,e:"option",a:{value:[{t:2,r:"value",p:[3,24,111]}]},f:[{t:2,r:"label",p:[3,35,122]}]}],r:"options",p:[2,5,75]}]}]}},r={};r.exports={debug:!0,isolated:!1};if(typeof r.exports=="object")for(var i in r.exports)r.exports.hasOwnProperty(i)&&(n[i]=r.exports[i]);return t.extend(n)}),define("rvc!components/form/dependentFields",["require","ractive"],function(e,t){var n={template:{v:3,t:[{t:4,f:[{t:4,f:[{p:[3,9,46],t:7,e:"select",a:{value:[{t:2,r:"value",p:[3,24,61]}],"class":"form-control",multiple:0,style:"width:100%"},f:[{t:4,f:[{p:[5,13,159],t:7,e:"option",a:{value:[{t:2,r:".",p:[5,28,174]}]},f:[{t:2,r:".",p:[5,35,181]}]}],r:"options",p:[4,13,134]}]}],n:50,r:"multiple",p:[2,5,21]},{t:4,n:51,f:[{p:[9,9,260],t:7,e:"select",a:{value:[{t:2,r:"value",p:[9,24,275]}],"class":"form-control",style:"width:100%"},f:[{t:4,f:[{p:[11,13,364],t:7,e:"option",a:{value:[{t:2,r:".",p:[11,28,379]}]},f:[{t:2,r:".",p:[11,35,386]}]}],r:"options",p:[10,13,339]}]}],r:"multiple"}],n:50,r:"isSelect",p:[1,1,0]},{t:4,n:51,f:[{p:[16,5,469],t:7,e:"input",a:{"class":"form-control",placeholder:"Enter text..",value:[{t:2,r:"value",p:[16,67,531]}]}}],r:"isSelect"}]}},r={};r.exports={debug:!0,isolated:!1,computed:{multiple:function(){var e=this.get("condition"),t=this.get("fieldType");if(t=="text")return!1;if(e=="oneof")return"multiple";if(["values","not","contains"].indexOf(e)!=-1&&["multiple","checkboxes"].indexOf(t)!=-1)return"multiple"},isSelect:function(){var e=this.get("condition"),t=this.get("fieldType");return t=="text"?!1:e=="match"?!1:!0},options:function(){var e=this.get("field");if(typeof this.parent.parent.get("fields")[e].options!="undefined")return this.parent.parent.get("fields")[e].options},fieldType:function(){if(typeof this.get("fields")[this.get("field")]!="undefined")return this.get("fields")[this.get("field")].type}}};if(typeof r.exports=="object")for(var i in r.exports)r.exports.hasOwnProperty(i)&&(n[i]=r.exports[i]);return t.extend(n)}),define("rvc!components/dependencies",["require","ractive","select2","rvc!components/form/select2","rvc!components/form/select2label","rvc!components/form/dependentFields"],function(e,t){var n={template:{v:3,t:[{p:[1,1,0],t:7,e:"ul",a:{"class":"dependent_child dependent"},f:[{t:4,f:[{p:[3,5,65],t:7,e:"li",a:{"class":"field"},o:"sortable",f:[{p:[4,9,113],t:7,e:"div",a:{"class":"handle"},f:[{p:[4,29,133],t:7,e:"div"}]}," ",{p:[6,9,160],t:7,e:"div",a:{style:"float:left;width:calc(100% - 25px)"},f:[{p:[8,13,222],t:7,e:"div",a:{"class":"col-md-4"},f:[{p:[9,17,261],t:7,e:"select2",a:{selected:[{t:2,r:"field",p:[9,36,280]}],options:[{t:2,r:"fieldListDependencies",p:[9,56,300]}]}}]}," ",{p:[12,13,363],t:7,e:"div",a:{"class":"col-md-4"},f:[{p:[13,17,402],t:7,e:"select2label",a:{selected:[{t:2,r:"condition",p:[13,41,426]}],options:[{t:2,r:"conditions",p:[13,65,450]}]}}]}," ",{p:[16,13,501],t:7,e:"div",a:{"class":"col-md-4"},f:[{p:[17,17,540],t:7,e:"dependentFields",a:{value:[{t:2,r:"value",p:[17,41,564]}],field:[{t:2,r:"field",p:[17,59,582]}],condition:[{t:2,r:"condition",p:[17,81,604]}],fields:[{t:2,r:"fields",p:[17,104,627]}]}}]}]}," ",{p:[21,9,684],t:7,e:"i",v:{click:{n:"deleteDependency",d:[{t:2,r:"@key",p:[21,39,714]}]}},a:{"class":"fa fa-2x fa-times delete"}}," ",{p:[22,9,770],t:7,e:"div",a:{"class":"clearfix"}}]}],r:"dependencies",p:[2,5,43]}]}," ",{p:[27,1,834],t:7,e:"button",a:{style:"margin-left:20px;","class":"btn btn-default pull-right clearfix",type:"button"},v:{click:"addDependency"},f:[{p:[27,118,951],t:7,e:"i",a:{"class":"fa fa-plus"}}," Add condition"]}," ",{p:[29,1,1002],t:7,e:"div",a:{"class":"clearfix"}}]}},r={};e("select2");var i=e("rvc!components/form/select2"),s=e("rvc!components/form/select2label"),o=e("rvc!components/form/dependentFields");r.exports={debug:!0,isolated:!1,components:{select2:i,select2label:s,dependentFields:o}};if(typeof r.exports=="object")for(var u in r.exports)r.exports.hasOwnProperty(u)&&(n[u]=r.exports[u]);return t.extend(n)}),define("rvc!components/dfields",["require","ractive","rvc!components/form/select2","rvc!components/dependencies"],function(e,t){var n={template:{v:3,t:[{p:[1,1,0],t:7,e:"div",a:{"class":"dependent_fields"},f:[{p:[2,5,35],t:7,e:"ul",a:{"class":"dependent_parent dependent"},f:[{t:4,f:[{p:[4,9,101],t:7,e:"li",a:{"class":"field"},o:"sortable",f:[{p:[5,13,153],t:7,e:"div",a:{"class":"handle"},f:[{p:[5,33,173],t:7,e:"div"}]}," ",{p:[6,13,203],t:7,e:"h4",f:[{t:2,r:"name",p:[6,17,207]}]}," ",{p:[7,13,233],t:7,e:"p",f:["Should be shown if the following conditions are true:"]}," ",{p:[8,13,306],t:7,e:"dependencies",a:{dependencies:[{t:2,r:"dependencies",p:[8,41,334]}]}}," ",{p:[9,13,367],t:7,e:"i",v:{click:{n:"deleteDependentParent",d:[{t:2,r:"@key",p:[9,48,402]}]}},a:{"class":"fa fa-2x fa-trash delete"}}]}],r:"list",p:[3,9,83]}]}," ",{p:[13,5,496],t:7,e:"div",a:{"class":"addParentField material-box col-md-12"},f:[{t:4,f:[{p:[15,13,592],t:7,e:"div",a:{"class":"col-md-3"},f:["Add a new conditional field:"]}," ",{p:[18,13,691],t:7,e:"div",a:{"class":"col-md-4"},f:[{p:[19,17,730],t:7,e:"select2",a:{selected:[{t:2,r:"fieldToAdd",p:[19,36,749]}],options:[{t:2,r:"remainingFields",p:[19,61,774]}]}}]}," ",{p:[21,13,828],t:7,e:"div",a:{"class":"col-md-2"},f:[{p:[22,17,867],t:7,e:"button",v:{click:{n:"addDependentParent",d:[{t:2,r:"fieldToAdd",p:[22,54,904]}]}},a:{type:"button","class":"btn btn-primary"},f:[{p:[22,108,958],t:7,e:"i",a:{"class":"fa fa-plus"}}," Add Field"]}]}],n:50,r:"remainingFields",p:[14,9,556]}," ",{t:4,f:[{p:[26,13,1087],t:7,e:"div",a:{"class":"col-md-12"},f:[{p:[27,17,1127],t:7,e:"div",a:{"class":"alert alert-info",role:"alert"},f:["No more fields available! You can add more fields in the form builder tab, or add more conditions to your existing conditional fields."]}]}],n:51,r:"remainingFields",p:[25,9,1047]}]}]}]}},r={},i=e("rvc!components/form/select2"),s=e("rvc!components/dependencies");r.exports={debug:!0,data:function(){return{list:[],conditions:[{label:"Equals the following value(s)",value:"values"},{label:"Does not equal the following value(s)",value:"not"},{label:"Includes all of the following value(s)",value:"contains"},{label:"Includes at least one of the following value(s)",value:"oneof"},{label:"Matches the following regular expression",value:"match"}],fields:{},fieldToAdd:null,initialized:!1}},computed:{fieldList:function(){return _.keys(this.get("fields"))},fieldListDependencies:function(){var e=[];return $.each(this.get("fields"),function(t,n){if(n.type=="paragraphtext"||n.type=="heading"||n.type=="upload"||n.type=="newsletter")return;e.push(t)}),e},remainingFields:function(){var e=this.get("fieldList"),t=_.map(this.get("list"),function(e){return e.name}),n=_.difference(e,t);return n}},components:{dependencies:s,select2:i},oninit:function(){var e=this;this.observe("remainingFields",function(e,t,n){this.set("fieldToAdd",this.get("remainingFields")[0])}),this.observe("list.*.dependencies.*.field",function(e,t,n){if(typeof e=="undefined")return;var r=this.get(n.substr(0,n.length-6));if(typeof r.field!="undefined"){r.fieldType=this.get("fields")[r.field].type;if(r.fieldType=="dropdown"||r.fieldType=="radios")if(typeof r.value=="undefined"||!r.value||r.value.toString()==="")r.value=this.get("fields")[r.field].options[0]}}),this.on("dependencies.addDependency",function(e){var t=e.component.get("dependencies");t.push({field:this.get("fieldListDependencies")[0],condition:"values",value:[]})}),this.on("dependencies.deleteDependency",function(e,t){e.component.get("dependencies").splice(t,1)}),this.on("deleteDependentParent",function(e,t){this.get("list").splice(t,1)}),this.on("addDependentParent",function(e,t){if(!t)return;this.get("list").push({name:t,dependencies:[]})})},onrender:function(){var e=this;e.setFormData(formcontents).then(e.set("list",DfieldsJson)),setTimeout(function(){e.updateFieldsFromBuilder()},300),this.observe("list",function(){setTimeout(function(){updateDfieldInput(JSON.stringify(e.get("list")))},10)})},updateFieldsFromBuilder:function(){var e=app.builder.collection;this.setFormData(e,!1)},setFormData:function(e){var n=this;return new t.Promise(function(t,r){var i=e;typeof e.models!="undefined"&&(i=e.models);var s=_.mapObject(i,function(e){var t=e.attributes;typeof t=="undefined"&&(t=e);var n=t.fields;return typeof n=="undefined"?"":(n.title=t.title,t.fields)});delete s[0],s=_.mapObject(s,function(e){var t,n,r;typeof e.id!="undefined"?t=e.id.value:typeof e.name!="undefined"&&(t=e.name.value);switch(e.title){case"Text Input":case"Text Area":case"Prepended Checkbox":case"Appended Checkbox":case"Prepended Text":case"Appended Text":case"Date & time":case"Date range":case"Time":r="text",n="";break;case"Multiple Checkboxes Inline":case"Multiple Checkboxes":r="checkboxes",n=_.values(e.checkboxes.value);break;case"Multiple Radios":case"Multiple Radios Inline":r="radios",n=_.values(e.radios.value);break;case"Select Basic":r="dropdown",n=_.values(e.options.value);break;case"Select Multiple":r="multiple",n=_.values(e.options.value);break;case"Paragraph text":r="paragraphtext",n="";break;case"Heading":r="heading",n="";break;case"Newsletter":r="newsletter",n="";break;case"Upload":r="upload",n="";break;default:return!1}return[t,{options:n,type:r}]});var o={};_.each(s,function(e){e[0]&&(o[e[0]]=e[1])});var u=n.set("fields",o).then(n.cleanFields()).then(n.cleanDependencies()).then(function(){n.set("initialized",!0),t()})})},cleanFields:function(){var e=this;return new t.Promise(function(t,n){var r=_.filter(e.get("list"),function(t){var n=_.find(e.get("fieldList"),function(e){return t.name==e});return typeof n=="undefined"?!1:t});e.set("list",r).then(t())})},cleanDependencies:function(){var e=this;return new t.Promise(function(t,n){var r=e.get("list");_.each(e.get("list"),function(t,n){_.each(t.dependencies,function(t,r){var i=_.find(e.get("fields"),function(e,n){return n==t.field});typeof i=="undefined"&&e.get("list")[n].dependencies.splice(r,1)})}),setTimeout(function(){t()},10)})}};if(typeof r.exports=="object")for(var o in r.exports)r.exports.hasOwnProperty(o)&&(n[o]=r.exports[o]);return t.extend(n)}),function(e,t){"use strict";if(typeof module!="undefined"&&module.exports&&typeof require=="function")t(require("ractive"),require("jquery"));else if(typeof define=="function"&&define.amd)define("decorators/RactiveSelect2",["ractive","jquery"],t);else{if(!e.Ractive||!e.jQuery)throw new Error("Could not find Ractive or jQuery! They must be loaded before the ractive-decorators-select2 plugin");t(e.Ractive,e.jQuery)}}(typeof window!="undefined"?window:this,function(e,t){"use strict";var n;n=function(e,r){var i=e._ractive.root,s=!1,o,u={theme:"bootstrap"};if(r){if(!n.type.hasOwnProperty(r))throw new Error('Ractive Select2 type "'+r+'" is not defined!');u=n.type[r],typeof u=="function"&&(u=u.call(this,e))}return e._ractive.binding&&(o=i.observe(e._ractive.binding.keypath.str,function(n){s||(s=!0,window.setTimeout(function(){n===""&&t(e).select2(u).select2("val",""),t(e).change(),s=!1},0))})),e._ractive.binding&&(o=i.observe("options",function(){t(e).data("select2")!==undefined&&window.setTimeout(function(){if(t(e).data("select2")===undefined)return;t(e).select2("destroy"),t(e).select2(u).select2("val","")},0)})),e._ractive.binding&&(o=i.observe("multiple",function(){t(e).data("select2")!==undefined&&window.setTimeout(function(){if(t(e).data("select2")===undefined)return;t(e).select2("destroy"),t(e).select2(u).select2("val","")},0)})),t(e).select2(u).on("change",function(){s||(s=!0,i.updateModel(),s=!1)}),{teardown:function(){t(e).select2("destroy"),o&&o.cancel()}}},n.type={},e.decorators.select2=n}),function(e,t){typeof exports=="object"&&typeof module!="undefined"?module.exports=t():typeof define=="function"&&define.amd?define("decorators/RactiveSortable",t):e.Ractive.decorators.sortable=t()}(this,function(){"use strict";var e,t,n,r,i,s,o,u,a=function(t){return t.draggable=!0,t.addEventListener("dragstart",i,!1),t.addEventListener("dragenter",s,!1),t.addEventListener("dragleave",o,!1),t.addEventListener("drop",o,!1),t.addEventListener("dragover",u,!1),{teardown:function(){t.removeEventListener("dragstart",i,!1),t.removeEventListener("dragenter",s,!1),t.removeEventListener("dragleave",o,!1),t.removeEventListener("drop",o,!1),t.removeEventListener("dragover",u,!1)}}};a.targetClass="droptarget";var f="The sortable decorator only works with elements that correspond to array members";i=function(i){i.stopPropagation();var s=this._ractive,o;t=s.keypath.str,o=t.lastIndexOf(".");if(o===-1)throw new Error(f);n=t.substr(0,o),r=+t.substring(o+1);if(isNaN(r))throw new Error(f);i.dataTransfer.setData("foo",!0),e=s.root},s=function(){var t,i,s,o,u,l;if(this._ractive.root!==e)return;t=this._ractive.keypath.str,i=t.lastIndexOf(".");if(i===-1)throw new Error(f);s=t.substr(0,i),o=+t.substring(i+1);if(s!==n)return;if(o===r){this.classList.add(a.targetClass);return}u=e.get(n),l=u.splice(r,1)[0],r=o,u.splice(r,0,l)},o=function(){this.classList.remove(a.targetClass)},u=function(e){e.preventDefault()};var l=a;return l}),require.config({paths:{ractive:"lib/ractive-legacy",jquery:"../bower_components/jquery/dist/jquery.min",select2:"../bower_components/select2/dist/js/select2.full.min",rvc:"loaders/rvc"},name:"main",out:"../../dist/js/main.js",stubModules:["rvc"]}),require(["rvc!components/dependencies","rvc!components/dfields","rvc!components/form/dependentFields","rvc!components/form/select2","rvc!components/form/select2label","ractive","decorators/RactiveSelect2","decorators/RactiveSortable"],function(e,t,n,r,i,s,o,u){"use strict";s.decorators.sortable=u,s.decorators.sortable.targetClass="placeholder",window.dfields=new t({el:"dfields"})}),define("main",function(){});